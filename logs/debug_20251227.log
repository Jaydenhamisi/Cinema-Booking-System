{"timestamp": "2025-12-27T16:11:13.260494+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T16:11:13.260997+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T16:11:13.261362+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.261807+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.261993+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.262137+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.262280+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.262421+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.262576+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.263033+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.263273+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.263566+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.263757+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.263911+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.264086+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.264237+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.264407+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.264592+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.264889+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.265066+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.265378+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.265742+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.266049+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.266627+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.266969+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.267175+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.267406+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.267619+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.267763+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.267974+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.268353+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.268605+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.268880+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.269154+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.269408+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.269898+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.270316+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.270663+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.270894+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.271311+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.271776+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.272188+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.272498+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.272935+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.273281+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.273482+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.273663+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.273887+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.274030+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.274190+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.274446+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.274634+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.274901+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.275234+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.275753+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.276350+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.276843+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.277245+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.277674+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.278021+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:11:13.278274+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T16:11:13.278467+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T16:14:08.340213+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-27T16:16:09.317164+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T16:16:09.318530+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T16:16:09.318898+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.319242+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.319588+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.319903+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.320261+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.320572+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.320927+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.321246+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.321568+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.322413+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.323011+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.323405+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.323782+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.324322+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.324687+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.324992+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.325331+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.325574+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.325760+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.325979+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.326210+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.326573+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.327117+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.327532+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.328053+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.329195+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.329722+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.330128+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.330541+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.331005+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.331443+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.331823+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.332262+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.332586+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.332860+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.333106+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.333388+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.333661+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.333982+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.334463+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.334781+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.335056+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.335273+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.335474+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.335706+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.335951+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.336243+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.336586+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.337188+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.337574+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.337894+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.338291+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.338645+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.338896+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.339127+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.339338+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.339543+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.339729+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:16:09.339977+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T16:16:09.340214+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T16:16:20.934014+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "0676bc89-c67d-4595-abf7-3d5a11bc0f53"}
{"timestamp": "2025-12-27T16:16:20.935147+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "main", "message": "Root endpoint hit", "module": "main", "function": "root", "line": 96, "request_id": "0676bc89-c67d-4595-abf7-3d5a11bc0f53"}
{"timestamp": "2025-12-27T16:16:20.936069+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET / \u2192 200 (0.002s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "0676bc89-c67d-4595-abf7-3d5a11bc0f53"}
{"timestamp": "2025-12-27T16:25:59.479979+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-27T16:26:01.497507+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T16:26:01.497889+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T16:26:01.498071+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.498245+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.498506+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.498815+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.498996+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.499203+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.499365+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.499525+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.499684+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.499843+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.500002+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.500163+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.500322+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.500482+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.500662+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.500825+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.500984+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.501142+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.501301+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.501459+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.501617+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.501778+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.501922+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.502107+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.502285+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.502423+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.502613+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.502800+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.503001+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.503152+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.503349+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.503526+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.503706+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.503883+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.504095+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.504259+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.504401+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.504605+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.504773+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.504934+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.505117+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.505319+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.505469+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.505626+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.505740+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.505849+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.505959+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.506066+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.506175+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.506283+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.506392+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.506501+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.506611+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.506720+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.506827+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.506934+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.507042+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.507149+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:26:01.507253+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T16:26:01.507375+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T16:29:17.951260+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "e56790c2-9cd1-475f-a081-830aeb7335f5"}
{"timestamp": "2025-12-27T16:29:18.079617+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.middleware", "message": "\u2717 POST /auth/register \u2192 FAILED (0.021s)", "module": "middleware", "function": "dispatch", "line": 83, "request_id": "e56790c2-9cd1-475f-a081-830aeb7335f5", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2522, in get_property\n    return self._props[key]\n           ~~~~~~~~~~~^^^^^\nKeyError: 'reservations'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\middleware.py\", line 57, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 124, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 110, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 390, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\router.py\", line 32, in register\n    user = auth_service.register_user(db, payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\service.py\", line 40, in register_user\n    existing = self.repo.get_user_by_email(db, payload.email)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\repository.py\", line 11, in get_user_by_email\n    db.query(UserCredential)\n    ~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2941, in query\n    return self._query_cls(entities, self, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 276, in __init__\n    self._set_entities(entities)\n    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 289, in _set_entities\n    coercions.expect(\n    ~~~~~~~~~~~~~~~~^\n        roles.ColumnsClauseRole,\n        ^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        post_inspect=True,\n        ^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\sql\\coercions.py\", line 388, in expect\n    insp._post_inspect\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 4259, in _do_configure_registries\n    mapper._post_configure_properties()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2418, in _post_configure_properties\n    prop.init()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\interfaces.py\", line 595, in init\n    self.do_init()\n    ~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 1660, in do_init\n    self._generate_backref()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 2144, in _generate_backref\n    self._add_reverse_property(self.back_populates)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 1591, in _add_reverse_property\n    other = self.mapper.get_property(key, _configure_mappers=False)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2524, in get_property\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    ) from err\nsqlalchemy.exc.InvalidRequestError: Mapper 'Mapper[Showtime(showtimes)]' has no property 'reservations'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called."}
{"timestamp": "2025-12-27T16:34:17.787220+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-27T16:34:19.727923+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T16:34:19.728241+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T16:34:19.728369+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.728578+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.728927+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.729193+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.729452+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.729694+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.729881+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.730081+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.730310+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.730536+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.730899+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.731311+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.731732+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.732104+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.732463+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.732809+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.733218+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.733658+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.734074+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.734446+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.734760+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.735056+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.735403+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.735597+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.735864+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.736172+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.736473+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.736621+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.736736+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.736912+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.737090+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.737393+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.737598+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.737857+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.738140+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.738328+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.738463+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.738590+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.738710+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.738835+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.738954+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.739099+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.739287+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.739417+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.739591+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.739854+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.740052+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.740321+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.740639+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.740892+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.741154+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.741441+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.741736+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.743227+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.743622+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.743832+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.744193+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.744492+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:34:19.746894+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T16:34:19.747467+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T16:34:34.027274+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "6c84ccb4-5fb1-4d9d-b16f-965093250dab"}
{"timestamp": "2025-12-27T16:34:34.072668+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.middleware", "message": "\u2717 POST /auth/register \u2192 FAILED (0.017s)", "module": "middleware", "function": "dispatch", "line": 83, "request_id": "6c84ccb4-5fb1-4d9d-b16f-965093250dab", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\middleware.py\", line 57, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 124, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 110, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 390, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\router.py\", line 32, in register\n    user = auth_service.register_user(db, payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\service.py\", line 40, in register_user\n    existing = self.repo.get_user_by_email(db, payload.email)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\repository.py\", line 11, in get_user_by_email\n    db.query(UserCredential)\n    ~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2941, in query\n    return self._query_cls(entities, self, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 276, in __init__\n    self._set_entities(entities)\n    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 289, in _set_entities\n    coercions.expect(\n    ~~~~~~~~~~~~~~~~^\n        roles.ColumnsClauseRole,\n        ^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        post_inspect=True,\n        ^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\sql\\coercions.py\", line 388, in expect\n    insp._post_inspect\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 4259, in _do_configure_registries\n    mapper._post_configure_properties()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2418, in _post_configure_properties\n    prop.init()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\interfaces.py\", line 595, in init\n    self.do_init()\n    ~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 1655, in do_init\n    self._setup_entity()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 1880, in _setup_entity\n    entity = inspect(resolved_argument)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\inspection.py\", line 140, in inspect\n    ret = reg(subject)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\base.py\", line 430, in _inspect_mapped_object\n    return instance_state(instance)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\clsregistry.py\", line 350, in __getattr__\n    raise NameError(\n    ...<2 lines>...\n    )\nNameError: Module 'reservation' has no mapped classes registered under the name '_sa_instance_state'"}
{"timestamp": "2025-12-27T16:44:54.264102+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-27T16:45:00.802744+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T16:45:00.803373+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T16:45:00.803846+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.804467+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.805022+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.805378+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.806042+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.806435+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.807466+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.808001+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.808431+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.808902+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.810429+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.811277+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.811941+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.812759+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.813759+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.814490+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.815186+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.816228+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.816741+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.817317+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.817969+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.818460+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.818925+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.819415+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.820120+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.820886+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.821334+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.821761+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.822455+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.823047+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.823491+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.824109+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.824867+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.825388+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.826165+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.827584+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.828302+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.828794+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.829605+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.830095+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.830571+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.831919+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.832788+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.833446+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.834032+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.834743+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.835433+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.836184+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.836587+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.836993+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.837389+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.837886+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.838366+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.838999+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.839519+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.839934+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.841041+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.841847+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:45:00.842429+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T16:45:00.842830+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T16:45:16.181734+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "e1068fbf-afe1-4216-afd7-8975f8a9ce3a"}
{"timestamp": "2025-12-27T16:45:16.218422+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.middleware", "message": "\u2717 POST /auth/register \u2192 FAILED (0.017s)", "module": "middleware", "function": "dispatch", "line": 83, "request_id": "e1068fbf-afe1-4216-afd7-8975f8a9ce3a", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\middleware.py\", line 57, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 124, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 110, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 390, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\router.py\", line 32, in register\n    user = auth_service.register_user(db, payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\service.py\", line 40, in register_user\n    existing = self.repo.get_user_by_email(db, payload.email)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\repository.py\", line 11, in get_user_by_email\n    db.query(UserCredential)\n    ~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2941, in query\n    return self._query_cls(entities, self, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 276, in __init__\n    self._set_entities(entities)\n    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 289, in _set_entities\n    coercions.expect(\n    ~~~~~~~~~~~~~~~~^\n        roles.ColumnsClauseRole,\n        ^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        post_inspect=True,\n        ^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\sql\\coercions.py\", line 388, in expect\n    insp._post_inspect\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 4259, in _do_configure_registries\n    mapper._post_configure_properties()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2418, in _post_configure_properties\n    prop.init()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\interfaces.py\", line 595, in init\n    self.do_init()\n    ~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 1655, in do_init\n    self._setup_entity()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 1880, in _setup_entity\n    entity = inspect(resolved_argument)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\inspection.py\", line 140, in inspect\n    ret = reg(subject)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\base.py\", line 430, in _inspect_mapped_object\n    return instance_state(instance)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\clsregistry.py\", line 350, in __getattr__\n    raise NameError(\n    ...<2 lines>...\n    )\nNameError: Module 'reservation' has no mapped classes registered under the name '_sa_instance_state'"}
{"timestamp": "2025-12-27T16:51:06.544609+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-27T16:51:08.695393+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T16:51:08.695791+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T16:51:08.696012+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.696219+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.696441+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.696774+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.697055+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.697215+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.697378+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.697572+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.697738+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.697932+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.698106+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.698314+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.698507+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.698647+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.698764+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.698981+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.699288+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.699591+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.699866+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.700128+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.700309+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.700480+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.700873+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.701165+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.701348+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.701492+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.701653+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.701885+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.702140+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.702316+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.702457+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.702616+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.702797+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.702967+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.703128+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.703298+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.703458+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.703626+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.703783+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.703940+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.704096+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.704343+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.704732+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.704965+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.705135+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.705295+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.705507+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.705672+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.705789+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.705954+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.706155+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.706477+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.706708+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.706862+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.706985+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.707110+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.707296+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.707447+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:08.707587+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T16:51:08.707762+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T16:51:55.652343+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-27T16:51:57.658863+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T16:51:57.659194+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T16:51:57.659367+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.659517+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.659664+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.659816+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.659966+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.660113+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.660259+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.660410+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.660556+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.660715+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.660958+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.661228+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.661482+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.661691+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.661865+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.662009+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.662169+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.662422+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.662637+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.662801+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.663021+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.663174+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.663327+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.663446+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.663585+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.663894+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.664104+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.664384+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.664576+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.664852+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.665175+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.665423+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.665643+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.665836+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.666057+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.666236+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.666563+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.666847+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.666983+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.667100+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.667261+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.667464+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.667714+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.667974+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.668297+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.668497+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.668708+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.669071+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.669366+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.669549+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.669770+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.669946+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.670109+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.670242+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.670351+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.670468+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.670596+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.670710+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:51:57.670858+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T16:51:57.671111+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T16:52:14.665985+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-27T16:58:16.512774+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T16:58:16.513680+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T16:58:16.513859+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.513977+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.514112+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.514248+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.514396+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.514514+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.514661+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.514816+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.514958+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.515096+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.515234+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.515431+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.515573+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.515797+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.516068+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.516282+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.516422+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.516582+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.516748+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.516907+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.517059+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.517247+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.517491+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.517709+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.517918+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.518097+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.518250+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.518369+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.518477+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.518595+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.518712+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.518931+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.519117+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.519238+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.519355+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.519472+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.519586+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.519700+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.519843+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.520034+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.520175+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.520323+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.520492+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.520804+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.520976+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.521191+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.521311+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.521423+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.521543+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.521776+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.521941+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.522111+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.522318+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.522465+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.522577+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.522689+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.522828+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.523022+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T16:58:16.523207+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T16:58:16.523430+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T16:59:02.185127+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "7e0351f3-cbff-4aaf-a0ec-03c2ac5d019f"}
{"timestamp": "2025-12-27T16:59:02.224307+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.middleware", "message": "\u2717 POST /auth/register \u2192 FAILED (0.020s)", "module": "middleware", "function": "dispatch", "line": 83, "request_id": "7e0351f3-cbff-4aaf-a0ec-03c2ac5d019f", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\middleware.py\", line 57, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 124, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 110, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 390, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\router.py\", line 32, in register\n    user = auth_service.register_user(db, payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\service.py\", line 40, in register_user\n    existing = self.repo.get_user_by_email(db, payload.email)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\repository.py\", line 11, in get_user_by_email\n    db.query(UserCredential)\n    ~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2941, in query\n    return self._query_cls(entities, self, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 276, in __init__\n    self._set_entities(entities)\n    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 289, in _set_entities\n    coercions.expect(\n    ~~~~~~~~~~~~~~~~^\n        roles.ColumnsClauseRole,\n        ^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        post_inspect=True,\n        ^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\sql\\coercions.py\", line 388, in expect\n    insp._post_inspect\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 4259, in _do_configure_registries\n    mapper._post_configure_properties()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2418, in _post_configure_properties\n    prop.init()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\interfaces.py\", line 595, in init\n    self.do_init()\n    ~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 1655, in do_init\n    self._setup_entity()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 1880, in _setup_entity\n    entity = inspect(resolved_argument)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\inspection.py\", line 140, in inspect\n    ret = reg(subject)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\base.py\", line 430, in _inspect_mapped_object\n    return instance_state(instance)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\clsregistry.py\", line 350, in __getattr__\n    raise NameError(\n    ...<2 lines>...\n    )\nNameError: Module 'reservation' has no mapped classes registered under the name '_sa_instance_state'"}
{"timestamp": "2025-12-27T17:02:21.315917+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-27T17:02:23.196212+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T17:02:23.196650+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T17:02:23.196897+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.197136+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.197306+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.197454+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.197601+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.197755+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.197904+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.198081+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.198321+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.198650+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.198877+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.199055+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.199205+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.199343+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.199497+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.199635+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.199784+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.199972+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.200144+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.200369+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.200526+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.200664+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.200840+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.201144+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.201407+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.201615+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.201798+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.201970+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.202120+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.202259+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.202406+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.202522+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.202634+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.202765+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.202888+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.203000+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.203169+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.203287+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.203404+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.203518+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.203642+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.203880+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.204069+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.204249+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.204404+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.204581+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.204729+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.204896+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.205228+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.205416+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.205626+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.206133+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.206465+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.206615+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.206745+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.206892+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.207150+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.207386+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:02:23.207551+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T17:02:23.207863+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T17:02:39.145297+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "654ca670-ad90-45ba-b125-17e17859c2c7"}
{"timestamp": "2025-12-27T17:02:39.175853+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.middleware", "message": "\u2717 POST /auth/register \u2192 FAILED (0.016s)", "module": "middleware", "function": "dispatch", "line": 83, "request_id": "654ca670-ad90-45ba-b125-17e17859c2c7", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\middleware.py\", line 57, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 124, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 110, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 390, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\router.py\", line 32, in register\n    user = auth_service.register_user(db, payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\service.py\", line 40, in register_user\n    existing = self.repo.get_user_by_email(db, payload.email)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\repository.py\", line 11, in get_user_by_email\n    db.query(UserCredential)\n    ~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2941, in query\n    return self._query_cls(entities, self, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 276, in __init__\n    self._set_entities(entities)\n    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 289, in _set_entities\n    coercions.expect(\n    ~~~~~~~~~~~~~~~~^\n        roles.ColumnsClauseRole,\n        ^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        post_inspect=True,\n        ^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\sql\\coercions.py\", line 388, in expect\n    insp._post_inspect\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 4259, in _do_configure_registries\n    mapper._post_configure_properties()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2418, in _post_configure_properties\n    prop.init()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\interfaces.py\", line 595, in init\n    self.do_init()\n    ~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 1655, in do_init\n    self._setup_entity()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 1880, in _setup_entity\n    entity = inspect(resolved_argument)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\inspection.py\", line 140, in inspect\n    ret = reg(subject)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\base.py\", line 430, in _inspect_mapped_object\n    return instance_state(instance)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\clsregistry.py\", line 350, in __getattr__\n    raise NameError(\n    ...<2 lines>...\n    )\nNameError: Module 'reservation' has no mapped classes registered under the name '_sa_instance_state'"}
{"timestamp": "2025-12-27T17:04:55.332149+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-27T17:04:57.365155+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T17:04:57.365574+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T17:04:57.365861+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.366066+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.366218+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.366429+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.366706+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.367007+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.367157+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.367396+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.367672+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.367906+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.368070+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.368322+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.368495+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.368639+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.368805+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.369044+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.369226+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.369521+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.369708+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.369886+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.370249+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.370611+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.370932+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.371389+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.371965+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.372356+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.372743+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.373079+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.373366+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.373564+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.373880+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.374131+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.374286+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.374569+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.374904+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.375169+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.375351+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.375543+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.375911+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.376201+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.376594+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.376919+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.377236+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.377520+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.377852+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.378192+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.378420+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.378671+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.378898+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.379254+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.379475+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.379727+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.380156+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.380581+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.380874+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.381105+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.381395+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.381731+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:04:57.381992+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T17:04:57.382242+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T17:05:07.597074+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "211e011c-0a4a-4b16-8ecf-1306d3577d44"}
{"timestamp": "2025-12-27T17:05:07.631073+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.middleware", "message": "\u2717 POST /auth/register \u2192 FAILED (0.018s)", "module": "middleware", "function": "dispatch", "line": 83, "request_id": "211e011c-0a4a-4b16-8ecf-1306d3577d44", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\middleware.py\", line 57, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 124, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 110, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 390, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\router.py\", line 32, in register\n    user = auth_service.register_user(db, payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\service.py\", line 40, in register_user\n    existing = self.repo.get_user_by_email(db, payload.email)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\repository.py\", line 11, in get_user_by_email\n    db.query(UserCredential)\n    ~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2941, in query\n    return self._query_cls(entities, self, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 276, in __init__\n    self._set_entities(entities)\n    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 289, in _set_entities\n    coercions.expect(\n    ~~~~~~~~~~~~~~~~^\n        roles.ColumnsClauseRole,\n        ^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        post_inspect=True,\n        ^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\sql\\coercions.py\", line 388, in expect\n    insp._post_inspect\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 4259, in _do_configure_registries\n    mapper._post_configure_properties()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2418, in _post_configure_properties\n    prop.init()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\interfaces.py\", line 595, in init\n    self.do_init()\n    ~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 1655, in do_init\n    self._setup_entity()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 1880, in _setup_entity\n    entity = inspect(resolved_argument)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\inspection.py\", line 140, in inspect\n    ret = reg(subject)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\base.py\", line 430, in _inspect_mapped_object\n    return instance_state(instance)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\clsregistry.py\", line 350, in __getattr__\n    raise NameError(\n    ...<2 lines>...\n    )\nNameError: Module 'reservation' has no mapped classes registered under the name '_sa_instance_state'"}
{"timestamp": "2025-12-27T17:05:15.986365+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-27T17:05:50.262710+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T17:05:50.263063+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T17:05:50.263227+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.263405+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.263564+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.263719+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.263875+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.264030+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.264232+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.264510+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.264724+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.264919+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.265225+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.265472+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.265668+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.265808+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.265955+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.266115+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.266261+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.266518+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.266731+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.266894+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.267061+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.267240+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.267514+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.267720+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.267952+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.268117+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.268269+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.268429+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.268698+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.269000+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.269210+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.269423+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.269602+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.269739+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.269869+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.269996+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.270130+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.270259+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.270398+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.270527+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.270653+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.270778+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.270917+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.271123+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.271271+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.271401+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.271595+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.271862+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.272049+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.272263+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.272398+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.272526+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.272689+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.272928+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.273131+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.273266+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.273395+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.273556+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:05:50.273771+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T17:05:50.273947+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T17:06:15.847319+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "e4a894ac-b3b9-4a5a-aac6-b933a055d289"}
{"timestamp": "2025-12-27T17:06:15.877074+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.middleware", "message": "\u2717 POST /auth/register \u2192 FAILED (0.017s)", "module": "middleware", "function": "dispatch", "line": 83, "request_id": "e4a894ac-b3b9-4a5a-aac6-b933a055d289", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\middleware.py\", line 57, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 124, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 110, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 390, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\router.py\", line 32, in register\n    user = auth_service.register_user(db, payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\service.py\", line 40, in register_user\n    existing = self.repo.get_user_by_email(db, payload.email)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\repository.py\", line 11, in get_user_by_email\n    db.query(UserCredential)\n    ~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2941, in query\n    return self._query_cls(entities, self, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 276, in __init__\n    self._set_entities(entities)\n    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 289, in _set_entities\n    coercions.expect(\n    ~~~~~~~~~~~~~~~~^\n        roles.ColumnsClauseRole,\n        ^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        post_inspect=True,\n        ^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\sql\\coercions.py\", line 388, in expect\n    insp._post_inspect\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 4259, in _do_configure_registries\n    mapper._post_configure_properties()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2418, in _post_configure_properties\n    prop.init()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\interfaces.py\", line 595, in init\n    self.do_init()\n    ~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 1655, in do_init\n    self._setup_entity()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 1880, in _setup_entity\n    entity = inspect(resolved_argument)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\inspection.py\", line 140, in inspect\n    ret = reg(subject)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\base.py\", line 430, in _inspect_mapped_object\n    return instance_state(instance)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\clsregistry.py\", line 350, in __getattr__\n    raise NameError(\n    ...<2 lines>...\n    )\nNameError: Module 'reservation' has no mapped classes registered under the name '_sa_instance_state'"}
{"timestamp": "2025-12-27T17:07:47.992120+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-27T17:07:49.829274+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T17:07:49.829620+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T17:07:49.829779+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.829949+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.830188+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.830396+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.830672+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.830928+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.831137+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.831317+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.831532+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.831726+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.831906+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.832101+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.832275+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.832471+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.832647+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.832839+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.833096+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.833306+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.833476+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.833690+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.833928+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.834114+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.834303+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.834518+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.834732+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.834941+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.835196+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.835393+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.835638+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.835819+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.836071+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.836245+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.836385+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.836554+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.836749+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.837063+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.837439+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.837627+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.837859+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.838092+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.838321+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.838620+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.839036+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.839366+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.839725+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.840289+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.840749+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.841091+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.841420+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.841741+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.842000+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.842166+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.842366+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.842543+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.842805+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.843014+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.843168+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.843332+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:07:49.843493+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T17:07:49.843613+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T17:08:10.538879+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "aeb5f5fe-7147-4f91-ac0f-9bbc1b28728c"}
{"timestamp": "2025-12-27T17:08:10.567756+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.middleware", "message": "\u2717 POST /auth/register \u2192 FAILED (0.016s)", "module": "middleware", "function": "dispatch", "line": 83, "request_id": "aeb5f5fe-7147-4f91-ac0f-9bbc1b28728c", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\middleware.py\", line 57, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 124, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 110, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 390, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\router.py\", line 32, in register\n    user = auth_service.register_user(db, payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\service.py\", line 40, in register_user\n    existing = self.repo.get_user_by_email(db, payload.email)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\repository.py\", line 11, in get_user_by_email\n    db.query(UserCredential)\n    ~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2941, in query\n    return self._query_cls(entities, self, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 276, in __init__\n    self._set_entities(entities)\n    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 289, in _set_entities\n    coercions.expect(\n    ~~~~~~~~~~~~~~~~^\n        roles.ColumnsClauseRole,\n        ^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        post_inspect=True,\n        ^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\sql\\coercions.py\", line 388, in expect\n    insp._post_inspect\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 4259, in _do_configure_registries\n    mapper._post_configure_properties()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2418, in _post_configure_properties\n    prop.init()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\interfaces.py\", line 595, in init\n    self.do_init()\n    ~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 1655, in do_init\n    self._setup_entity()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 1880, in _setup_entity\n    entity = inspect(resolved_argument)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\inspection.py\", line 140, in inspect\n    ret = reg(subject)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\base.py\", line 430, in _inspect_mapped_object\n    return instance_state(instance)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\clsregistry.py\", line 350, in __getattr__\n    raise NameError(\n    ...<2 lines>...\n    )\nNameError: Module 'reservation' has no mapped classes registered under the name '_sa_instance_state'"}
{"timestamp": "2025-12-27T17:11:26.620761+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-27T17:11:28.773352+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T17:11:28.773802+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T17:11:28.774054+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.774256+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.774514+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.774757+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.774955+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.775142+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.775328+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.775517+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.775741+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.775982+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.776247+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.776584+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.776802+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.776976+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.777192+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.777481+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.777770+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.777999+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.778340+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.778745+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.779175+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.779608+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.779975+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.780391+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.780895+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.781352+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.781927+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.782325+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.782745+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.783255+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.783658+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.784067+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.784468+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.784800+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.785158+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.785631+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.786051+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.786332+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.786574+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.786809+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.787034+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.787497+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.787895+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.788314+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.788617+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.788890+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.789213+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.789514+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.789762+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.790026+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.790244+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.790480+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.790736+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.791063+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.791331+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.791673+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.792035+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.792322+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:11:28.792688+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T17:11:28.793116+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T17:12:10.260042+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "7dbd7b68-53dd-4dc8-afc6-5197573ba803"}
{"timestamp": "2025-12-27T17:12:10.297386+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.middleware", "message": "\u2717 POST /auth/register \u2192 FAILED (0.019s)", "module": "middleware", "function": "dispatch", "line": 83, "request_id": "7dbd7b68-53dd-4dc8-afc6-5197573ba803", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2522, in get_property\n    return self._props[key]\n           ~~~~~~~~~~~^^^^^\nKeyError: 'orders'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\middleware.py\", line 57, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 124, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 110, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 390, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\router.py\", line 32, in register\n    user = auth_service.register_user(db, payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\service.py\", line 40, in register_user\n    existing = self.repo.get_user_by_email(db, payload.email)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\repository.py\", line 11, in get_user_by_email\n    db.query(UserCredential)\n    ~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2941, in query\n    return self._query_cls(entities, self, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 276, in __init__\n    self._set_entities(entities)\n    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 289, in _set_entities\n    coercions.expect(\n    ~~~~~~~~~~~~~~~~^\n        roles.ColumnsClauseRole,\n        ^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        post_inspect=True,\n        ^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\sql\\coercions.py\", line 388, in expect\n    insp._post_inspect\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 4259, in _do_configure_registries\n    mapper._post_configure_properties()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2418, in _post_configure_properties\n    prop.init()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\interfaces.py\", line 595, in init\n    self.do_init()\n    ~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 1660, in do_init\n    self._generate_backref()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 2144, in _generate_backref\n    self._add_reverse_property(self.back_populates)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 1591, in _add_reverse_property\n    other = self.mapper.get_property(key, _configure_mappers=False)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2524, in get_property\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    ) from err\nsqlalchemy.exc.InvalidRequestError: Mapper 'Mapper[Reservation(reservations)]' has no property 'orders'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called."}
{"timestamp": "2025-12-27T17:12:53.985597+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-27T17:12:55.951185+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T17:12:55.951616+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T17:12:55.951855+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.952090+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.952249+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.952408+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.952629+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.952867+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.953193+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.953575+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.954002+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.954600+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.955059+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.955329+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.955597+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.955966+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.956322+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.956683+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.957065+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.957487+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.957870+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.958133+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.958377+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.958564+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.958781+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.959079+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.959388+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.959735+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.960033+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.960322+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.960732+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.961171+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.961561+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.961812+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.961988+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.962152+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.962391+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.962674+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.962983+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.963344+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.963586+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.963887+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.964198+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.964452+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.965023+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.965346+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.965782+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.966136+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.966542+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.967086+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.967495+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.967749+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.967987+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.968214+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.968492+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.968783+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.968984+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.969160+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.969333+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.969510+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:12:55.969689+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T17:12:55.969885+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T17:13:26.506152+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "47324cec-41c2-491d-b825-f3ae95ccd7fe"}
{"timestamp": "2025-12-27T17:13:26.539898+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.middleware", "message": "\u2717 POST /auth/register \u2192 FAILED (0.021s)", "module": "middleware", "function": "dispatch", "line": 83, "request_id": "47324cec-41c2-491d-b825-f3ae95ccd7fe", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2522, in get_property\n    return self._props[key]\n           ~~~~~~~~~~~^^^^^\nKeyError: 'payment_attempts'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\middleware.py\", line 57, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 124, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 110, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 390, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\router.py\", line 32, in register\n    user = auth_service.register_user(db, payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\service.py\", line 40, in register_user\n    existing = self.repo.get_user_by_email(db, payload.email)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\auth\\repository.py\", line 11, in get_user_by_email\n    db.query(UserCredential)\n    ~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2941, in query\n    return self._query_cls(entities, self, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 276, in __init__\n    self._set_entities(entities)\n    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 289, in _set_entities\n    coercions.expect(\n    ~~~~~~~~~~~~~~~~^\n        roles.ColumnsClauseRole,\n        ^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        post_inspect=True,\n        ^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\sql\\coercions.py\", line 388, in expect\n    insp._post_inspect\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 4259, in _do_configure_registries\n    mapper._post_configure_properties()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2418, in _post_configure_properties\n    prop.init()\n    ~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\interfaces.py\", line 595, in init\n    self.do_init()\n    ~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 1660, in do_init\n    self._generate_backref()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 2144, in _generate_backref\n    self._add_reverse_property(self.back_populates)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py\", line 1591, in _add_reverse_property\n    other = self.mapper.get_property(key, _configure_mappers=False)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py\", line 2524, in get_property\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    ) from err\nsqlalchemy.exc.InvalidRequestError: Mapper 'Mapper[Order(orders)]' has no property 'payment_attempts'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called."}
{"timestamp": "2025-12-27T17:24:17.095617+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-27T17:24:19.025321+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T17:24:19.025670+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T17:24:19.025883+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.026168+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.026356+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.026506+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.026663+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.026817+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.026991+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.027249+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.027432+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.027610+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.027796+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.027981+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.028198+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.028374+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.028536+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.028697+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.028913+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.029176+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.029488+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.029717+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.029954+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.030281+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.030498+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.030748+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.030938+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.031101+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.031342+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.031498+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.031633+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.031769+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.031940+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.032113+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.032289+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.032440+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.032582+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.032778+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.032960+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.033122+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.033270+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.033431+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.033580+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.033747+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.033938+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.034077+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.034238+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.034362+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.034480+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.034606+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.034725+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.034891+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.035161+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.035359+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.035584+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.035812+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.036254+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.036539+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.036716+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.036945+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:24:19.037105+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T17:24:19.037266+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T17:26:08.407911+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-27T17:26:10.495202+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T17:26:10.495693+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T17:26:10.495949+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.496182+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.496389+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.496593+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.496783+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.497007+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.497233+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.497434+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.497648+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.497885+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.498186+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.498556+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.498816+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.499030+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.499284+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.499562+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.499838+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.500515+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.500887+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.501194+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.501475+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.501724+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.501965+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.502202+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.502443+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.502659+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.502851+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.503039+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.503235+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.503627+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.503873+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.504177+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.504452+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.504830+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.505210+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.505514+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.505782+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.506125+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.506461+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.506814+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.507153+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.507499+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.507841+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.508227+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.508557+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.508896+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.509517+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.509966+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.511043+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.511800+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.512151+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.512489+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.512874+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.513205+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.513424+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.513722+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.514005+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.514246+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:10.514459+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T17:26:10.514659+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T17:26:56.111776+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-27T17:26:58.052482+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T17:26:58.052808+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T17:26:58.052978+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.053174+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.053364+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.053550+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.053714+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.054173+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.054483+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.054671+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.054955+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.055313+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.055660+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.055959+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.056289+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.056552+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.056887+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.057218+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.057544+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.057787+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.057939+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.058120+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.058412+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.058624+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.058814+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.058994+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.059255+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.059437+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.059575+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.059703+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.059860+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.060048+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.060260+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.060567+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.060795+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.060975+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.061173+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.061467+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.061717+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.061962+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.062111+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.062305+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.062524+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.062679+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.062878+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.063068+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.063292+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.063426+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.063588+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.063731+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.063852+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.063968+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.064108+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.064233+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.064356+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.064472+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.064593+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.064710+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.064832+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.064951+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:26:58.065066+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T17:26:58.065181+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T17:30:08.124672+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-27T17:30:12.446543+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T17:30:12.446952+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T17:30:12.447178+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.447336+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.447480+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.447636+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.447829+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.448011+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.448284+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.448447+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.448607+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.448776+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.448995+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.449203+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.449367+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.449555+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.449758+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.449959+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.450222+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.450409+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.450594+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.451064+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.451396+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.451667+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.451821+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.452004+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.452185+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.452349+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.452496+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.452638+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.452778+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.452923+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.453062+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.453201+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.453339+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.453500+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.453659+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.453820+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.453962+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.454101+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.454251+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.454548+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.454748+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.454900+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.455074+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.455315+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.455546+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.455746+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.456006+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.456256+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.456445+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.456647+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.456955+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.457157+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.457416+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.457599+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.457750+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.457894+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.458064+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.458226+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:30:12.458483+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T17:30:12.458613+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T17:30:22.916843+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.114753+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.115204+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.119857+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.120118+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.125091+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.125340+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.127527+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.130781+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.131373+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00070s] {'email_1': 'test_1766856620.861242@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.143236+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "passlib.handlers.bcrypt", "message": "detected 'bcrypt' backend, version '4.0.1'", "module": "bcrypt", "function": "_load_backend_mixin", "line": 625, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.144028+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "passlib.handlers.bcrypt", "message": "'bcrypt' backend lacks $2$ support, enabling workaround", "module": "bcrypt", "function": "_finalize_backend_mixin", "line": 406, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.370415+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.370946+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00069s] {'email': 'test_1766856620.861242@example.com', 'hashed_password': '$2b$12$7SP30VTijKQQf1fTcuzW0.58TM/vd3uiSnOg88qaKgWXdS0yNOdk.', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.387264+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.395600+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.397424+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.397928+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00063s] {'pk_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.401348+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.429577+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.431355+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.431790+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00066s] {'user_id_1': 1, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.440489+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.440832+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'user_id': 1, 'name': None, 'email': 'test_1766856620.861242@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.449817+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.455277+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.456350+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.456756+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'pk_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.459579+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.461911+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.462487+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.3318s ago] {'email_1': 'test_1766856620.861242@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.712853+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.718817+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.802s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.720974+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "58b6f487-bb3b-4882-a2c2-a96f9e0ef38e"}
{"timestamp": "2025-12-27T17:30:23.723909+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "fe28a75a-c3e9-418d-87cb-54df8343d75e"}
{"timestamp": "2025-12-27T17:30:23.732431+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 422 (0.009s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "fe28a75a-c3e9-418d-87cb-54df8343d75e"}
{"timestamp": "2025-12-27T17:33:35.900150+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-27T17:33:37.804705+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T17:33:37.805086+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T17:33:37.805291+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.805504+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.805690+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.805894+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.806039+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.806180+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.806354+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.806508+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.806678+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.806815+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.806984+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.807153+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.807453+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.807652+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.807891+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.808159+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.808483+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.808689+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.808979+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.809257+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.809563+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.809888+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.810166+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.810380+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.810627+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.810829+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.811010+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.811192+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.811445+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.811616+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.811772+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.812019+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.812199+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.812449+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.812577+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.812724+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.812903+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.813178+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.813395+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.813627+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.813918+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.814175+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.814527+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.814825+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.815214+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.815630+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.816035+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.816679+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.817379+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.817856+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.818321+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.818825+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.819334+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.819772+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.820176+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.820450+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.820615+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.820975+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:33:37.821263+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T17:33:37.821872+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T17:33:51.741107+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:51.825198+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:51.825730+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:51.828612+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:51.829033+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:51.831334+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:51.831643+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:51.833855+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:51.836514+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:51.836989+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00061s] {'email_1': 'test_1766856829.686873@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:51.841146+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "passlib.handlers.bcrypt", "message": "detected 'bcrypt' backend, version '4.0.1'", "module": "bcrypt", "function": "_load_backend_mixin", "line": 625, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:51.842082+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "passlib.handlers.bcrypt", "message": "'bcrypt' backend lacks $2$ support, enabling workaround", "module": "bcrypt", "function": "_finalize_backend_mixin", "line": 406, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.067115+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.067547+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'email': 'test_1766856829.686873@example.com', 'hashed_password': '$2b$12$cYYWhWqA0askcxIN2pez3Oqn8/Ibhbd3g/Lp/P0Jc7wZOSZGg/aG6', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.070169+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.077558+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.079221+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.079621+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00060s] {'pk_1': 2}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.082348+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.117713+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.119316+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.119670+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'user_id_1': 2, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.123716+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.124220+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00066s] {'user_id': 2, 'name': None, 'email': 'test_1766856829.686873@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.127097+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.131638+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.132811+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.133166+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'pk_1': 2}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.135596+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.137443+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.137785+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.3015s ago] {'email_1': 'test_1766856829.686873@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.372267+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.375920+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.635s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.376928+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "0bf18ae4-c401-490c-96ea-feeda92263de"}
{"timestamp": "2025-12-27T17:33:52.379629+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "78262ff6-ddbb-41f7-8230-2d0310cb9801"}
{"timestamp": "2025-12-27T17:33:52.380394+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "line": 628, "request_id": "78262ff6-ddbb-41f7-8230-2d0310cb9801"}
{"timestamp": "2025-12-27T17:33:52.380576+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "line": 625, "request_id": "78262ff6-ddbb-41f7-8230-2d0310cb9801"}
{"timestamp": "2025-12-27T17:33:52.380717+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_data with data[9:45]", "module": "multipart", "function": "callback", "line": 625, "request_id": "78262ff6-ddbb-41f7-8230-2d0310cb9801"}
{"timestamp": "2025-12-27T17:33:52.380853+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "line": 628, "request_id": "78262ff6-ddbb-41f7-8230-2d0310cb9801"}
{"timestamp": "2025-12-27T17:33:52.381037+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "line": 628, "request_id": "78262ff6-ddbb-41f7-8230-2d0310cb9801"}
{"timestamp": "2025-12-27T17:33:52.381234+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_name with data[46:54]", "module": "multipart", "function": "callback", "line": 625, "request_id": "78262ff6-ddbb-41f7-8230-2d0310cb9801"}
{"timestamp": "2025-12-27T17:33:52.381469+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_data with data[55:73]", "module": "multipart", "function": "callback", "line": 625, "request_id": "78262ff6-ddbb-41f7-8230-2d0310cb9801"}
{"timestamp": "2025-12-27T17:33:52.381853+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "line": 628, "request_id": "78262ff6-ddbb-41f7-8230-2d0310cb9801"}
{"timestamp": "2025-12-27T17:33:52.382023+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "line": 628, "request_id": "78262ff6-ddbb-41f7-8230-2d0310cb9801"}
{"timestamp": "2025-12-27T17:33:52.385265+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "78262ff6-ddbb-41f7-8230-2d0310cb9801"}
{"timestamp": "2025-12-27T17:33:52.386217+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "78262ff6-ddbb-41f7-8230-2d0310cb9801"}
{"timestamp": "2025-12-27T17:33:52.386717+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.5503s ago] {'email_1': 'test_1766856829.686873@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "78262ff6-ddbb-41f7-8230-2d0310cb9801"}
{"timestamp": "2025-12-27T17:33:52.594599+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631, "request_id": "78262ff6-ddbb-41f7-8230-2d0310cb9801"}
{"timestamp": "2025-12-27T17:33:52.596059+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.216s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "78262ff6-ddbb-41f7-8230-2d0310cb9801"}
{"timestamp": "2025-12-27T17:33:52.596933+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "78262ff6-ddbb-41f7-8230-2d0310cb9801"}
{"timestamp": "2025-12-27T17:33:52.598251+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "e391c114-677e-4630-917e-6edb5fd589e2"}
{"timestamp": "2025-12-27T17:33:52.601375+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "e391c114-677e-4630-917e-6edb5fd589e2"}
{"timestamp": "2025-12-27T17:33:52.602708+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e391c114-677e-4630-917e-6edb5fd589e2"}
{"timestamp": "2025-12-27T17:33:52.603218+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00072s] {'pk_1': 2}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e391c114-677e-4630-917e-6edb5fd589e2"}
{"timestamp": "2025-12-27T17:33:52.606291+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e391c114-677e-4630-917e-6edb5fd589e2"}
{"timestamp": "2025-12-27T17:33:52.606752+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.4875s ago] {'user_id_1': 2, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e391c114-677e-4630-917e-6edb5fd589e2"}
{"timestamp": "2025-12-27T17:33:52.612859+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.015s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "e391c114-677e-4630-917e-6edb5fd589e2"}
{"timestamp": "2025-12-27T17:33:52.613908+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "e391c114-677e-4630-917e-6edb5fd589e2"}
{"timestamp": "2025-12-27T17:33:52.616400+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "16fd7248-2890-481a-9291-f19d3f4e7193"}
{"timestamp": "2025-12-27T17:33:52.619484+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 422 (0.003s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "16fd7248-2890-481a-9291-f19d3f4e7193"}
{"timestamp": "2025-12-27T17:35:07.706284+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-27T17:35:09.816150+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T17:35:09.816447+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T17:35:09.816578+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.816736+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.816932+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.817104+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.817358+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.817503+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.817700+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.817959+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.818146+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.818321+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.818528+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.818783+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.818953+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.819114+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.819278+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.819445+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.819599+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.819724+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.819836+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.819948+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.820061+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.820175+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.820289+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.820404+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.820594+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.820733+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.820985+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.821290+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.821534+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.821820+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.822142+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.822341+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.822539+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.822742+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.822900+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.823145+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.823278+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.823392+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.823503+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.823610+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.823762+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.823940+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.824059+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.824180+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.824294+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.824428+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.824611+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.824731+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.824861+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.825045+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.825171+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.825283+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.825393+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.825503+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.825610+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.825736+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.825887+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.826378+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:35:09.826746+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T17:35:09.827024+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T17:35:27.360964+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.417231+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.417628+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.420130+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.420403+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.422563+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.422813+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.424984+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.427529+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.427841+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'email_1': 'test_1766856925.31@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.430981+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "passlib.handlers.bcrypt", "message": "detected 'bcrypt' backend, version '4.0.1'", "module": "bcrypt", "function": "_load_backend_mixin", "line": 625, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.431241+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "passlib.handlers.bcrypt", "message": "'bcrypt' backend lacks $2$ support, enabling workaround", "module": "bcrypt", "function": "_finalize_backend_mixin", "line": 406, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.653725+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.654268+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00066s] {'email': 'test_1766856925.31@example.com', 'hashed_password': '$2b$12$n9it/R5ALdbo4cLnjaOcmuca98azAUDu18BWYMJAH5M.BMlExqZxi', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.656474+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.663582+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.665038+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.665560+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00062s] {'pk_1': 3}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.667889+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.684826+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.686580+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.687017+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00058s] {'user_id_1': 3, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.690881+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.691286+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'user_id': 3, 'name': None, 'email': 'test_1766856925.31@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.694362+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.699213+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.700490+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.700868+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'pk_1': 3}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.702953+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.704932+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.705346+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2779s ago] {'email_1': 'test_1766856925.31@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.917549+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.919185+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.558s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.920073+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "f5b42885-2358-407e-bc1f-6d50a6039d82"}
{"timestamp": "2025-12-27T17:35:27.922313+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "b12debfb-de22-405f-a5b3-25882eec339b"}
{"timestamp": "2025-12-27T17:35:27.923148+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "line": 628, "request_id": "b12debfb-de22-405f-a5b3-25882eec339b"}
{"timestamp": "2025-12-27T17:35:27.923561+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "line": 625, "request_id": "b12debfb-de22-405f-a5b3-25882eec339b"}
{"timestamp": "2025-12-27T17:35:27.923962+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_data with data[9:41]", "module": "multipart", "function": "callback", "line": 625, "request_id": "b12debfb-de22-405f-a5b3-25882eec339b"}
{"timestamp": "2025-12-27T17:35:27.924296+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "line": 628, "request_id": "b12debfb-de22-405f-a5b3-25882eec339b"}
{"timestamp": "2025-12-27T17:35:27.924842+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "line": 628, "request_id": "b12debfb-de22-405f-a5b3-25882eec339b"}
{"timestamp": "2025-12-27T17:35:27.925191+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_name with data[42:50]", "module": "multipart", "function": "callback", "line": 625, "request_id": "b12debfb-de22-405f-a5b3-25882eec339b"}
{"timestamp": "2025-12-27T17:35:27.925500+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_data with data[51:69]", "module": "multipart", "function": "callback", "line": 625, "request_id": "b12debfb-de22-405f-a5b3-25882eec339b"}
{"timestamp": "2025-12-27T17:35:27.926023+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "line": 628, "request_id": "b12debfb-de22-405f-a5b3-25882eec339b"}
{"timestamp": "2025-12-27T17:35:27.926268+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "line": 628, "request_id": "b12debfb-de22-405f-a5b3-25882eec339b"}
{"timestamp": "2025-12-27T17:35:27.928714+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b12debfb-de22-405f-a5b3-25882eec339b"}
{"timestamp": "2025-12-27T17:35:27.929401+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b12debfb-de22-405f-a5b3-25882eec339b"}
{"timestamp": "2025-12-27T17:35:27.929773+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.5024s ago] {'email_1': 'test_1766856925.31@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b12debfb-de22-405f-a5b3-25882eec339b"}
{"timestamp": "2025-12-27T17:35:28.135864+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631, "request_id": "b12debfb-de22-405f-a5b3-25882eec339b"}
{"timestamp": "2025-12-27T17:35:28.137413+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.215s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "b12debfb-de22-405f-a5b3-25882eec339b"}
{"timestamp": "2025-12-27T17:35:28.138280+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "b12debfb-de22-405f-a5b3-25882eec339b"}
{"timestamp": "2025-12-27T17:35:28.139574+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "b338b847-2ea9-4c3f-bcff-913f22be4b4a"}
{"timestamp": "2025-12-27T17:35:28.142314+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b338b847-2ea9-4c3f-bcff-913f22be4b4a"}
{"timestamp": "2025-12-27T17:35:28.143471+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b338b847-2ea9-4c3f-bcff-913f22be4b4a"}
{"timestamp": "2025-12-27T17:35:28.144032+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00068s] {'pk_1': 3}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b338b847-2ea9-4c3f-bcff-913f22be4b4a"}
{"timestamp": "2025-12-27T17:35:28.147402+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b338b847-2ea9-4c3f-bcff-913f22be4b4a"}
{"timestamp": "2025-12-27T17:35:28.147816+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.4614s ago] {'user_id_1': 3, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b338b847-2ea9-4c3f-bcff-913f22be4b4a"}
{"timestamp": "2025-12-27T17:35:28.150482+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.011s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "b338b847-2ea9-4c3f-bcff-913f22be4b4a"}
{"timestamp": "2025-12-27T17:35:28.151710+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "b338b847-2ea9-4c3f-bcff-913f22be4b4a"}
{"timestamp": "2025-12-27T17:35:28.153832+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "251c15c6-9622-4208-925f-deedabbdef19"}
{"timestamp": "2025-12-27T17:35:28.156878+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "251c15c6-9622-4208-925f-deedabbdef19"}
{"timestamp": "2025-12-27T17:35:28.158658+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "251c15c6-9622-4208-925f-deedabbdef19"}
{"timestamp": "2025-12-27T17:35:28.159109+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00061s] {'title_1': 'The Matrix Reloaded'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "251c15c6-9622-4208-925f-deedabbdef19"}
{"timestamp": "2025-12-27T17:35:28.170479+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO movies (title, description, duration_minutes, release_date, poster_url, trailer_url, is_active, age_rating) VALUES (%(title)s, %(description)s, %(duration_minutes)s, %(release_date)s, %(poster_url)s, %(trailer_url)s, %(is_active)s, %(age_rating)s) RETURNING movies.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "251c15c6-9622-4208-925f-deedabbdef19"}
{"timestamp": "2025-12-27T17:35:28.170826+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'title': 'The Matrix Reloaded', 'description': 'Test movie: The Matrix Reloaded', 'duration_minutes': 120, 'release_date': None, 'poster_url': None, 'trailer_url': None, 'is_active': True, 'age_rating': 'PG_13'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "251c15c6-9622-4208-925f-deedabbdef19"}
{"timestamp": "2025-12-27T17:35:28.175790+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "251c15c6-9622-4208-925f-deedabbdef19"}
{"timestamp": "2025-12-27T17:35:28.180542+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "251c15c6-9622-4208-925f-deedabbdef19"}
{"timestamp": "2025-12-27T17:35:28.181470+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "251c15c6-9622-4208-925f-deedabbdef19"}
{"timestamp": "2025-12-27T17:35:28.181774+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00043s] {'pk_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "251c15c6-9622-4208-925f-deedabbdef19"}
{"timestamp": "2025-12-27T17:35:28.184598+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631, "request_id": "251c15c6-9622-4208-925f-deedabbdef19"}
{"timestamp": "2025-12-27T17:35:28.186378+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 200 (0.033s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "251c15c6-9622-4208-925f-deedabbdef19"}
{"timestamp": "2025-12-27T17:35:28.187262+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "251c15c6-9622-4208-925f-deedabbdef19"}
{"timestamp": "2025-12-27T17:39:28.029545+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-27T17:39:29.972685+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T17:39:29.972972+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T17:39:29.973098+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.973232+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.973358+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.973510+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.973714+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.973898+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.974016+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.974133+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.974243+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.974350+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.974458+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.974567+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.974674+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.974781+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.974888+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.974994+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.975101+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.975342+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.975474+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.975582+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.975697+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.975804+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.975913+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.976023+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.976140+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.976350+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.976477+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.976588+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.976721+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.976871+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.977002+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.977116+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.977225+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.977333+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.977440+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.977548+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.977797+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.978057+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.978296+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.978577+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.978773+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.979009+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.979167+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.979317+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.979462+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.979578+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.979689+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.979799+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.979940+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.980103+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.980250+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.980393+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.980506+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.980616+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.980725+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.980867+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.980991+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.981113+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:39:29.981245+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T17:39:29.981451+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T17:39:44.247964+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.305277+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.305707+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.308104+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.308492+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.310615+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.311035+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.313399+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.315997+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.316518+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00072s] {'email_1': 'test_1766857182.19827@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.320062+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "passlib.handlers.bcrypt", "message": "detected 'bcrypt' backend, version '4.0.1'", "module": "bcrypt", "function": "_load_backend_mixin", "line": 625, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.320368+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "passlib.handlers.bcrypt", "message": "'bcrypt' backend lacks $2$ support, enabling workaround", "module": "bcrypt", "function": "_finalize_backend_mixin", "line": 406, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.542915+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.543284+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'email': 'test_1766857182.19827@example.com', 'hashed_password': '$2b$12$O0sVcNHEgi9TBsq6IyDItu5tQCQqAbbo9stKX4ZbDrMkEQ/3M95m6', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.546872+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.552516+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.553993+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.554423+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'pk_1': 4}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.556656+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.572339+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.573880+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.574446+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00073s] {'user_id_1': 4, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.578224+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.578512+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00042s] {'user_id': 4, 'name': None, 'email': 'test_1766857182.19827@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.581279+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.585685+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.586913+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.587260+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00058s] {'pk_1': 4}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.589550+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.591332+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.592010+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.276s ago] {'email_1': 'test_1766857182.19827@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.802668+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.804322+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.556s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.805322+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "69145afb-69f4-49f9-91aa-0884d77206eb"}
{"timestamp": "2025-12-27T17:39:44.807424+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "a7b34f57-1f58-4eb7-b90a-414d7e341efc"}
{"timestamp": "2025-12-27T17:39:44.808306+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "line": 628, "request_id": "a7b34f57-1f58-4eb7-b90a-414d7e341efc"}
{"timestamp": "2025-12-27T17:39:44.808638+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "line": 625, "request_id": "a7b34f57-1f58-4eb7-b90a-414d7e341efc"}
{"timestamp": "2025-12-27T17:39:44.808859+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_data with data[9:44]", "module": "multipart", "function": "callback", "line": 625, "request_id": "a7b34f57-1f58-4eb7-b90a-414d7e341efc"}
{"timestamp": "2025-12-27T17:39:44.809012+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "line": 628, "request_id": "a7b34f57-1f58-4eb7-b90a-414d7e341efc"}
{"timestamp": "2025-12-27T17:39:44.809156+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "line": 628, "request_id": "a7b34f57-1f58-4eb7-b90a-414d7e341efc"}
{"timestamp": "2025-12-27T17:39:44.809285+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_name with data[45:53]", "module": "multipart", "function": "callback", "line": 625, "request_id": "a7b34f57-1f58-4eb7-b90a-414d7e341efc"}
{"timestamp": "2025-12-27T17:39:44.809410+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_data with data[54:72]", "module": "multipart", "function": "callback", "line": 625, "request_id": "a7b34f57-1f58-4eb7-b90a-414d7e341efc"}
{"timestamp": "2025-12-27T17:39:44.809726+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "line": 628, "request_id": "a7b34f57-1f58-4eb7-b90a-414d7e341efc"}
{"timestamp": "2025-12-27T17:39:44.809862+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "line": 628, "request_id": "a7b34f57-1f58-4eb7-b90a-414d7e341efc"}
{"timestamp": "2025-12-27T17:39:44.812303+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a7b34f57-1f58-4eb7-b90a-414d7e341efc"}
{"timestamp": "2025-12-27T17:39:44.812933+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a7b34f57-1f58-4eb7-b90a-414d7e341efc"}
{"timestamp": "2025-12-27T17:39:44.813316+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.4976s ago] {'email_1': 'test_1766857182.19827@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a7b34f57-1f58-4eb7-b90a-414d7e341efc"}
{"timestamp": "2025-12-27T17:39:45.018399+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631, "request_id": "a7b34f57-1f58-4eb7-b90a-414d7e341efc"}
{"timestamp": "2025-12-27T17:39:45.019919+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.213s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "a7b34f57-1f58-4eb7-b90a-414d7e341efc"}
{"timestamp": "2025-12-27T17:39:45.020858+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "a7b34f57-1f58-4eb7-b90a-414d7e341efc"}
{"timestamp": "2025-12-27T17:39:45.022167+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "29bbe558-e8b5-4a8f-80ef-30bf569e9e70"}
{"timestamp": "2025-12-27T17:39:45.024639+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "29bbe558-e8b5-4a8f-80ef-30bf569e9e70"}
{"timestamp": "2025-12-27T17:39:45.025672+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "29bbe558-e8b5-4a8f-80ef-30bf569e9e70"}
{"timestamp": "2025-12-27T17:39:45.026176+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'pk_1': 4}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "29bbe558-e8b5-4a8f-80ef-30bf569e9e70"}
{"timestamp": "2025-12-27T17:39:45.029642+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "29bbe558-e8b5-4a8f-80ef-30bf569e9e70"}
{"timestamp": "2025-12-27T17:39:45.030059+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.4564s ago] {'user_id_1': 4, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "29bbe558-e8b5-4a8f-80ef-30bf569e9e70"}
{"timestamp": "2025-12-27T17:39:45.032685+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.011s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "29bbe558-e8b5-4a8f-80ef-30bf569e9e70"}
{"timestamp": "2025-12-27T17:39:45.033747+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "29bbe558-e8b5-4a8f-80ef-30bf569e9e70"}
{"timestamp": "2025-12-27T17:39:45.035623+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "f9778578-89a9-42c8-9f28-b7c4aff84e46"}
{"timestamp": "2025-12-27T17:39:45.038279+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f9778578-89a9-42c8-9f28-b7c4aff84e46"}
{"timestamp": "2025-12-27T17:39:45.039830+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9778578-89a9-42c8-9f28-b7c4aff84e46"}
{"timestamp": "2025-12-27T17:39:45.040512+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00065s] {'title_1': 'The Matrix Reloaded'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9778578-89a9-42c8-9f28-b7c4aff84e46"}
{"timestamp": "2025-12-27T17:39:45.045239+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "f9778578-89a9-42c8-9f28-b7c4aff84e46"}
{"timestamp": "2025-12-27T17:39:45.058462+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.middleware", "message": "\u2717 POST /movies/ \u2192 FAILED (0.011s)", "module": "middleware", "function": "dispatch", "line": 83, "request_id": "f9778578-89a9-42c8-9f28-b7c4aff84e46", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\middleware.py\", line 57, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 124, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 110, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 390, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\movie\\router.py\", line 34, in create_movie_route\n    return create_movie(db=db, data=payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\movie\\service.py\", line 27, in create_movie\n    raise ConflictError (\"Title already exists.\")\napp.core.errors.ConflictError: Title already exists."}
{"timestamp": "2025-12-27T17:42:10.546846+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-27T17:42:12.378538+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-27T17:42:12.378876+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-27T17:42:12.379021+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.379140+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.379257+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.379369+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.379541+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.379663+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.379782+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.379897+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.380053+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.380313+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.380640+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.380895+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.381093+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.381368+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.381609+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.381907+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.382321+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.382533+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.382694+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.382846+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.383024+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.383349+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.383643+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.383848+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.384147+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.384354+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.384527+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.384715+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.384889+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.385109+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.385298+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.385487+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.385638+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.385882+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.386128+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.386336+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.386622+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.386873+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.387094+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.387286+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.387475+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.387734+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.387942+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.388225+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.388459+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.388792+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.389119+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.389361+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.389641+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.389972+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.390421+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.390764+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.391050+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.391579+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.392021+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.392286+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.392471+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.392729+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-27T17:42:12.392918+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-27T17:42:12.393077+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-27T17:42:36.006597+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.050637+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.051071+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.053397+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.053784+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.056308+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.056774+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.059149+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.061874+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.062414+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'email_1': 'test_1766857353.954744@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.066122+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "passlib.handlers.bcrypt", "message": "detected 'bcrypt' backend, version '4.0.1'", "module": "bcrypt", "function": "_load_backend_mixin", "line": 625, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.066411+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "passlib.handlers.bcrypt", "message": "'bcrypt' backend lacks $2$ support, enabling workaround", "module": "bcrypt", "function": "_finalize_backend_mixin", "line": 406, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.287116+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.287516+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'email': 'test_1766857353.954744@example.com', 'hashed_password': '$2b$12$PQ/yvudarYJNctfu/lrBIuPQQ1Y61YM/x/FOqJ/Guoye9Q/CvOUWK', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.289837+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.297385+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.298830+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.299276+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00060s] {'pk_1': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.302052+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.337953+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.339336+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.339623+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'user_id_1': 5, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.343587+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.343885+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'user_id': 5, 'name': None, 'email': 'test_1766857353.954744@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.346499+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.351046+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.352036+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.352420+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'pk_1': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.354766+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.357119+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.357598+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2958s ago] {'email_1': 'test_1766857353.954744@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.568371+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.570034+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.564s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.570996+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "e3a218fc-eeca-4dcd-8772-c0c4d6453e1b"}
{"timestamp": "2025-12-27T17:42:36.572972+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "b2b7f3ab-991f-4d64-81fb-45c7f6d7b888"}
{"timestamp": "2025-12-27T17:42:36.573805+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "line": 628, "request_id": "b2b7f3ab-991f-4d64-81fb-45c7f6d7b888"}
{"timestamp": "2025-12-27T17:42:36.574132+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "line": 625, "request_id": "b2b7f3ab-991f-4d64-81fb-45c7f6d7b888"}
{"timestamp": "2025-12-27T17:42:36.574462+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_data with data[9:45]", "module": "multipart", "function": "callback", "line": 625, "request_id": "b2b7f3ab-991f-4d64-81fb-45c7f6d7b888"}
{"timestamp": "2025-12-27T17:42:36.574684+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "line": 628, "request_id": "b2b7f3ab-991f-4d64-81fb-45c7f6d7b888"}
{"timestamp": "2025-12-27T17:42:36.574900+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "line": 628, "request_id": "b2b7f3ab-991f-4d64-81fb-45c7f6d7b888"}
{"timestamp": "2025-12-27T17:42:36.575029+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_name with data[46:54]", "module": "multipart", "function": "callback", "line": 625, "request_id": "b2b7f3ab-991f-4d64-81fb-45c7f6d7b888"}
{"timestamp": "2025-12-27T17:42:36.575173+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_data with data[55:73]", "module": "multipart", "function": "callback", "line": 625, "request_id": "b2b7f3ab-991f-4d64-81fb-45c7f6d7b888"}
{"timestamp": "2025-12-27T17:42:36.575508+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "line": 628, "request_id": "b2b7f3ab-991f-4d64-81fb-45c7f6d7b888"}
{"timestamp": "2025-12-27T17:42:36.575650+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "python_multipart.multipart", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "line": 628, "request_id": "b2b7f3ab-991f-4d64-81fb-45c7f6d7b888"}
{"timestamp": "2025-12-27T17:42:36.578562+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b2b7f3ab-991f-4d64-81fb-45c7f6d7b888"}
{"timestamp": "2025-12-27T17:42:36.579182+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b2b7f3ab-991f-4d64-81fb-45c7f6d7b888"}
{"timestamp": "2025-12-27T17:42:36.579534+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.5179s ago] {'email_1': 'test_1766857353.954744@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b2b7f3ab-991f-4d64-81fb-45c7f6d7b888"}
{"timestamp": "2025-12-27T17:42:36.791892+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631, "request_id": "b2b7f3ab-991f-4d64-81fb-45c7f6d7b888"}
{"timestamp": "2025-12-27T17:42:36.793315+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.220s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "b2b7f3ab-991f-4d64-81fb-45c7f6d7b888"}
{"timestamp": "2025-12-27T17:42:36.794215+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "b2b7f3ab-991f-4d64-81fb-45c7f6d7b888"}
{"timestamp": "2025-12-27T17:42:36.795712+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "1804212c-038a-4df7-9807-0c6c8ce66253"}
{"timestamp": "2025-12-27T17:42:36.798473+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "1804212c-038a-4df7-9807-0c6c8ce66253"}
{"timestamp": "2025-12-27T17:42:36.799608+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1804212c-038a-4df7-9807-0c6c8ce66253"}
{"timestamp": "2025-12-27T17:42:36.800027+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'pk_1': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1804212c-038a-4df7-9807-0c6c8ce66253"}
{"timestamp": "2025-12-27T17:42:36.803393+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1804212c-038a-4df7-9807-0c6c8ce66253"}
{"timestamp": "2025-12-27T17:42:36.803881+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.4646s ago] {'user_id_1': 5, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1804212c-038a-4df7-9807-0c6c8ce66253"}
{"timestamp": "2025-12-27T17:42:36.806612+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.011s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "1804212c-038a-4df7-9807-0c6c8ce66253"}
{"timestamp": "2025-12-27T17:42:36.807597+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "1804212c-038a-4df7-9807-0c6c8ce66253"}
{"timestamp": "2025-12-27T17:42:36.809904+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "2fdd09b8-2b9e-4d73-b66b-17e5575f43ff"}
{"timestamp": "2025-12-27T17:42:36.812417+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "2fdd09b8-2b9e-4d73-b66b-17e5575f43ff"}
{"timestamp": "2025-12-27T17:42:36.813885+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2fdd09b8-2b9e-4d73-b66b-17e5575f43ff"}
{"timestamp": "2025-12-27T17:42:36.814178+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'title_1': 'The Matrix Reloaded 1766857356.808248'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2fdd09b8-2b9e-4d73-b66b-17e5575f43ff"}
{"timestamp": "2025-12-27T17:42:36.820459+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO movies (title, description, duration_minutes, release_date, poster_url, trailer_url, is_active, age_rating) VALUES (%(title)s, %(description)s, %(duration_minutes)s, %(release_date)s, %(poster_url)s, %(trailer_url)s, %(is_active)s, %(age_rating)s) RETURNING movies.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2fdd09b8-2b9e-4d73-b66b-17e5575f43ff"}
{"timestamp": "2025-12-27T17:42:36.820753+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'title': 'The Matrix Reloaded 1766857356.808248', 'description': 'Test movie: The Matrix Reloaded 1766857356.808248', 'duration_minutes': 120, 'release_date': None, 'poster_url': None, 'trailer_url': None, 'is_active': True, 'age_rating': 'PG_13'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2fdd09b8-2b9e-4d73-b66b-17e5575f43ff"}
{"timestamp": "2025-12-27T17:42:36.822611+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "2fdd09b8-2b9e-4d73-b66b-17e5575f43ff"}
{"timestamp": "2025-12-27T17:42:36.826440+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "2fdd09b8-2b9e-4d73-b66b-17e5575f43ff"}
{"timestamp": "2025-12-27T17:42:36.827706+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2fdd09b8-2b9e-4d73-b66b-17e5575f43ff"}
{"timestamp": "2025-12-27T17:42:36.828116+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00062s] {'pk_1': 2}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2fdd09b8-2b9e-4d73-b66b-17e5575f43ff"}
{"timestamp": "2025-12-27T17:42:36.830756+00:00", "level": "\u001b[36mDEBUG\u001b[0m", "logger": "asyncio", "message": "Using proactor: IocpProactor", "module": "proactor_events", "function": "__init__", "line": 631, "request_id": "2fdd09b8-2b9e-4d73-b66b-17e5575f43ff"}
{"timestamp": "2025-12-27T17:42:36.832339+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 200 (0.022s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "2fdd09b8-2b9e-4d73-b66b-17e5575f43ff"}
{"timestamp": "2025-12-27T17:42:36.833211+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "2fdd09b8-2b9e-4d73-b66b-17e5575f43ff"}
{"timestamp": "2025-12-28T14:54:18.093318+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
