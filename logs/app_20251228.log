{"timestamp": "2025-12-28T14:54:22.214437+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T14:54:22.214853+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T14:54:22.215394+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.215821+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.216020+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.216296+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.216527+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.216697+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.216857+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.217034+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.217269+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.217501+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.217704+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.217886+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.218123+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.218404+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.218629+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.218882+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.219276+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.219711+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.220054+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.220291+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.220522+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.220689+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.220897+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.221104+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.221293+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.221488+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.221691+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.221895+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.222075+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.222350+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.222579+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.222854+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.223113+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.223330+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.223563+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.223790+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.224105+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.224341+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.224571+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.224777+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.224905+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.225086+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.225341+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.225571+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.225802+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.226024+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.226272+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.226491+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.226683+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.226906+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.227107+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.227264+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.227468+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.227702+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.228021+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.233243+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.233733+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.234501+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:54:22.234825+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T14:54:22.235137+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T14:54:37.039289+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.157169+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.157763+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.160995+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.161331+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.164020+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.164288+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.166699+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.169897+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.170416+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00063s] {'email_1': 'test_1766933674.971298@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.407152+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.407588+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00060s] {'email': 'test_1766933674.971298@example.com', 'hashed_password': '$2b$12$NjI1f4p9ntkHKYl3/j2ZZuHtammV4S./OBNcuSb/U7FlTXVWsI0vC', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.412677+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.419653+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.420959+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.421257+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'pk_1': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.449922+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.451616+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.452050+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00064s] {'user_id_1': 6, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.457164+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.457684+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'user_id': 6, 'name': None, 'email': 'test_1766933674.971298@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.461673+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.465910+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.466993+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.467425+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'pk_1': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.469768+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.472140+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.472660+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.3029s ago] {'email_1': 'test_1766933674.971298@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.714910+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.676s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.715916+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "4631520f-ed90-42bf-b413-c829ec6a298f"}
{"timestamp": "2025-12-28T14:54:37.718212+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "00d7dffc-5dde-4bfe-b59b-779d19902fa0"}
{"timestamp": "2025-12-28T14:54:37.724263+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "00d7dffc-5dde-4bfe-b59b-779d19902fa0"}
{"timestamp": "2025-12-28T14:54:37.725010+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "00d7dffc-5dde-4bfe-b59b-779d19902fa0"}
{"timestamp": "2025-12-28T14:54:37.725480+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.5558s ago] {'email_1': 'test_1766933674.971298@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "00d7dffc-5dde-4bfe-b59b-779d19902fa0"}
{"timestamp": "2025-12-28T14:54:37.934773+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.217s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "00d7dffc-5dde-4bfe-b59b-779d19902fa0"}
{"timestamp": "2025-12-28T14:54:37.935644+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "00d7dffc-5dde-4bfe-b59b-779d19902fa0"}
{"timestamp": "2025-12-28T14:54:37.937034+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "10879b8f-0e94-4a13-9fc0-baf18afa43b4"}
{"timestamp": "2025-12-28T14:54:37.939980+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "10879b8f-0e94-4a13-9fc0-baf18afa43b4"}
{"timestamp": "2025-12-28T14:54:37.941323+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "10879b8f-0e94-4a13-9fc0-baf18afa43b4"}
{"timestamp": "2025-12-28T14:54:37.941823+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00073s] {'pk_1': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "10879b8f-0e94-4a13-9fc0-baf18afa43b4"}
{"timestamp": "2025-12-28T14:54:37.945398+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "10879b8f-0e94-4a13-9fc0-baf18afa43b4"}
{"timestamp": "2025-12-28T14:54:37.945822+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.4944s ago] {'user_id_1': 6, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "10879b8f-0e94-4a13-9fc0-baf18afa43b4"}
{"timestamp": "2025-12-28T14:54:37.951714+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.015s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "10879b8f-0e94-4a13-9fc0-baf18afa43b4"}
{"timestamp": "2025-12-28T14:54:37.952774+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "10879b8f-0e94-4a13-9fc0-baf18afa43b4"}
{"timestamp": "2025-12-28T14:54:37.955086+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "b63f95fb-a23e-44c2-88f6-c32a6f10593f"}
{"timestamp": "2025-12-28T14:54:37.958018+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b63f95fb-a23e-44c2-88f6-c32a6f10593f"}
{"timestamp": "2025-12-28T14:54:37.959418+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b63f95fb-a23e-44c2-88f6-c32a6f10593f"}
{"timestamp": "2025-12-28T14:54:37.959721+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'title_1': 'The Matrix Reloaded 1766933677.953164'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b63f95fb-a23e-44c2-88f6-c32a6f10593f"}
{"timestamp": "2025-12-28T14:54:37.963892+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO movies (title, description, duration_minutes, release_date, poster_url, trailer_url, is_active, age_rating) VALUES (%(title)s, %(description)s, %(duration_minutes)s, %(release_date)s, %(poster_url)s, %(trailer_url)s, %(is_active)s, %(age_rating)s) RETURNING movies.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b63f95fb-a23e-44c2-88f6-c32a6f10593f"}
{"timestamp": "2025-12-28T14:54:37.964526+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'title': 'The Matrix Reloaded 1766933677.953164', 'description': 'Test movie: The Matrix Reloaded 1766933677.953164', 'duration_minutes': 120, 'release_date': None, 'poster_url': None, 'trailer_url': None, 'is_active': True, 'age_rating': 'PG_13'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b63f95fb-a23e-44c2-88f6-c32a6f10593f"}
{"timestamp": "2025-12-28T14:54:37.967058+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "b63f95fb-a23e-44c2-88f6-c32a6f10593f"}
{"timestamp": "2025-12-28T14:54:37.971035+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b63f95fb-a23e-44c2-88f6-c32a6f10593f"}
{"timestamp": "2025-12-28T14:54:37.972067+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b63f95fb-a23e-44c2-88f6-c32a6f10593f"}
{"timestamp": "2025-12-28T14:54:37.972511+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'pk_1': 3}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b63f95fb-a23e-44c2-88f6-c32a6f10593f"}
{"timestamp": "2025-12-28T14:54:37.976735+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 200 (0.022s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "b63f95fb-a23e-44c2-88f6-c32a6f10593f"}
{"timestamp": "2025-12-28T14:54:37.977713+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "b63f95fb-a23e-44c2-88f6-c32a6f10593f"}
{"timestamp": "2025-12-28T14:54:37.979337+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/layouts", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "355eda34-17cf-4e49-b012-9fb76b4b1c3e"}
{"timestamp": "2025-12-28T14:54:37.982028+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "355eda34-17cf-4e49-b012-9fb76b4b1c3e"}
{"timestamp": "2025-12-28T14:54:37.983260+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.name = %(name_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "355eda34-17cf-4e49-b012-9fb76b4b1c3e"}
{"timestamp": "2025-12-28T14:54:37.983502+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'name_1': 'Standard Layout 1766933677.977726'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "355eda34-17cf-4e49-b012-9fb76b4b1c3e"}
{"timestamp": "2025-12-28T14:54:37.991331+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_layouts (name, rows, seats_per_row, grid) VALUES (%(name)s, %(rows)s, %(seats_per_row)s, %(grid)s::JSON) RETURNING seat_layouts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "355eda34-17cf-4e49-b012-9fb76b4b1c3e"}
{"timestamp": "2025-12-28T14:54:37.991672+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'name': 'Standard Layout 1766933677.977726', 'rows': 10, 'seats_per_row': 15, 'grid': 'null'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "355eda34-17cf-4e49-b012-9fb76b4b1c3e"}
{"timestamp": "2025-12-28T14:54:37.996737+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "355eda34-17cf-4e49-b012-9fb76b4b1c3e"}
{"timestamp": "2025-12-28T14:54:38.000898+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "355eda34-17cf-4e49-b012-9fb76b4b1c3e"}
{"timestamp": "2025-12-28T14:54:38.001705+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "355eda34-17cf-4e49-b012-9fb76b4b1c3e"}
{"timestamp": "2025-12-28T14:54:38.001959+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00036s] {'pk_1': 2}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "355eda34-17cf-4e49-b012-9fb76b4b1c3e"}
{"timestamp": "2025-12-28T14:54:38.006532+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/layouts \u2192 201 (0.027s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "355eda34-17cf-4e49-b012-9fb76b4b1c3e"}
{"timestamp": "2025-12-28T14:54:38.007317+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "355eda34-17cf-4e49-b012-9fb76b4b1c3e"}
{"timestamp": "2025-12-28T14:54:38.012160+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/screens", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "b2370c86-404e-4f6e-938c-cfbe5130e1ef"}
{"timestamp": "2025-12-28T14:54:38.015008+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b2370c86-404e-4f6e-938c-cfbe5130e1ef"}
{"timestamp": "2025-12-28T14:54:38.016175+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.name = %(name_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b2370c86-404e-4f6e-938c-cfbe5130e1ef"}
{"timestamp": "2025-12-28T14:54:38.016486+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'name_1': 'Screen 1 1766933678.007107', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b2370c86-404e-4f6e-938c-cfbe5130e1ef"}
{"timestamp": "2025-12-28T14:54:38.025186+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id AS seat_layouts_id, seat_layouts.name AS seat_layouts_name, seat_layouts.rows AS seat_layouts_rows, seat_layouts.seats_per_row AS seat_layouts_seats_per_row, seat_layouts.grid AS seat_layouts_grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b2370c86-404e-4f6e-938c-cfbe5130e1ef"}
{"timestamp": "2025-12-28T14:54:38.025724+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00062s] {'id_1': 2, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b2370c86-404e-4f6e-938c-cfbe5130e1ef"}
{"timestamp": "2025-12-28T14:54:38.028172+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO screens (name, capacity, seat_layout_id) VALUES (%(name)s, %(capacity)s, %(seat_layout_id)s) RETURNING screens.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b2370c86-404e-4f6e-938c-cfbe5130e1ef"}
{"timestamp": "2025-12-28T14:54:38.028498+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00058s] {'name': 'Screen 1 1766933678.007107', 'capacity': 150, 'seat_layout_id': 2}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b2370c86-404e-4f6e-938c-cfbe5130e1ef"}
{"timestamp": "2025-12-28T14:54:38.032899+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "b2370c86-404e-4f6e-938c-cfbe5130e1ef"}
{"timestamp": "2025-12-28T14:54:38.037180+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b2370c86-404e-4f6e-938c-cfbe5130e1ef"}
{"timestamp": "2025-12-28T14:54:38.038114+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id, screens.name, screens.capacity, screens.seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b2370c86-404e-4f6e-938c-cfbe5130e1ef"}
{"timestamp": "2025-12-28T14:54:38.038536+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'pk_1': 2}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b2370c86-404e-4f6e-938c-cfbe5130e1ef"}
{"timestamp": "2025-12-28T14:54:38.042661+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/screens \u2192 201 (0.031s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "b2370c86-404e-4f6e-938c-cfbe5130e1ef"}
{"timestamp": "2025-12-28T14:54:38.043556+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "b2370c86-404e-4f6e-938c-cfbe5130e1ef"}
{"timestamp": "2025-12-28T14:58:39.522984+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T14:58:41.938843+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T14:58:41.939525+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T14:58:41.940017+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.940399+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.940836+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.941218+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.941537+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.942021+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.942413+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.942772+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.943236+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.943710+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.944213+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.944562+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.944898+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.945248+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.945599+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.945944+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.946262+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.946577+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.947052+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.947363+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.947680+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.947980+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.948284+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.948686+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.949300+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.949879+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.950412+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.950837+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.951190+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.951636+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.952020+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.952375+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.952795+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.953172+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.953561+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.954001+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.954716+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.955126+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.955403+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.955759+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.956173+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.956543+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.956869+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.957208+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.957542+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.957871+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.958141+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.958517+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.958945+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.959226+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.959480+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.959740+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.960027+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.960311+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.960666+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.961003+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.961274+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.961482+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T14:58:41.961686+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T14:58:41.961884+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T14:58:48.464121+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.522909+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.523293+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.525744+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.526079+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.527996+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.528514+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.530618+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.533284+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.533714+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'email_1': 'test_1766933926.39662@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.759951+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.760400+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'email': 'test_1766933926.39662@example.com', 'hashed_password': '$2b$12$7BU1G.Yyh4Aw3HJA6PmBEOTRRda0G9oHCn6lIOIg/qfFvqAgAct.m', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.763640+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.768803+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.770119+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.770624+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'pk_1': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.797140+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.798749+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.799164+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'user_id_1': 7, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.803400+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.803965+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00067s] {'user_id': 7, 'name': None, 'email': 'test_1766933926.39662@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.806625+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.811396+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.812511+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.812843+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'pk_1': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.815006+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.817077+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:48.817744+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2845s ago] {'email_1': 'test_1766933926.39662@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:49.032440+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.568s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:49.033421+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "8ee94fbb-0a74-402b-81e1-3737ee055aec"}
{"timestamp": "2025-12-28T14:58:49.035412+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "18260b27-143a-4cb5-8f92-1e05635e48c7"}
{"timestamp": "2025-12-28T14:58:49.041712+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "18260b27-143a-4cb5-8f92-1e05635e48c7"}
{"timestamp": "2025-12-28T14:58:49.042453+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "18260b27-143a-4cb5-8f92-1e05635e48c7"}
{"timestamp": "2025-12-28T14:58:49.042755+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.5098s ago] {'email_1': 'test_1766933926.39662@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "18260b27-143a-4cb5-8f92-1e05635e48c7"}
{"timestamp": "2025-12-28T14:58:49.250247+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.215s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "18260b27-143a-4cb5-8f92-1e05635e48c7"}
{"timestamp": "2025-12-28T14:58:49.251140+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "18260b27-143a-4cb5-8f92-1e05635e48c7"}
{"timestamp": "2025-12-28T14:58:49.252386+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "8bbdc839-f3a1-4474-a376-dabd6947643d"}
{"timestamp": "2025-12-28T14:58:49.255281+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "8bbdc839-f3a1-4474-a376-dabd6947643d"}
{"timestamp": "2025-12-28T14:58:49.256873+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8bbdc839-f3a1-4474-a376-dabd6947643d"}
{"timestamp": "2025-12-28T14:58:49.257479+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00087s] {'pk_1': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8bbdc839-f3a1-4474-a376-dabd6947643d"}
{"timestamp": "2025-12-28T14:58:49.260587+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8bbdc839-f3a1-4474-a376-dabd6947643d"}
{"timestamp": "2025-12-28T14:58:49.260947+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.4624s ago] {'user_id_1': 7, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8bbdc839-f3a1-4474-a376-dabd6947643d"}
{"timestamp": "2025-12-28T14:58:49.264237+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.012s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "8bbdc839-f3a1-4474-a376-dabd6947643d"}
{"timestamp": "2025-12-28T14:58:49.265666+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "8bbdc839-f3a1-4474-a376-dabd6947643d"}
{"timestamp": "2025-12-28T14:58:49.267735+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "1539a32e-28c8-4471-bd14-b8805cde16a2"}
{"timestamp": "2025-12-28T14:58:49.271683+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "1539a32e-28c8-4471-bd14-b8805cde16a2"}
{"timestamp": "2025-12-28T14:58:49.273430+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1539a32e-28c8-4471-bd14-b8805cde16a2"}
{"timestamp": "2025-12-28T14:58:49.273800+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'title_1': 'The Matrix Reloaded 1766933929.265989'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1539a32e-28c8-4471-bd14-b8805cde16a2"}
{"timestamp": "2025-12-28T14:58:49.277322+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO movies (title, description, duration_minutes, release_date, poster_url, trailer_url, is_active, age_rating) VALUES (%(title)s, %(description)s, %(duration_minutes)s, %(release_date)s, %(poster_url)s, %(trailer_url)s, %(is_active)s, %(age_rating)s) RETURNING movies.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1539a32e-28c8-4471-bd14-b8805cde16a2"}
{"timestamp": "2025-12-28T14:58:49.277985+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00060s] {'title': 'The Matrix Reloaded 1766933929.265989', 'description': 'Test movie: The Matrix Reloaded 1766933929.265989', 'duration_minutes': 120, 'release_date': None, 'poster_url': None, 'trailer_url': None, 'is_active': True, 'age_rating': 'PG_13'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1539a32e-28c8-4471-bd14-b8805cde16a2"}
{"timestamp": "2025-12-28T14:58:49.280184+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "1539a32e-28c8-4471-bd14-b8805cde16a2"}
{"timestamp": "2025-12-28T14:58:49.285444+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "1539a32e-28c8-4471-bd14-b8805cde16a2"}
{"timestamp": "2025-12-28T14:58:49.286599+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1539a32e-28c8-4471-bd14-b8805cde16a2"}
{"timestamp": "2025-12-28T14:58:49.286909+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'pk_1': 4}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1539a32e-28c8-4471-bd14-b8805cde16a2"}
{"timestamp": "2025-12-28T14:58:49.290849+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 200 (0.023s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "1539a32e-28c8-4471-bd14-b8805cde16a2"}
{"timestamp": "2025-12-28T14:58:49.291780+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "1539a32e-28c8-4471-bd14-b8805cde16a2"}
{"timestamp": "2025-12-28T14:58:49.293529+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/layouts", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "b5e4a310-2147-4cc5-8f21-c5e9eae0ea86"}
{"timestamp": "2025-12-28T14:58:49.295962+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b5e4a310-2147-4cc5-8f21-c5e9eae0ea86"}
{"timestamp": "2025-12-28T14:58:49.297097+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.name = %(name_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b5e4a310-2147-4cc5-8f21-c5e9eae0ea86"}
{"timestamp": "2025-12-28T14:58:49.297550+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00041s] {'name_1': 'Standard Layout 1766933929.291877'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b5e4a310-2147-4cc5-8f21-c5e9eae0ea86"}
{"timestamp": "2025-12-28T14:58:49.301300+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_layouts (name, rows, seats_per_row, grid) VALUES (%(name)s, %(rows)s, %(seats_per_row)s, %(grid)s::JSON) RETURNING seat_layouts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b5e4a310-2147-4cc5-8f21-c5e9eae0ea86"}
{"timestamp": "2025-12-28T14:58:49.301999+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00093s] {'name': 'Standard Layout 1766933929.291877', 'rows': 10, 'seats_per_row': 15, 'grid': 'null'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b5e4a310-2147-4cc5-8f21-c5e9eae0ea86"}
{"timestamp": "2025-12-28T14:58:49.305089+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "b5e4a310-2147-4cc5-8f21-c5e9eae0ea86"}
{"timestamp": "2025-12-28T14:58:49.309102+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b5e4a310-2147-4cc5-8f21-c5e9eae0ea86"}
{"timestamp": "2025-12-28T14:58:49.310214+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b5e4a310-2147-4cc5-8f21-c5e9eae0ea86"}
{"timestamp": "2025-12-28T14:58:49.310587+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00058s] {'pk_1': 3}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b5e4a310-2147-4cc5-8f21-c5e9eae0ea86"}
{"timestamp": "2025-12-28T14:58:49.314320+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/layouts \u2192 201 (0.021s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "b5e4a310-2147-4cc5-8f21-c5e9eae0ea86"}
{"timestamp": "2025-12-28T14:58:49.315099+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "b5e4a310-2147-4cc5-8f21-c5e9eae0ea86"}
{"timestamp": "2025-12-28T14:58:49.320527+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/screens", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "4ac634f8-1f6f-4d3c-8afb-9103d069cda9"}
{"timestamp": "2025-12-28T14:58:49.323331+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "4ac634f8-1f6f-4d3c-8afb-9103d069cda9"}
{"timestamp": "2025-12-28T14:58:49.324557+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.name = %(name_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4ac634f8-1f6f-4d3c-8afb-9103d069cda9"}
{"timestamp": "2025-12-28T14:58:49.324915+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'name_1': 'Screen 1 1766933929.314971', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4ac634f8-1f6f-4d3c-8afb-9103d069cda9"}
{"timestamp": "2025-12-28T14:58:49.327981+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id AS seat_layouts_id, seat_layouts.name AS seat_layouts_name, seat_layouts.rows AS seat_layouts_rows, seat_layouts.seats_per_row AS seat_layouts_seats_per_row, seat_layouts.grid AS seat_layouts_grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4ac634f8-1f6f-4d3c-8afb-9103d069cda9"}
{"timestamp": "2025-12-28T14:58:49.328458+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00064s] {'id_1': 3, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4ac634f8-1f6f-4d3c-8afb-9103d069cda9"}
{"timestamp": "2025-12-28T14:58:49.330666+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO screens (name, capacity, seat_layout_id) VALUES (%(name)s, %(capacity)s, %(seat_layout_id)s) RETURNING screens.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4ac634f8-1f6f-4d3c-8afb-9103d069cda9"}
{"timestamp": "2025-12-28T14:58:49.331046+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00042s] {'name': 'Screen 1 1766933929.314971', 'capacity': 150, 'seat_layout_id': 3}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4ac634f8-1f6f-4d3c-8afb-9103d069cda9"}
{"timestamp": "2025-12-28T14:58:49.334265+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "4ac634f8-1f6f-4d3c-8afb-9103d069cda9"}
{"timestamp": "2025-12-28T14:58:49.338985+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "4ac634f8-1f6f-4d3c-8afb-9103d069cda9"}
{"timestamp": "2025-12-28T14:58:49.339798+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id, screens.name, screens.capacity, screens.seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4ac634f8-1f6f-4d3c-8afb-9103d069cda9"}
{"timestamp": "2025-12-28T14:58:49.340211+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00037s] {'pk_1': 3}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4ac634f8-1f6f-4d3c-8afb-9103d069cda9"}
{"timestamp": "2025-12-28T14:58:49.343911+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/screens \u2192 201 (0.027s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "4ac634f8-1f6f-4d3c-8afb-9103d069cda9"}
{"timestamp": "2025-12-28T14:58:49.344752+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "4ac634f8-1f6f-4d3c-8afb-9103d069cda9"}
{"timestamp": "2025-12-28T14:58:49.346979+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /showtimes/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "50ae9ee6-7190-430e-8469-919d5cd6a045"}
{"timestamp": "2025-12-28T14:58:49.349629+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /showtimes/ \u2192 422 (0.003s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "50ae9ee6-7190-430e-8469-919d5cd6a045"}
{"timestamp": "2025-12-28T15:03:17.013787+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T15:03:19.242144+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T15:03:19.242536+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T15:03:19.242739+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.242994+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.243273+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.243670+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.244200+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.244585+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.244971+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.245517+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.246331+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.246753+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.247167+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.247492+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.247784+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.248008+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.248213+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.248481+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.248817+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.249142+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.249434+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.249905+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.250325+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.250789+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.251130+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.251425+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.251758+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.252477+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.253598+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.254207+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.254809+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.255361+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.256202+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.257066+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.257514+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.258371+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.258934+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.259531+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.259953+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.260300+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.260681+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.261150+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.261548+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.261833+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.262193+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.262673+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.263099+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.263543+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.264356+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.264819+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.265316+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.265813+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.266421+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.266881+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.267566+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.268037+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.268780+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.269177+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.269732+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.270183+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:03:19.270629+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T15:03:19.271056+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T15:03:27.302986+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.362954+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.363368+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.366103+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.366558+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.368882+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.369227+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.371501+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.374183+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.374855+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00062s] {'email_1': 'test_1766934205.245645@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.603909+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.604468+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00078s] {'email': 'test_1766934205.245645@example.com', 'hashed_password': '$2b$12$EsEHGFPir6SlwPBM9mXyROjs9dTf21U7gTSn3QmqQx2DKtRksTaZq', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.607661+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.614622+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.615928+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.616251+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'pk_1': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.654264+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.655729+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.656117+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'user_id_1': 8, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.661580+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.662097+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'user_id': 8, 'name': None, 'email': 'test_1766934205.245645@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.665842+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.670212+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.671336+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.671734+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'pk_1': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.674270+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.676437+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.676979+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.3029s ago] {'email_1': 'test_1766934205.245645@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.890937+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.588s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.891975+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "b59e3990-c8ad-46ae-b3b3-6c59200029bb"}
{"timestamp": "2025-12-28T15:03:27.894514+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "c814d7ba-ca33-4ecf-b870-f76d17cb0bb8"}
{"timestamp": "2025-12-28T15:03:27.900109+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c814d7ba-ca33-4ecf-b870-f76d17cb0bb8"}
{"timestamp": "2025-12-28T15:03:27.900819+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c814d7ba-ca33-4ecf-b870-f76d17cb0bb8"}
{"timestamp": "2025-12-28T15:03:27.901173+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.5273s ago] {'email_1': 'test_1766934205.245645@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c814d7ba-ca33-4ecf-b870-f76d17cb0bb8"}
{"timestamp": "2025-12-28T15:03:28.109686+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.215s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "c814d7ba-ca33-4ecf-b870-f76d17cb0bb8"}
{"timestamp": "2025-12-28T15:03:28.110961+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "c814d7ba-ca33-4ecf-b870-f76d17cb0bb8"}
{"timestamp": "2025-12-28T15:03:28.112636+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "bd391354-f765-48f9-8241-0b4556c261f5"}
{"timestamp": "2025-12-28T15:03:28.115716+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "bd391354-f765-48f9-8241-0b4556c261f5"}
{"timestamp": "2025-12-28T15:03:28.116857+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bd391354-f765-48f9-8241-0b4556c261f5"}
{"timestamp": "2025-12-28T15:03:28.117170+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'pk_1': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bd391354-f765-48f9-8241-0b4556c261f5"}
{"timestamp": "2025-12-28T15:03:28.120319+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bd391354-f765-48f9-8241-0b4556c261f5"}
{"timestamp": "2025-12-28T15:03:28.120965+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.4652s ago] {'user_id_1': 8, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bd391354-f765-48f9-8241-0b4556c261f5"}
{"timestamp": "2025-12-28T15:03:28.124432+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.012s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "bd391354-f765-48f9-8241-0b4556c261f5"}
{"timestamp": "2025-12-28T15:03:28.125310+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "bd391354-f765-48f9-8241-0b4556c261f5"}
{"timestamp": "2025-12-28T15:03:28.129010+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "50695f03-1e0f-4dd3-b5be-efaef42c47b9"}
{"timestamp": "2025-12-28T15:03:28.132110+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "50695f03-1e0f-4dd3-b5be-efaef42c47b9"}
{"timestamp": "2025-12-28T15:03:28.133774+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "50695f03-1e0f-4dd3-b5be-efaef42c47b9"}
{"timestamp": "2025-12-28T15:03:28.134156+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'title_1': 'The Matrix Reloaded 1766934208.125989'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "50695f03-1e0f-4dd3-b5be-efaef42c47b9"}
{"timestamp": "2025-12-28T15:03:28.137767+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO movies (title, description, duration_minutes, release_date, poster_url, trailer_url, is_active, age_rating) VALUES (%(title)s, %(description)s, %(duration_minutes)s, %(release_date)s, %(poster_url)s, %(trailer_url)s, %(is_active)s, %(age_rating)s) RETURNING movies.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "50695f03-1e0f-4dd3-b5be-efaef42c47b9"}
{"timestamp": "2025-12-28T15:03:28.138268+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'title': 'The Matrix Reloaded 1766934208.125989', 'description': 'Test movie: The Matrix Reloaded 1766934208.125989', 'duration_minutes': 120, 'release_date': None, 'poster_url': None, 'trailer_url': None, 'is_active': True, 'age_rating': 'PG_13'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "50695f03-1e0f-4dd3-b5be-efaef42c47b9"}
{"timestamp": "2025-12-28T15:03:28.140458+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "50695f03-1e0f-4dd3-b5be-efaef42c47b9"}
{"timestamp": "2025-12-28T15:03:28.145088+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "50695f03-1e0f-4dd3-b5be-efaef42c47b9"}
{"timestamp": "2025-12-28T15:03:28.146116+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "50695f03-1e0f-4dd3-b5be-efaef42c47b9"}
{"timestamp": "2025-12-28T15:03:28.146432+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'pk_1': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "50695f03-1e0f-4dd3-b5be-efaef42c47b9"}
{"timestamp": "2025-12-28T15:03:28.150455+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 200 (0.023s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "50695f03-1e0f-4dd3-b5be-efaef42c47b9"}
{"timestamp": "2025-12-28T15:03:28.151369+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "50695f03-1e0f-4dd3-b5be-efaef42c47b9"}
{"timestamp": "2025-12-28T15:03:28.153249+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/layouts", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "6c27390a-0387-4437-b6ce-fddccdabc8be"}
{"timestamp": "2025-12-28T15:03:28.155500+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "6c27390a-0387-4437-b6ce-fddccdabc8be"}
{"timestamp": "2025-12-28T15:03:28.156765+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.name = %(name_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6c27390a-0387-4437-b6ce-fddccdabc8be"}
{"timestamp": "2025-12-28T15:03:28.157346+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'name_1': 'Standard Layout 1766934208.151539'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6c27390a-0387-4437-b6ce-fddccdabc8be"}
{"timestamp": "2025-12-28T15:03:28.161360+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_layouts (name, rows, seats_per_row, grid) VALUES (%(name)s, %(rows)s, %(seats_per_row)s, %(grid)s::JSON) RETURNING seat_layouts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6c27390a-0387-4437-b6ce-fddccdabc8be"}
{"timestamp": "2025-12-28T15:03:28.161670+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'name': 'Standard Layout 1766934208.151539', 'rows': 10, 'seats_per_row': 15, 'grid': 'null'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6c27390a-0387-4437-b6ce-fddccdabc8be"}
{"timestamp": "2025-12-28T15:03:28.164026+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "6c27390a-0387-4437-b6ce-fddccdabc8be"}
{"timestamp": "2025-12-28T15:03:28.168351+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "6c27390a-0387-4437-b6ce-fddccdabc8be"}
{"timestamp": "2025-12-28T15:03:28.169143+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6c27390a-0387-4437-b6ce-fddccdabc8be"}
{"timestamp": "2025-12-28T15:03:28.169562+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00035s] {'pk_1': 4}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6c27390a-0387-4437-b6ce-fddccdabc8be"}
{"timestamp": "2025-12-28T15:03:28.173319+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/layouts \u2192 201 (0.020s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "6c27390a-0387-4437-b6ce-fddccdabc8be"}
{"timestamp": "2025-12-28T15:03:28.174282+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "6c27390a-0387-4437-b6ce-fddccdabc8be"}
{"timestamp": "2025-12-28T15:03:28.179237+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/screens", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "5709dc8e-9188-42a9-a4b6-6ded16def65b"}
{"timestamp": "2025-12-28T15:03:28.182186+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "5709dc8e-9188-42a9-a4b6-6ded16def65b"}
{"timestamp": "2025-12-28T15:03:28.183455+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.name = %(name_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5709dc8e-9188-42a9-a4b6-6ded16def65b"}
{"timestamp": "2025-12-28T15:03:28.183867+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'name_1': 'Screen 1 1766934208.173995', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5709dc8e-9188-42a9-a4b6-6ded16def65b"}
{"timestamp": "2025-12-28T15:03:28.187120+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id AS seat_layouts_id, seat_layouts.name AS seat_layouts_name, seat_layouts.rows AS seat_layouts_rows, seat_layouts.seats_per_row AS seat_layouts_seats_per_row, seat_layouts.grid AS seat_layouts_grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5709dc8e-9188-42a9-a4b6-6ded16def65b"}
{"timestamp": "2025-12-28T15:03:28.187624+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'id_1': 4, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5709dc8e-9188-42a9-a4b6-6ded16def65b"}
{"timestamp": "2025-12-28T15:03:28.189893+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO screens (name, capacity, seat_layout_id) VALUES (%(name)s, %(capacity)s, %(seat_layout_id)s) RETURNING screens.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5709dc8e-9188-42a9-a4b6-6ded16def65b"}
{"timestamp": "2025-12-28T15:03:28.190255+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'name': 'Screen 1 1766934208.173995', 'capacity': 150, 'seat_layout_id': 4}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5709dc8e-9188-42a9-a4b6-6ded16def65b"}
{"timestamp": "2025-12-28T15:03:28.193009+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "5709dc8e-9188-42a9-a4b6-6ded16def65b"}
{"timestamp": "2025-12-28T15:03:28.197688+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "5709dc8e-9188-42a9-a4b6-6ded16def65b"}
{"timestamp": "2025-12-28T15:03:28.198489+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id, screens.name, screens.capacity, screens.seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5709dc8e-9188-42a9-a4b6-6ded16def65b"}
{"timestamp": "2025-12-28T15:03:28.198863+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00035s] {'pk_1': 4}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5709dc8e-9188-42a9-a4b6-6ded16def65b"}
{"timestamp": "2025-12-28T15:03:28.202740+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/screens \u2192 201 (0.024s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "5709dc8e-9188-42a9-a4b6-6ded16def65b"}
{"timestamp": "2025-12-28T15:03:28.203459+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "5709dc8e-9188-42a9-a4b6-6ded16def65b"}
{"timestamp": "2025-12-28T15:03:28.205394+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /showtimes/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "aa9ede5c-b721-4998-a7a8-ceed3eefc17f"}
{"timestamp": "2025-12-28T15:03:28.207964+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "aa9ede5c-b721-4998-a7a8-ceed3eefc17f"}
{"timestamp": "2025-12-28T15:03:28.209299+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "aa9ede5c-b721-4998-a7a8-ceed3eefc17f"}
{"timestamp": "2025-12-28T15:03:28.209692+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'pk_1': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "aa9ede5c-b721-4998-a7a8-ceed3eefc17f"}
{"timestamp": "2025-12-28T15:03:28.212805+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "aa9ede5c-b721-4998-a7a8-ceed3eefc17f"}
{"timestamp": "2025-12-28T15:03:28.213104+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'pk_1': 4}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "aa9ede5c-b721-4998-a7a8-ceed3eefc17f"}
{"timestamp": "2025-12-28T15:03:28.216400+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.screen_id = %(screen_id_1)s AND showtimes.start_time < %(start_time_1)s AND showtimes.end_time > %(end_time_1)s AND showtimes.is_active = true", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "aa9ede5c-b721-4998-a7a8-ceed3eefc17f"}
{"timestamp": "2025-12-28T15:03:28.216779+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'screen_id_1': 4, 'start_time_1': datetime.datetime(2025, 12, 29, 21, 0), 'end_time_1': datetime.datetime(2025, 12, 29, 19, 0)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "aa9ede5c-b721-4998-a7a8-ceed3eefc17f"}
{"timestamp": "2025-12-28T15:03:28.230376+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO showtimes (start_time, end_time, is_active, format, movie_id, screen_id) VALUES (%(start_time)s, %(end_time)s, %(is_active)s, %(format)s, %(movie_id)s, %(screen_id)s) RETURNING showtimes.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "aa9ede5c-b721-4998-a7a8-ceed3eefc17f"}
{"timestamp": "2025-12-28T15:03:28.230815+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'start_time': datetime.datetime(2025, 12, 29, 19, 0), 'end_time': datetime.datetime(2025, 12, 29, 21, 0), 'is_active': True, 'format': 'TWO_D', 'movie_id': 5, 'screen_id': 4}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "aa9ede5c-b721-4998-a7a8-ceed3eefc17f"}
{"timestamp": "2025-12-28T15:03:28.236905+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "aa9ede5c-b721-4998-a7a8-ceed3eefc17f"}
{"timestamp": "2025-12-28T15:03:28.241218+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "aa9ede5c-b721-4998-a7a8-ceed3eefc17f"}
{"timestamp": "2025-12-28T15:03:28.242171+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "aa9ede5c-b721-4998-a7a8-ceed3eefc17f"}
{"timestamp": "2025-12-28T15:03:28.242626+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'pk_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "aa9ede5c-b721-4998-a7a8-ceed3eefc17f"}
{"timestamp": "2025-12-28T15:03:28.246481+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "aa9ede5c-b721-4998-a7a8-ceed3eefc17f"}
{"timestamp": "2025-12-28T15:03:28.246801+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'pk_1': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "aa9ede5c-b721-4998-a7a8-ceed3eefc17f"}
{"timestamp": "2025-12-28T15:03:28.248863+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "aa9ede5c-b721-4998-a7a8-ceed3eefc17f"}
{"timestamp": "2025-12-28T15:03:28.249172+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'pk_1': 4}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "aa9ede5c-b721-4998-a7a8-ceed3eefc17f"}
{"timestamp": "2025-12-28T15:03:28.252348+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /showtimes/ \u2192 201 (0.047s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "aa9ede5c-b721-4998-a7a8-ceed3eefc17f"}
{"timestamp": "2025-12-28T15:03:28.253431+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "aa9ede5c-b721-4998-a7a8-ceed3eefc17f"}
{"timestamp": "2025-12-28T15:06:35.915989+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T15:06:37.864241+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T15:06:37.864631+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T15:06:37.864978+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.865266+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.865559+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.865775+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.865932+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.866125+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.866294+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.866446+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.866652+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.866880+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.867045+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.867241+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.867444+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.867745+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.867946+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.868124+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.868293+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.868520+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.868701+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.868984+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.869170+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.869328+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.869511+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.869682+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.869884+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.870197+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.870534+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.870855+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.871179+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.871526+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.871903+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.872166+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.872396+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.872526+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.872641+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.872765+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.872881+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.872996+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.873189+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.873499+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.873715+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.873915+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.874218+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.874514+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.874805+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.875140+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.875525+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.875798+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.875960+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.876153+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.876378+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.876692+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.876955+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.877298+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.877503+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.877766+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.878025+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.878379+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:06:37.878669+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T15:06:37.878868+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T15:06:51.202913+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.262152+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.262601+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.265470+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.265832+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.268380+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.268732+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.270987+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.273591+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.274117+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'email_1': 'test_1766934409.145017@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.500201+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.500731+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00070s] {'email': 'test_1766934409.145017@example.com', 'hashed_password': '$2b$12$rnT0MW84Gh.beEd5IN09Ze.7BoYuT0fOb/UBtVCuLbBitMxloKjmi', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.502897+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.507926+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.509115+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.509471+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'pk_1': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.535896+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.537515+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.537940+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00066s] {'user_id_1': 9, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.542017+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.542536+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00068s] {'user_id': 9, 'name': None, 'email': 'test_1766934409.145017@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.545212+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.549861+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.550873+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.551178+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'pk_1': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.553412+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.555449+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.555904+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2824s ago] {'email_1': 'test_1766934409.145017@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.769311+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.566s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.770383+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "d7e5196c-ce05-41c6-8e70-7f0d386f0778"}
{"timestamp": "2025-12-28T15:06:51.772253+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "f5f335f0-c3c1-4afd-b81a-368c279c7f22"}
{"timestamp": "2025-12-28T15:06:51.777093+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f5f335f0-c3c1-4afd-b81a-368c279c7f22"}
{"timestamp": "2025-12-28T15:06:51.777914+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5f335f0-c3c1-4afd-b81a-368c279c7f22"}
{"timestamp": "2025-12-28T15:06:51.778405+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.5049s ago] {'email_1': 'test_1766934409.145017@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f5f335f0-c3c1-4afd-b81a-368c279c7f22"}
{"timestamp": "2025-12-28T15:06:51.984491+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.212s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "f5f335f0-c3c1-4afd-b81a-368c279c7f22"}
{"timestamp": "2025-12-28T15:06:51.985310+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "f5f335f0-c3c1-4afd-b81a-368c279c7f22"}
{"timestamp": "2025-12-28T15:06:51.986675+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "534d5c08-bcf9-4f81-8833-70d250f84237"}
{"timestamp": "2025-12-28T15:06:51.989271+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "534d5c08-bcf9-4f81-8833-70d250f84237"}
{"timestamp": "2025-12-28T15:06:51.990307+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "534d5c08-bcf9-4f81-8833-70d250f84237"}
{"timestamp": "2025-12-28T15:06:51.990754+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'pk_1': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "534d5c08-bcf9-4f81-8833-70d250f84237"}
{"timestamp": "2025-12-28T15:06:51.993906+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "534d5c08-bcf9-4f81-8833-70d250f84237"}
{"timestamp": "2025-12-28T15:06:51.994351+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.457s ago] {'user_id_1': 9, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "534d5c08-bcf9-4f81-8833-70d250f84237"}
{"timestamp": "2025-12-28T15:06:51.997734+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.011s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "534d5c08-bcf9-4f81-8833-70d250f84237"}
{"timestamp": "2025-12-28T15:06:51.998728+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "534d5c08-bcf9-4f81-8833-70d250f84237"}
{"timestamp": "2025-12-28T15:06:52.000823+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "35231dde-39c9-413c-9e4b-81fcde913ef7"}
{"timestamp": "2025-12-28T15:06:52.003401+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "35231dde-39c9-413c-9e4b-81fcde913ef7"}
{"timestamp": "2025-12-28T15:06:52.005134+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "35231dde-39c9-413c-9e4b-81fcde913ef7"}
{"timestamp": "2025-12-28T15:06:52.005411+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'title_1': 'The Matrix Reloaded 1766934411.999067'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "35231dde-39c9-413c-9e4b-81fcde913ef7"}
{"timestamp": "2025-12-28T15:06:52.008598+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO movies (title, description, duration_minutes, release_date, poster_url, trailer_url, is_active, age_rating) VALUES (%(title)s, %(description)s, %(duration_minutes)s, %(release_date)s, %(poster_url)s, %(trailer_url)s, %(is_active)s, %(age_rating)s) RETURNING movies.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "35231dde-39c9-413c-9e4b-81fcde913ef7"}
{"timestamp": "2025-12-28T15:06:52.009151+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'title': 'The Matrix Reloaded 1766934411.999067', 'description': 'Test movie: The Matrix Reloaded 1766934411.999067', 'duration_minutes': 120, 'release_date': None, 'poster_url': None, 'trailer_url': None, 'is_active': True, 'age_rating': 'PG_13'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "35231dde-39c9-413c-9e4b-81fcde913ef7"}
{"timestamp": "2025-12-28T15:06:52.011383+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "35231dde-39c9-413c-9e4b-81fcde913ef7"}
{"timestamp": "2025-12-28T15:06:52.016142+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "35231dde-39c9-413c-9e4b-81fcde913ef7"}
{"timestamp": "2025-12-28T15:06:52.017117+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "35231dde-39c9-413c-9e4b-81fcde913ef7"}
{"timestamp": "2025-12-28T15:06:52.017555+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'pk_1': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "35231dde-39c9-413c-9e4b-81fcde913ef7"}
{"timestamp": "2025-12-28T15:06:52.021347+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 200 (0.021s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "35231dde-39c9-413c-9e4b-81fcde913ef7"}
{"timestamp": "2025-12-28T15:06:52.022126+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "35231dde-39c9-413c-9e4b-81fcde913ef7"}
{"timestamp": "2025-12-28T15:06:52.023886+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/layouts", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "e682ba6f-8065-4884-b85a-9f5d68ca87a8"}
{"timestamp": "2025-12-28T15:06:52.026350+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "e682ba6f-8065-4884-b85a-9f5d68ca87a8"}
{"timestamp": "2025-12-28T15:06:52.027477+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.name = %(name_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e682ba6f-8065-4884-b85a-9f5d68ca87a8"}
{"timestamp": "2025-12-28T15:06:52.027791+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00040s] {'name_1': 'Standard Layout 1766934412.022286'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e682ba6f-8065-4884-b85a-9f5d68ca87a8"}
{"timestamp": "2025-12-28T15:06:52.030519+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_layouts (name, rows, seats_per_row, grid) VALUES (%(name)s, %(rows)s, %(seats_per_row)s, %(grid)s::JSON) RETURNING seat_layouts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e682ba6f-8065-4884-b85a-9f5d68ca87a8"}
{"timestamp": "2025-12-28T15:06:52.030753+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00043s] {'name': 'Standard Layout 1766934412.022286', 'rows': 10, 'seats_per_row': 15, 'grid': 'null'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e682ba6f-8065-4884-b85a-9f5d68ca87a8"}
{"timestamp": "2025-12-28T15:06:52.032961+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "e682ba6f-8065-4884-b85a-9f5d68ca87a8"}
{"timestamp": "2025-12-28T15:06:52.037204+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "e682ba6f-8065-4884-b85a-9f5d68ca87a8"}
{"timestamp": "2025-12-28T15:06:52.037941+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e682ba6f-8065-4884-b85a-9f5d68ca87a8"}
{"timestamp": "2025-12-28T15:06:52.038195+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00031s] {'pk_1': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e682ba6f-8065-4884-b85a-9f5d68ca87a8"}
{"timestamp": "2025-12-28T15:06:52.042398+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/layouts \u2192 201 (0.019s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "e682ba6f-8065-4884-b85a-9f5d68ca87a8"}
{"timestamp": "2025-12-28T15:06:52.043446+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "e682ba6f-8065-4884-b85a-9f5d68ca87a8"}
{"timestamp": "2025-12-28T15:06:52.048602+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/screens", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "b94f8620-cf63-4420-95bd-a90b02e01a83"}
{"timestamp": "2025-12-28T15:06:52.051268+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b94f8620-cf63-4420-95bd-a90b02e01a83"}
{"timestamp": "2025-12-28T15:06:52.052420+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.name = %(name_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b94f8620-cf63-4420-95bd-a90b02e01a83"}
{"timestamp": "2025-12-28T15:06:52.052753+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'name_1': 'Screen 1 1766934412.043094', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b94f8620-cf63-4420-95bd-a90b02e01a83"}
{"timestamp": "2025-12-28T15:06:52.055839+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id AS seat_layouts_id, seat_layouts.name AS seat_layouts_name, seat_layouts.rows AS seat_layouts_rows, seat_layouts.seats_per_row AS seat_layouts_seats_per_row, seat_layouts.grid AS seat_layouts_grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b94f8620-cf63-4420-95bd-a90b02e01a83"}
{"timestamp": "2025-12-28T15:06:52.056188+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00064s] {'id_1': 5, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b94f8620-cf63-4420-95bd-a90b02e01a83"}
{"timestamp": "2025-12-28T15:06:52.058344+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO screens (name, capacity, seat_layout_id) VALUES (%(name)s, %(capacity)s, %(seat_layout_id)s) RETURNING screens.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b94f8620-cf63-4420-95bd-a90b02e01a83"}
{"timestamp": "2025-12-28T15:06:52.058637+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00044s] {'name': 'Screen 1 1766934412.043094', 'capacity': 150, 'seat_layout_id': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b94f8620-cf63-4420-95bd-a90b02e01a83"}
{"timestamp": "2025-12-28T15:06:52.060532+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "b94f8620-cf63-4420-95bd-a90b02e01a83"}
{"timestamp": "2025-12-28T15:06:52.064796+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b94f8620-cf63-4420-95bd-a90b02e01a83"}
{"timestamp": "2025-12-28T15:06:52.066029+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id, screens.name, screens.capacity, screens.seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b94f8620-cf63-4420-95bd-a90b02e01a83"}
{"timestamp": "2025-12-28T15:06:52.066490+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'pk_1': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b94f8620-cf63-4420-95bd-a90b02e01a83"}
{"timestamp": "2025-12-28T15:06:52.070985+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/screens \u2192 201 (0.026s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "b94f8620-cf63-4420-95bd-a90b02e01a83"}
{"timestamp": "2025-12-28T15:06:52.072091+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "b94f8620-cf63-4420-95bd-a90b02e01a83"}
{"timestamp": "2025-12-28T15:06:52.073556+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /showtimes/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "36529061-52a8-4ec4-acfa-8c22bee1692f"}
{"timestamp": "2025-12-28T15:06:52.075827+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "36529061-52a8-4ec4-acfa-8c22bee1692f"}
{"timestamp": "2025-12-28T15:06:52.076935+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "36529061-52a8-4ec4-acfa-8c22bee1692f"}
{"timestamp": "2025-12-28T15:06:52.077274+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'pk_1': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "36529061-52a8-4ec4-acfa-8c22bee1692f"}
{"timestamp": "2025-12-28T15:06:52.080087+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "36529061-52a8-4ec4-acfa-8c22bee1692f"}
{"timestamp": "2025-12-28T15:06:52.080314+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00043s] {'pk_1': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "36529061-52a8-4ec4-acfa-8c22bee1692f"}
{"timestamp": "2025-12-28T15:06:52.082975+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.screen_id = %(screen_id_1)s AND showtimes.start_time < %(start_time_1)s AND showtimes.end_time > %(end_time_1)s AND showtimes.is_active = true", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "36529061-52a8-4ec4-acfa-8c22bee1692f"}
{"timestamp": "2025-12-28T15:06:52.083553+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'screen_id_1': 5, 'start_time_1': datetime.datetime(2025, 12, 29, 21, 0), 'end_time_1': datetime.datetime(2025, 12, 29, 19, 0)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "36529061-52a8-4ec4-acfa-8c22bee1692f"}
{"timestamp": "2025-12-28T15:06:52.086144+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO showtimes (start_time, end_time, is_active, format, movie_id, screen_id) VALUES (%(start_time)s, %(end_time)s, %(is_active)s, %(format)s, %(movie_id)s, %(screen_id)s) RETURNING showtimes.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "36529061-52a8-4ec4-acfa-8c22bee1692f"}
{"timestamp": "2025-12-28T15:06:52.086448+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00043s] {'start_time': datetime.datetime(2025, 12, 29, 19, 0), 'end_time': datetime.datetime(2025, 12, 29, 21, 0), 'is_active': True, 'format': 'TWO_D', 'movie_id': 6, 'screen_id': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "36529061-52a8-4ec4-acfa-8c22bee1692f"}
{"timestamp": "2025-12-28T15:06:52.088498+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "36529061-52a8-4ec4-acfa-8c22bee1692f"}
{"timestamp": "2025-12-28T15:06:52.092679+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "36529061-52a8-4ec4-acfa-8c22bee1692f"}
{"timestamp": "2025-12-28T15:06:52.093622+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "36529061-52a8-4ec4-acfa-8c22bee1692f"}
{"timestamp": "2025-12-28T15:06:52.094021+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'pk_1': 2}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "36529061-52a8-4ec4-acfa-8c22bee1692f"}
{"timestamp": "2025-12-28T15:06:52.097307+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "36529061-52a8-4ec4-acfa-8c22bee1692f"}
{"timestamp": "2025-12-28T15:06:52.097688+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'pk_1': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "36529061-52a8-4ec4-acfa-8c22bee1692f"}
{"timestamp": "2025-12-28T15:06:52.100161+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "36529061-52a8-4ec4-acfa-8c22bee1692f"}
{"timestamp": "2025-12-28T15:06:52.100503+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'pk_1': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "36529061-52a8-4ec4-acfa-8c22bee1692f"}
{"timestamp": "2025-12-28T15:06:52.103898+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /showtimes/ \u2192 201 (0.030s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "36529061-52a8-4ec4-acfa-8c22bee1692f"}
{"timestamp": "2025-12-28T15:06:52.104783+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "36529061-52a8-4ec4-acfa-8c22bee1692f"}
{"timestamp": "2025-12-28T15:06:52.106259+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /seatavailability/grid/2", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "c2db15bf-2c0e-4ad6-b1fe-41283b5d0f09"}
{"timestamp": "2025-12-28T15:06:52.108509+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c2db15bf-2c0e-4ad6-b1fe-41283b5d0f09"}
{"timestamp": "2025-12-28T15:06:52.109665+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c2db15bf-2c0e-4ad6-b1fe-41283b5d0f09"}
{"timestamp": "2025-12-28T15:06:52.109987+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00035s] {'showtime_id_1': 2}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c2db15bf-2c0e-4ad6-b1fe-41283b5d0f09"}
{"timestamp": "2025-12-28T15:06:52.117333+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /seatavailability/grid/2 \u2192 200 (0.011s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "c2db15bf-2c0e-4ad6-b1fe-41283b5d0f09"}
{"timestamp": "2025-12-28T15:06:52.118544+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "c2db15bf-2c0e-4ad6-b1fe-41283b5d0f09"}
{"timestamp": "2025-12-28T15:06:52.121071+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /reservations/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.123978+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.125508+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO reservations (user_id, showtime_id, seat_code, status, created_at, expires_at) VALUES (%(user_id)s, %(showtime_id)s, %(seat_code)s, %(status)s, %(created_at)s, %(expires_at)s) RETURNING reservations.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.125889+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'user_id': 1, 'showtime_id': 2, 'seat_code': 'R5-8', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 28, 15, 6, 52, 125052, tzinfo=datetime.timezone.utc), 'expires_at': datetime.datetime(2025, 12, 28, 15, 16, 52, 122285, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.132923+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.137275+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.138247+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT reservations.id, reservations.user_id, reservations.showtime_id, reservations.seat_code, reservations.status, reservations.created_at, reservations.expires_at \nFROM reservations \nWHERE reservations.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.138592+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00035s] {'pk_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.143002+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.143908+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s AND seat_locks.seat_code = %(seat_code_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.144227+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00037s] {'showtime_id_1': 2, 'seat_code_1': 'R5-8', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.146531+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.193234+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.event_bus", "message": "Event handler failed: reservation.created -> on_reservation_created", "module": "event_bus", "function": "_safe_invoke", "line": 33, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 18, in publish_event\n    loop = asyncio.get_running_loop()\nRuntimeError: no running event loop\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\event_bus.py\", line 31, in _safe_invoke\n    await handler(payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\seat_availability\\handlers.py\", line 24, in on_reservation_created\n    seat_service.lock_seat(\n    ~~~~~~~~~~~~~~~~~~~~~~^\n        db,\n        ^^^\n    ...<2 lines>...\n        user_id=user_id,\n        ^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\seat_availability\\service.py\", line 27, in lock_seat\n    raise NotFoundError(\"Seat does not exist\", {\"seat_code\": seat_code})\napp.core.errors.NotFoundError: ('Seat does not exist', {'seat_code': 'R5-8'})"}
{"timestamp": "2025-12-28T15:06:52.196409+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.197752+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO orders (user_id, pricing_snapshot, final_amount, is_completed, reservation_id) VALUES (%(user_id)s, %(pricing_snapshot)s::JSON, %(final_amount)s, %(is_completed)s, %(reservation_id)s) RETURNING orders.id, orders.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.198347+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'user_id': 1, 'pricing_snapshot': '{}', 'final_amount': 0, 'is_completed': False, 'reservation_id': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.204592+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.208891+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.210313+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.210988+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'pk_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.213993+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.216313+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.217709+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO audit_logs (actor_id, actor_type, action, target_id, target_type, payload, request_id, created_at) VALUES (%(actor_id)s, %(actor_type)s, %(action)s, %(target_id)s, %(target_type)s, %(payload)s::JSON, %(request_id)s, %(created_at)s) RETURNING audit_logs.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.218193+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'actor_id': 1, 'actor_type': 'user', 'action': 'reservation.created', 'target_id': 1, 'target_type': 'reservation', 'payload': '{\"reservation_id\": 1, \"user_id\": 1, \"showtime_id\": 2, \"seat_code\": \"R5-8\"}', 'request_id': None, 'created_at': datetime.datetime(2025, 12, 28, 15, 6, 52, 217292, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.222824+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.226969+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.228017+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT audit_logs.id, audit_logs.actor_id, audit_logs.actor_type, audit_logs.action, audit_logs.target_id, audit_logs.target_type, audit_logs.payload, audit_logs.request_id, audit_logs.created_at \nFROM audit_logs \nWHERE audit_logs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.228257+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00038s] {'pk_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.231036+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.233472+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /reservations/ \u2192 200 (0.112s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:06:52.234293+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "9cce2596-40f4-4310-80f2-ac849a25d1f3"}
{"timestamp": "2025-12-28T15:09:59.206296+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T15:10:01.120111+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T15:10:01.120512+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T15:10:01.120846+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.121091+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.121298+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.121565+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.121811+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.122097+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.122349+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.122535+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.122772+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.123020+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.123277+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.123523+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.123821+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.124179+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.124613+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.124965+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.125473+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.125769+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.126141+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.126421+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.126813+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.127118+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.127416+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.127639+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.127824+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.127989+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.128136+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.128282+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.128412+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.128647+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.128902+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.129188+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.129443+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.129694+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.129990+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.130409+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.130709+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.130896+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.131168+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.131488+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.131847+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.132209+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.132578+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.132892+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.133177+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.133563+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.134001+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.134611+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.135152+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.135539+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.135852+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.136071+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.136249+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.136393+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.136564+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.136725+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.136866+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.137001+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:10:01.137199+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T15:10:01.137456+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T15:10:08.116290+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.174229+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.174780+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.177339+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.177825+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.179803+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.180401+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.182685+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.185468+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.186030+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00062s] {'email_1': 'test_1766934606.052506@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.419261+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.419771+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'email': 'test_1766934606.052506@example.com', 'hashed_password': '$2b$12$t357WaF9IuDMKmCw0x2S.eo7omLpu4EGGQHXZLPKCTwOQqokPUz9q', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.421816+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.427378+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.428823+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.429256+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00067s] {'pk_1': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.463402+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.464797+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.465126+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'user_id_1': 10, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.468868+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.469303+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'user_id': 10, 'name': None, 'email': 'test_1766934606.052506@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.472568+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.477436+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.478550+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.478976+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'pk_1': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.481232+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.483332+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.483752+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2985s ago] {'email_1': 'test_1766934606.052506@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.699317+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.583s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.700271+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "c56d0b1a-af06-4964-9822-1d9d1b551720"}
{"timestamp": "2025-12-28T15:10:08.702198+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "da392074-b2ed-4e7d-bf78-41aaa29895f4"}
{"timestamp": "2025-12-28T15:10:08.708522+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "da392074-b2ed-4e7d-bf78-41aaa29895f4"}
{"timestamp": "2025-12-28T15:10:08.709400+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "da392074-b2ed-4e7d-bf78-41aaa29895f4"}
{"timestamp": "2025-12-28T15:10:08.709899+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.5246s ago] {'email_1': 'test_1766934606.052506@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "da392074-b2ed-4e7d-bf78-41aaa29895f4"}
{"timestamp": "2025-12-28T15:10:08.917607+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.215s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "da392074-b2ed-4e7d-bf78-41aaa29895f4"}
{"timestamp": "2025-12-28T15:10:08.918455+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "da392074-b2ed-4e7d-bf78-41aaa29895f4"}
{"timestamp": "2025-12-28T15:10:08.919929+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "cce11e78-4b07-4ff2-ab63-79524d5843f8"}
{"timestamp": "2025-12-28T15:10:08.922409+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "cce11e78-4b07-4ff2-ab63-79524d5843f8"}
{"timestamp": "2025-12-28T15:10:08.923623+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "cce11e78-4b07-4ff2-ab63-79524d5843f8"}
{"timestamp": "2025-12-28T15:10:08.924116+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00061s] {'pk_1': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "cce11e78-4b07-4ff2-ab63-79524d5843f8"}
{"timestamp": "2025-12-28T15:10:08.927173+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "cce11e78-4b07-4ff2-ab63-79524d5843f8"}
{"timestamp": "2025-12-28T15:10:08.927562+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.4629s ago] {'user_id_1': 10, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "cce11e78-4b07-4ff2-ab63-79524d5843f8"}
{"timestamp": "2025-12-28T15:10:08.930448+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.011s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "cce11e78-4b07-4ff2-ab63-79524d5843f8"}
{"timestamp": "2025-12-28T15:10:08.931319+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "cce11e78-4b07-4ff2-ab63-79524d5843f8"}
{"timestamp": "2025-12-28T15:10:08.933267+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "0141a9f9-ec58-476f-a651-47eb1bc5659d"}
{"timestamp": "2025-12-28T15:10:08.936123+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "0141a9f9-ec58-476f-a651-47eb1bc5659d"}
{"timestamp": "2025-12-28T15:10:08.937698+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0141a9f9-ec58-476f-a651-47eb1bc5659d"}
{"timestamp": "2025-12-28T15:10:08.938108+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'title_1': 'The Matrix Reloaded 1766934608.931615'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0141a9f9-ec58-476f-a651-47eb1bc5659d"}
{"timestamp": "2025-12-28T15:10:08.941803+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO movies (title, description, duration_minutes, release_date, poster_url, trailer_url, is_active, age_rating) VALUES (%(title)s, %(description)s, %(duration_minutes)s, %(release_date)s, %(poster_url)s, %(trailer_url)s, %(is_active)s, %(age_rating)s) RETURNING movies.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0141a9f9-ec58-476f-a651-47eb1bc5659d"}
{"timestamp": "2025-12-28T15:10:08.942433+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00066s] {'title': 'The Matrix Reloaded 1766934608.931615', 'description': 'Test movie: The Matrix Reloaded 1766934608.931615', 'duration_minutes': 120, 'release_date': None, 'poster_url': None, 'trailer_url': None, 'is_active': True, 'age_rating': 'PG_13'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0141a9f9-ec58-476f-a651-47eb1bc5659d"}
{"timestamp": "2025-12-28T15:10:08.944638+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "0141a9f9-ec58-476f-a651-47eb1bc5659d"}
{"timestamp": "2025-12-28T15:10:08.949283+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "0141a9f9-ec58-476f-a651-47eb1bc5659d"}
{"timestamp": "2025-12-28T15:10:08.950317+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0141a9f9-ec58-476f-a651-47eb1bc5659d"}
{"timestamp": "2025-12-28T15:10:08.950717+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'pk_1': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0141a9f9-ec58-476f-a651-47eb1bc5659d"}
{"timestamp": "2025-12-28T15:10:08.954550+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 200 (0.021s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "0141a9f9-ec58-476f-a651-47eb1bc5659d"}
{"timestamp": "2025-12-28T15:10:08.955617+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "0141a9f9-ec58-476f-a651-47eb1bc5659d"}
{"timestamp": "2025-12-28T15:10:08.957332+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/layouts", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "d21a4418-3ee3-4459-bcdc-d1526472de64"}
{"timestamp": "2025-12-28T15:10:08.960277+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "d21a4418-3ee3-4459-bcdc-d1526472de64"}
{"timestamp": "2025-12-28T15:10:08.961578+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.name = %(name_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d21a4418-3ee3-4459-bcdc-d1526472de64"}
{"timestamp": "2025-12-28T15:10:08.962010+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'name_1': 'Standard Layout 1766934608.955713'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d21a4418-3ee3-4459-bcdc-d1526472de64"}
{"timestamp": "2025-12-28T15:10:08.965437+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_layouts (name, rows, seats_per_row, grid) VALUES (%(name)s, %(rows)s, %(seats_per_row)s, %(grid)s::JSON) RETURNING seat_layouts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d21a4418-3ee3-4459-bcdc-d1526472de64"}
{"timestamp": "2025-12-28T15:10:08.965859+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00088s] {'name': 'Standard Layout 1766934608.955713', 'rows': 10, 'seats_per_row': 15, 'grid': 'null'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d21a4418-3ee3-4459-bcdc-d1526472de64"}
{"timestamp": "2025-12-28T15:10:08.967639+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "d21a4418-3ee3-4459-bcdc-d1526472de64"}
{"timestamp": "2025-12-28T15:10:08.972894+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "d21a4418-3ee3-4459-bcdc-d1526472de64"}
{"timestamp": "2025-12-28T15:10:08.974020+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d21a4418-3ee3-4459-bcdc-d1526472de64"}
{"timestamp": "2025-12-28T15:10:08.974336+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00058s] {'pk_1': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d21a4418-3ee3-4459-bcdc-d1526472de64"}
{"timestamp": "2025-12-28T15:10:08.978676+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/layouts \u2192 201 (0.021s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "d21a4418-3ee3-4459-bcdc-d1526472de64"}
{"timestamp": "2025-12-28T15:10:08.979800+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "d21a4418-3ee3-4459-bcdc-d1526472de64"}
{"timestamp": "2025-12-28T15:10:08.985480+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/screens", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "99711b3d-b22a-4fae-b4b6-39455e96850b"}
{"timestamp": "2025-12-28T15:10:08.989044+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "99711b3d-b22a-4fae-b4b6-39455e96850b"}
{"timestamp": "2025-12-28T15:10:08.990272+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.name = %(name_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "99711b3d-b22a-4fae-b4b6-39455e96850b"}
{"timestamp": "2025-12-28T15:10:08.990625+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'name_1': 'Screen 1 1766934608.979565', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "99711b3d-b22a-4fae-b4b6-39455e96850b"}
{"timestamp": "2025-12-28T15:10:08.993783+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id AS seat_layouts_id, seat_layouts.name AS seat_layouts_name, seat_layouts.rows AS seat_layouts_rows, seat_layouts.seats_per_row AS seat_layouts_seats_per_row, seat_layouts.grid AS seat_layouts_grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "99711b3d-b22a-4fae-b4b6-39455e96850b"}
{"timestamp": "2025-12-28T15:10:08.994290+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'id_1': 6, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "99711b3d-b22a-4fae-b4b6-39455e96850b"}
{"timestamp": "2025-12-28T15:10:08.996695+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO screens (name, capacity, seat_layout_id) VALUES (%(name)s, %(capacity)s, %(seat_layout_id)s) RETURNING screens.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "99711b3d-b22a-4fae-b4b6-39455e96850b"}
{"timestamp": "2025-12-28T15:10:08.997030+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'name': 'Screen 1 1766934608.979565', 'capacity': 150, 'seat_layout_id': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "99711b3d-b22a-4fae-b4b6-39455e96850b"}
{"timestamp": "2025-12-28T15:10:08.998898+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "99711b3d-b22a-4fae-b4b6-39455e96850b"}
{"timestamp": "2025-12-28T15:10:09.004140+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "99711b3d-b22a-4fae-b4b6-39455e96850b"}
{"timestamp": "2025-12-28T15:10:09.005490+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id, screens.name, screens.capacity, screens.seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "99711b3d-b22a-4fae-b4b6-39455e96850b"}
{"timestamp": "2025-12-28T15:10:09.006013+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00064s] {'pk_1': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "99711b3d-b22a-4fae-b4b6-39455e96850b"}
{"timestamp": "2025-12-28T15:10:09.010462+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/screens \u2192 201 (0.025s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "99711b3d-b22a-4fae-b4b6-39455e96850b"}
{"timestamp": "2025-12-28T15:10:09.011290+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "99711b3d-b22a-4fae-b4b6-39455e96850b"}
{"timestamp": "2025-12-28T15:10:09.013012+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /showtimes/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "269f504c-3a91-4d27-852c-bc8ef202dd21"}
{"timestamp": "2025-12-28T15:10:09.015384+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "269f504c-3a91-4d27-852c-bc8ef202dd21"}
{"timestamp": "2025-12-28T15:10:09.016472+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "269f504c-3a91-4d27-852c-bc8ef202dd21"}
{"timestamp": "2025-12-28T15:10:09.016856+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'pk_1': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "269f504c-3a91-4d27-852c-bc8ef202dd21"}
{"timestamp": "2025-12-28T15:10:09.019834+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "269f504c-3a91-4d27-852c-bc8ef202dd21"}
{"timestamp": "2025-12-28T15:10:09.020103+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'pk_1': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "269f504c-3a91-4d27-852c-bc8ef202dd21"}
{"timestamp": "2025-12-28T15:10:09.023208+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.screen_id = %(screen_id_1)s AND showtimes.start_time < %(start_time_1)s AND showtimes.end_time > %(end_time_1)s AND showtimes.is_active = true", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "269f504c-3a91-4d27-852c-bc8ef202dd21"}
{"timestamp": "2025-12-28T15:10:09.023681+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'screen_id_1': 6, 'start_time_1': datetime.datetime(2025, 12, 29, 21, 0), 'end_time_1': datetime.datetime(2025, 12, 29, 19, 0)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "269f504c-3a91-4d27-852c-bc8ef202dd21"}
{"timestamp": "2025-12-28T15:10:09.026312+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO showtimes (start_time, end_time, is_active, format, movie_id, screen_id) VALUES (%(start_time)s, %(end_time)s, %(is_active)s, %(format)s, %(movie_id)s, %(screen_id)s) RETURNING showtimes.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "269f504c-3a91-4d27-852c-bc8ef202dd21"}
{"timestamp": "2025-12-28T15:10:09.026740+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'start_time': datetime.datetime(2025, 12, 29, 19, 0), 'end_time': datetime.datetime(2025, 12, 29, 21, 0), 'is_active': True, 'format': 'TWO_D', 'movie_id': 7, 'screen_id': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "269f504c-3a91-4d27-852c-bc8ef202dd21"}
{"timestamp": "2025-12-28T15:10:09.028850+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "269f504c-3a91-4d27-852c-bc8ef202dd21"}
{"timestamp": "2025-12-28T15:10:09.032846+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "269f504c-3a91-4d27-852c-bc8ef202dd21"}
{"timestamp": "2025-12-28T15:10:09.033897+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "269f504c-3a91-4d27-852c-bc8ef202dd21"}
{"timestamp": "2025-12-28T15:10:09.034298+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'pk_1': 3}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "269f504c-3a91-4d27-852c-bc8ef202dd21"}
{"timestamp": "2025-12-28T15:10:09.039254+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "269f504c-3a91-4d27-852c-bc8ef202dd21"}
{"timestamp": "2025-12-28T15:10:09.039754+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'pk_1': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "269f504c-3a91-4d27-852c-bc8ef202dd21"}
{"timestamp": "2025-12-28T15:10:09.042091+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "269f504c-3a91-4d27-852c-bc8ef202dd21"}
{"timestamp": "2025-12-28T15:10:09.042543+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00060s] {'pk_1': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "269f504c-3a91-4d27-852c-bc8ef202dd21"}
{"timestamp": "2025-12-28T15:10:09.045937+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /showtimes/ \u2192 201 (0.033s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "269f504c-3a91-4d27-852c-bc8ef202dd21"}
{"timestamp": "2025-12-28T15:10:09.046677+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "269f504c-3a91-4d27-852c-bc8ef202dd21"}
{"timestamp": "2025-12-28T15:10:09.048226+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /seatavailability/grid/3", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "324ceb0e-3161-40e3-a3c3-5534920783e0"}
{"timestamp": "2025-12-28T15:10:09.050758+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "324ceb0e-3161-40e3-a3c3-5534920783e0"}
{"timestamp": "2025-12-28T15:10:09.052590+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "324ceb0e-3161-40e3-a3c3-5534920783e0"}
{"timestamp": "2025-12-28T15:10:09.052986+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00060s] {'showtime_id_1': 3}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "324ceb0e-3161-40e3-a3c3-5534920783e0"}
{"timestamp": "2025-12-28T15:10:09.056368+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /seatavailability/grid/3 \u2192 200 (0.008s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "324ceb0e-3161-40e3-a3c3-5534920783e0"}
{"timestamp": "2025-12-28T15:10:09.057233+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "324ceb0e-3161-40e3-a3c3-5534920783e0"}
{"timestamp": "2025-12-28T15:10:09.059043+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /reservations/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.061366+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.062531+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO reservations (user_id, showtime_id, seat_code, status, created_at, expires_at) VALUES (%(user_id)s, %(showtime_id)s, %(seat_code)s, %(status)s, %(created_at)s, %(expires_at)s) RETURNING reservations.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.063014+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00044s] {'user_id': 1, 'showtime_id': 3, 'seat_code': 'R5-8', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 28, 15, 10, 9, 62175, tzinfo=datetime.timezone.utc), 'expires_at': datetime.datetime(2025, 12, 28, 15, 20, 9, 60010, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.065784+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.070795+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.071995+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT reservations.id, reservations.user_id, reservations.showtime_id, reservations.seat_code, reservations.status, reservations.created_at, reservations.expires_at \nFROM reservations \nWHERE reservations.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.072338+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'pk_1': 2}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.076586+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.077739+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s AND seat_locks.seat_code = %(seat_code_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.078143+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'showtime_id_1': 3, 'seat_code_1': 'R5-8', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.080704+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.084391+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.event_bus", "message": "Event handler failed: reservation.created -> on_reservation_created", "module": "event_bus", "function": "_safe_invoke", "line": 33, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 18, in publish_event\n    loop = asyncio.get_running_loop()\nRuntimeError: no running event loop\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\event_bus.py\", line 31, in _safe_invoke\n    await handler(payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\seat_availability\\handlers.py\", line 24, in on_reservation_created\n    seat_service.lock_seat(\n    ~~~~~~~~~~~~~~~~~~~~~~^\n        db,\n        ^^^\n    ...<2 lines>...\n        user_id=user_id,\n        ^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\seat_availability\\service.py\", line 27, in lock_seat\n    raise NotFoundError(\"Seat does not exist\", {\"seat_code\": seat_code})\napp.core.errors.NotFoundError: ('Seat does not exist', {'seat_code': 'R5-8'})"}
{"timestamp": "2025-12-28T15:10:09.087101+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.088326+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO orders (user_id, pricing_snapshot, final_amount, is_completed, reservation_id) VALUES (%(user_id)s, %(pricing_snapshot)s::JSON, %(final_amount)s, %(is_completed)s, %(reservation_id)s) RETURNING orders.id, orders.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.088630+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'user_id': 1, 'pricing_snapshot': '{}', 'final_amount': 0, 'is_completed': False, 'reservation_id': 2}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.091211+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.095215+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.096718+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.097211+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'pk_1': 2}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.100297+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.103013+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.104347+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO audit_logs (actor_id, actor_type, action, target_id, target_type, payload, request_id, created_at) VALUES (%(actor_id)s, %(actor_type)s, %(action)s, %(target_id)s, %(target_type)s, %(payload)s::JSON, %(request_id)s, %(created_at)s) RETURNING audit_logs.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.104777+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'actor_id': 1, 'actor_type': 'user', 'action': 'reservation.created', 'target_id': 2, 'target_type': 'reservation', 'payload': '{\"reservation_id\": 2, \"user_id\": 1, \"showtime_id\": 3, \"seat_code\": \"R5-8\"}', 'request_id': None, 'created_at': datetime.datetime(2025, 12, 28, 15, 10, 9, 103924, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.107307+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.111216+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.112374+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT audit_logs.id, audit_logs.actor_id, audit_logs.actor_type, audit_logs.action, audit_logs.target_id, audit_logs.target_type, audit_logs.payload, audit_logs.request_id, audit_logs.created_at \nFROM audit_logs \nWHERE audit_logs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.112679+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'pk_1': 2}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.114886+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.116726+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /reservations/ \u2192 200 (0.058s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.117546+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "32e87030-7f20-4f2d-929e-ad125b1125b9"}
{"timestamp": "2025-12-28T15:10:09.119441+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /orders/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "c858f963-080b-4e8b-88a4-bf58c05d4f65"}
{"timestamp": "2025-12-28T15:10:09.121689+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c858f963-080b-4e8b-88a4-bf58c05d4f65"}
{"timestamp": "2025-12-28T15:10:09.122236+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c858f963-080b-4e8b-88a4-bf58c05d4f65"}
{"timestamp": "2025-12-28T15:10:09.122632+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.1992s ago] {'pk_1': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c858f963-080b-4e8b-88a4-bf58c05d4f65"}
{"timestamp": "2025-12-28T15:10:09.125841+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.user_id = %(user_id_1)s AND orders.is_completed = true", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c858f963-080b-4e8b-88a4-bf58c05d4f65"}
{"timestamp": "2025-12-28T15:10:09.126298+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'user_id_1': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c858f963-080b-4e8b-88a4-bf58c05d4f65"}
{"timestamp": "2025-12-28T15:10:09.128206+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /orders/ \u2192 200 (0.009s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "c858f963-080b-4e8b-88a4-bf58c05d4f65"}
{"timestamp": "2025-12-28T15:10:09.129262+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "c858f963-080b-4e8b-88a4-bf58c05d4f65"}
{"timestamp": "2025-12-28T15:16:58.358609+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T15:17:00.683248+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T15:17:00.683465+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T15:17:00.683604+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.683790+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.684136+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.684315+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.684446+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.684729+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.684907+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.685065+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.685246+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.685411+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.685537+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.685661+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.685794+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.685910+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.686067+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.686198+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.686318+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.686434+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.686607+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.686729+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.686844+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.686960+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.687075+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.687199+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.687374+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.687692+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.687921+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.688181+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.688422+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.688686+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.688916+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.689088+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.689245+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.689447+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.689688+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.689909+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.690074+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.690289+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.690455+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.690627+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.690810+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.691131+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.691394+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.691561+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.691763+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.691928+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.692077+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.692211+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.692358+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.692498+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.692636+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.692781+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.692947+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.693168+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.693442+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.693610+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.693809+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.694043+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:00.694300+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T15:17:00.694648+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T15:17:18.787802+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T15:17:20.679425+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T15:17:20.680017+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T15:17:20.680483+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.680736+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.680942+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.681254+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.681581+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.681884+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.682168+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.682579+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.682874+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.683137+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.683442+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.683858+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.684172+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.684530+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.684854+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.685154+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.685414+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.685644+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.685858+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.686130+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.686319+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.686497+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.686672+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.686855+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.687055+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.687266+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.687631+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.688320+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.689037+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.689479+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.689833+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.690159+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.690906+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.696859+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.698024+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.701655+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.703431+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.704248+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.705188+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.705839+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.706376+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.706821+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.707427+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.707765+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.708154+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.708750+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.710909+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.713465+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.714598+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.715775+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.716554+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.717235+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.717636+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.718074+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.718549+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.718996+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.719673+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.720086+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:20.720492+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T15:17:20.720935+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T15:17:50.880625+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T15:17:52.803510+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T15:17:52.803745+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T15:17:52.803953+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.804151+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.804354+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.804550+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.804730+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.804921+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.805116+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.805351+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.805525+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.805666+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.805870+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.806097+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.806304+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.806481+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.806802+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.807006+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.807186+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.807377+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.807589+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.807811+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.808026+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.808248+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.808589+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.808871+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.809035+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.809161+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.809370+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.809629+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.809798+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.809950+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.810118+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.810262+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.810400+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.810593+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.810720+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.810906+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.811047+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.811190+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.811311+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.811425+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.811537+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.811649+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.811762+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.811875+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.811985+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.812103+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.812348+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.812559+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.812686+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.812816+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.812945+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.813181+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.813460+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.813656+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.813846+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.814150+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.814511+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.814877+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:17:52.815092+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T15:17:52.815269+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T15:18:06.289156+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.375871+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.376537+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.379591+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.379960+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.382080+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.382542+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.384881+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.388387+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.388974+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00067s] {'email_1': 'test_1766935084.226488@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.618780+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.619305+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00065s] {'email': 'test_1766935084.226488@example.com', 'hashed_password': '$2b$12$UaFKD8EzI./tA8ip6wikHuIg6O7qPsuCDsoUx0.sIppPgt5XHLfAq', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.621949+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.627023+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.628274+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.628634+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'pk_1': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.630971+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_registered with payload: {'user_id': 11, 'email': 'test_1766935084.226488@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.633079+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_registered to 1 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.651407+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.653258+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.653636+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00065s] {'user_id_1': 11, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.658044+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.658617+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00067s] {'user_id': 11, 'name': None, 'email': 'test_1766935084.226488@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.661614+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.665760+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.666975+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.667347+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'pk_1': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.669461+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: user.profile_created with payload: {'profile_id': 11, 'user_id': 11, 'email': 'test_1766935084.226488@example.com', 'name': None}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.669873+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.671117+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_user_registered completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.672346+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.672799+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2846s ago] {'email_1': 'test_1766935084.226488@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.906943+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 11, 'email': 'test_1766935084.226488@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.908675+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.908951+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.912218+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.623s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.913467+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "63322866-7cfb-4d57-873d-1406bfe38247"}
{"timestamp": "2025-12-28T15:18:06.916030+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "83b63fcd-2143-4086-bb6c-c21d2ba938ee"}
{"timestamp": "2025-12-28T15:18:06.921522+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "83b63fcd-2143-4086-bb6c-c21d2ba938ee"}
{"timestamp": "2025-12-28T15:18:06.922399+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "83b63fcd-2143-4086-bb6c-c21d2ba938ee"}
{"timestamp": "2025-12-28T15:18:06.923005+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.5346s ago] {'email_1': 'test_1766935084.226488@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "83b63fcd-2143-4086-bb6c-c21d2ba938ee"}
{"timestamp": "2025-12-28T15:18:07.131537+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 11, 'email': 'test_1766935084.226488@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "83b63fcd-2143-4086-bb6c-c21d2ba938ee"}
{"timestamp": "2025-12-28T15:18:07.132916+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "83b63fcd-2143-4086-bb6c-c21d2ba938ee"}
{"timestamp": "2025-12-28T15:18:07.133159+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "83b63fcd-2143-4086-bb6c-c21d2ba938ee"}
{"timestamp": "2025-12-28T15:18:07.134232+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.218s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "83b63fcd-2143-4086-bb6c-c21d2ba938ee"}
{"timestamp": "2025-12-28T15:18:07.135158+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "83b63fcd-2143-4086-bb6c-c21d2ba938ee"}
{"timestamp": "2025-12-28T15:18:07.136589+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "9e90bd7b-bde9-40a3-a90f-aa7fd54591f5"}
{"timestamp": "2025-12-28T15:18:07.140140+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "9e90bd7b-bde9-40a3-a90f-aa7fd54591f5"}
{"timestamp": "2025-12-28T15:18:07.141310+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9e90bd7b-bde9-40a3-a90f-aa7fd54591f5"}
{"timestamp": "2025-12-28T15:18:07.141786+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00065s] {'pk_1': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9e90bd7b-bde9-40a3-a90f-aa7fd54591f5"}
{"timestamp": "2025-12-28T15:18:07.144755+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9e90bd7b-bde9-40a3-a90f-aa7fd54591f5"}
{"timestamp": "2025-12-28T15:18:07.145207+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.4922s ago] {'user_id_1': 11, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9e90bd7b-bde9-40a3-a90f-aa7fd54591f5"}
{"timestamp": "2025-12-28T15:18:07.151292+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.015s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "9e90bd7b-bde9-40a3-a90f-aa7fd54591f5"}
{"timestamp": "2025-12-28T15:18:07.152583+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "9e90bd7b-bde9-40a3-a90f-aa7fd54591f5"}
{"timestamp": "2025-12-28T15:18:07.154861+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "68fc7528-5f56-45ec-a5fd-3d4661e96680"}
{"timestamp": "2025-12-28T15:18:07.158428+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "68fc7528-5f56-45ec-a5fd-3d4661e96680"}
{"timestamp": "2025-12-28T15:18:07.160128+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "68fc7528-5f56-45ec-a5fd-3d4661e96680"}
{"timestamp": "2025-12-28T15:18:07.160543+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'title_1': 'The Matrix Reloaded 1766935087.152807'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "68fc7528-5f56-45ec-a5fd-3d4661e96680"}
{"timestamp": "2025-12-28T15:18:07.164279+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO movies (title, description, duration_minutes, release_date, poster_url, trailer_url, is_active, age_rating) VALUES (%(title)s, %(description)s, %(duration_minutes)s, %(release_date)s, %(poster_url)s, %(trailer_url)s, %(is_active)s, %(age_rating)s) RETURNING movies.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "68fc7528-5f56-45ec-a5fd-3d4661e96680"}
{"timestamp": "2025-12-28T15:18:07.164615+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'title': 'The Matrix Reloaded 1766935087.152807', 'description': 'Test movie: The Matrix Reloaded 1766935087.152807', 'duration_minutes': 120, 'release_date': None, 'poster_url': None, 'trailer_url': None, 'is_active': True, 'age_rating': 'PG_13'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "68fc7528-5f56-45ec-a5fd-3d4661e96680"}
{"timestamp": "2025-12-28T15:18:07.166449+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "68fc7528-5f56-45ec-a5fd-3d4661e96680"}
{"timestamp": "2025-12-28T15:18:07.171786+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "68fc7528-5f56-45ec-a5fd-3d4661e96680"}
{"timestamp": "2025-12-28T15:18:07.172840+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "68fc7528-5f56-45ec-a5fd-3d4661e96680"}
{"timestamp": "2025-12-28T15:18:07.173170+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'pk_1': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "68fc7528-5f56-45ec-a5fd-3d4661e96680"}
{"timestamp": "2025-12-28T15:18:07.175729+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: movie.created with payload: {'movie_id': 8}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "68fc7528-5f56-45ec-a5fd-3d4661e96680"}
{"timestamp": "2025-12-28T15:18:07.177152+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing movie.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "68fc7528-5f56-45ec-a5fd-3d4661e96680"}
{"timestamp": "2025-12-28T15:18:07.177334+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: movie.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "68fc7528-5f56-45ec-a5fd-3d4661e96680"}
{"timestamp": "2025-12-28T15:18:07.178496+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 200 (0.024s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "68fc7528-5f56-45ec-a5fd-3d4661e96680"}
{"timestamp": "2025-12-28T15:18:07.179405+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "68fc7528-5f56-45ec-a5fd-3d4661e96680"}
{"timestamp": "2025-12-28T15:18:07.181101+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/layouts", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "4e57e319-ea3c-4780-8a39-0bc0fe36548a"}
{"timestamp": "2025-12-28T15:18:07.184329+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "4e57e319-ea3c-4780-8a39-0bc0fe36548a"}
{"timestamp": "2025-12-28T15:18:07.185841+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.name = %(name_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4e57e319-ea3c-4780-8a39-0bc0fe36548a"}
{"timestamp": "2025-12-28T15:18:07.186348+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00075s] {'name_1': 'Standard Layout 1766935087.179572'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4e57e319-ea3c-4780-8a39-0bc0fe36548a"}
{"timestamp": "2025-12-28T15:18:07.189973+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_layouts (name, rows, seats_per_row, grid) VALUES (%(name)s, %(rows)s, %(seats_per_row)s, %(grid)s::JSON) RETURNING seat_layouts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4e57e319-ea3c-4780-8a39-0bc0fe36548a"}
{"timestamp": "2025-12-28T15:18:07.190561+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00065s] {'name': 'Standard Layout 1766935087.179572', 'rows': 10, 'seats_per_row': 15, 'grid': 'null'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4e57e319-ea3c-4780-8a39-0bc0fe36548a"}
{"timestamp": "2025-12-28T15:18:07.192387+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "4e57e319-ea3c-4780-8a39-0bc0fe36548a"}
{"timestamp": "2025-12-28T15:18:07.196412+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "4e57e319-ea3c-4780-8a39-0bc0fe36548a"}
{"timestamp": "2025-12-28T15:18:07.197444+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4e57e319-ea3c-4780-8a39-0bc0fe36548a"}
{"timestamp": "2025-12-28T15:18:07.197802+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'pk_1': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4e57e319-ea3c-4780-8a39-0bc0fe36548a"}
{"timestamp": "2025-12-28T15:18:07.200428+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.layout_created with payload: {'layout_id': 7}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "4e57e319-ea3c-4780-8a39-0bc0fe36548a"}
{"timestamp": "2025-12-28T15:18:07.202239+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.layout_created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "4e57e319-ea3c-4780-8a39-0bc0fe36548a"}
{"timestamp": "2025-12-28T15:18:07.202580+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.layout_created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "4e57e319-ea3c-4780-8a39-0bc0fe36548a"}
{"timestamp": "2025-12-28T15:18:07.204112+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/layouts \u2192 201 (0.023s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "4e57e319-ea3c-4780-8a39-0bc0fe36548a"}
{"timestamp": "2025-12-28T15:18:07.205083+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "4e57e319-ea3c-4780-8a39-0bc0fe36548a"}
{"timestamp": "2025-12-28T15:18:07.211009+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/screens", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "bbeae07e-42ab-4b40-bec3-4c2d6b8e3347"}
{"timestamp": "2025-12-28T15:18:07.214739+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "bbeae07e-42ab-4b40-bec3-4c2d6b8e3347"}
{"timestamp": "2025-12-28T15:18:07.216029+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.name = %(name_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bbeae07e-42ab-4b40-bec3-4c2d6b8e3347"}
{"timestamp": "2025-12-28T15:18:07.216507+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'name_1': 'Screen 1 1766935087.204776', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bbeae07e-42ab-4b40-bec3-4c2d6b8e3347"}
{"timestamp": "2025-12-28T15:18:07.220837+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id AS seat_layouts_id, seat_layouts.name AS seat_layouts_name, seat_layouts.rows AS seat_layouts_rows, seat_layouts.seats_per_row AS seat_layouts_seats_per_row, seat_layouts.grid AS seat_layouts_grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bbeae07e-42ab-4b40-bec3-4c2d6b8e3347"}
{"timestamp": "2025-12-28T15:18:07.221296+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00058s] {'id_1': 7, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bbeae07e-42ab-4b40-bec3-4c2d6b8e3347"}
{"timestamp": "2025-12-28T15:18:07.223934+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO screens (name, capacity, seat_layout_id) VALUES (%(name)s, %(capacity)s, %(seat_layout_id)s) RETURNING screens.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bbeae07e-42ab-4b40-bec3-4c2d6b8e3347"}
{"timestamp": "2025-12-28T15:18:07.224382+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'name': 'Screen 1 1766935087.204776', 'capacity': 150, 'seat_layout_id': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bbeae07e-42ab-4b40-bec3-4c2d6b8e3347"}
{"timestamp": "2025-12-28T15:18:07.226507+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "bbeae07e-42ab-4b40-bec3-4c2d6b8e3347"}
{"timestamp": "2025-12-28T15:18:07.230718+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "bbeae07e-42ab-4b40-bec3-4c2d6b8e3347"}
{"timestamp": "2025-12-28T15:18:07.231661+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id, screens.name, screens.capacity, screens.seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bbeae07e-42ab-4b40-bec3-4c2d6b8e3347"}
{"timestamp": "2025-12-28T15:18:07.232083+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'pk_1': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bbeae07e-42ab-4b40-bec3-4c2d6b8e3347"}
{"timestamp": "2025-12-28T15:18:07.235225+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.created with payload: {'screen_id': 7}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "bbeae07e-42ab-4b40-bec3-4c2d6b8e3347"}
{"timestamp": "2025-12-28T15:18:07.236523+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "bbeae07e-42ab-4b40-bec3-4c2d6b8e3347"}
{"timestamp": "2025-12-28T15:18:07.236666+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "bbeae07e-42ab-4b40-bec3-4c2d6b8e3347"}
{"timestamp": "2025-12-28T15:18:07.237761+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/screens \u2192 201 (0.027s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "bbeae07e-42ab-4b40-bec3-4c2d6b8e3347"}
{"timestamp": "2025-12-28T15:18:07.238876+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "bbeae07e-42ab-4b40-bec3-4c2d6b8e3347"}
{"timestamp": "2025-12-28T15:18:07.240460+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /showtimes/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.242991+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.244053+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.244492+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'pk_1': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.247367+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.247955+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'pk_1': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.251857+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.screen_id = %(screen_id_1)s AND showtimes.start_time < %(start_time_1)s AND showtimes.end_time > %(end_time_1)s AND showtimes.is_active = true", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.252616+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00066s] {'screen_id_1': 7, 'start_time_1': datetime.datetime(2025, 12, 29, 21, 0), 'end_time_1': datetime.datetime(2025, 12, 29, 19, 0)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.255860+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO showtimes (start_time, end_time, is_active, format, movie_id, screen_id) VALUES (%(start_time)s, %(end_time)s, %(is_active)s, %(format)s, %(movie_id)s, %(screen_id)s) RETURNING showtimes.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.256236+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'start_time': datetime.datetime(2025, 12, 29, 19, 0), 'end_time': datetime.datetime(2025, 12, 29, 21, 0), 'is_active': True, 'format': 'TWO_D', 'movie_id': 8, 'screen_id': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.258271+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.262456+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.263533+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.263888+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'pk_1': 4}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.268333+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.268858+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'pk_1': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.271205+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.271648+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'pk_1': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.273221+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: showtime.created with payload: {'showtime_id': 4}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.274643+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing showtime.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.274842+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: showtime.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.275969+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /showtimes/ \u2192 201 (0.036s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.276839+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "7639f640-6bae-458b-861f-1bdaadaafcd6"}
{"timestamp": "2025-12-28T15:18:07.278741+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /seatavailability/grid/4", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "f86d13b1-064f-4280-b830-650d7544d5da"}
{"timestamp": "2025-12-28T15:18:07.281971+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f86d13b1-064f-4280-b830-650d7544d5da"}
{"timestamp": "2025-12-28T15:18:07.283839+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f86d13b1-064f-4280-b830-650d7544d5da"}
{"timestamp": "2025-12-28T15:18:07.284336+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00075s] {'showtime_id_1': 4}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f86d13b1-064f-4280-b830-650d7544d5da"}
{"timestamp": "2025-12-28T15:18:07.288458+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /seatavailability/grid/4 \u2192 200 (0.010s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "f86d13b1-064f-4280-b830-650d7544d5da"}
{"timestamp": "2025-12-28T15:18:07.289707+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "f86d13b1-064f-4280-b830-650d7544d5da"}
{"timestamp": "2025-12-28T15:18:07.291893+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /reservations/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.294938+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.296412+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO reservations (user_id, showtime_id, seat_code, status, created_at, expires_at) VALUES (%(user_id)s, %(showtime_id)s, %(seat_code)s, %(status)s, %(created_at)s, %(expires_at)s) RETURNING reservations.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.296901+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'user_id': 1, 'showtime_id': 4, 'seat_code': 'R5-8', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 28, 15, 18, 7, 295975, tzinfo=datetime.timezone.utc), 'expires_at': datetime.datetime(2025, 12, 28, 15, 28, 7, 293056, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.300515+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.305502+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.306631+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT reservations.id, reservations.user_id, reservations.showtime_id, reservations.seat_code, reservations.status, reservations.created_at, reservations.expires_at \nFROM reservations \nWHERE reservations.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.307035+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'pk_1': 3}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.309933+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: reservation.created with payload: {'reservation_id': 3, 'user_id': 1, 'showtime_id': 4, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.312745+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing reservation.created to 3 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.316836+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.318349+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s AND seat_locks.seat_code = %(seat_code_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.318883+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00083s] {'showtime_id_1': 4, 'seat_code_1': 'R5-8', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.321829+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.327688+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.event_bus", "message": "\u274c Event handler failed: reservation.created -> on_reservation_created: ('Seat does not exist', {'seat_code': 'R5-8'})", "module": "event_bus", "function": "_safe_invoke", "line": 43, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 23, in publish_event\n    loop = asyncio.get_running_loop()\nRuntimeError: no running event loop\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\event_bus.py\", line 40, in _safe_invoke\n    await handler(payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\seat_availability\\handlers.py\", line 24, in on_reservation_created\n    seat_service.lock_seat(\n    ~~~~~~~~~~~~~~~~~~~~~~^\n        db,\n        ^^^\n    ...<2 lines>...\n        user_id=user_id,\n        ^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\seat_availability\\service.py\", line 27, in lock_seat\n    raise NotFoundError(\"Seat does not exist\", {\"seat_code\": seat_code})\napp.core.errors.NotFoundError: ('Seat does not exist', {'seat_code': 'R5-8'})"}
{"timestamp": "2025-12-28T15:18:07.329876+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\ud83c\udfab Order handler received reservation.created: {'reservation_id': 3, 'user_id': 1, 'showtime_id': 4, 'seat_code': 'R5-8'}", "module": "handlers", "function": "on_reservation_created", "line": 21, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.330250+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "Creating order for reservation 3", "module": "handlers", "function": "on_reservation_created", "line": 33, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.332108+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.333366+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO orders (user_id, pricing_snapshot, final_amount, is_completed, reservation_id) VALUES (%(user_id)s, %(pricing_snapshot)s::JSON, %(final_amount)s, %(is_completed)s, %(reservation_id)s) RETURNING orders.id, orders.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.333853+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'user_id': 1, 'pricing_snapshot': '{}', 'final_amount': 0, 'is_completed': False, 'reservation_id': 3}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.337247+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.341906+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.343255+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.344110+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'pk_1': 3}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.346555+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: order.created with payload: {'order_id': 3, 'reservation_id': 3, 'user_id': 1, 'showtime_id': 4, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.347123+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\u2713 Order created successfully for reservation 3", "module": "handlers", "function": "on_reservation_created", "line": 41, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.347628+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.348980+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.351212+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.352605+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO audit_logs (actor_id, actor_type, action, target_id, target_type, payload, request_id, created_at) VALUES (%(actor_id)s, %(actor_type)s, %(action)s, %(target_id)s, %(target_type)s, %(payload)s::JSON, %(request_id)s, %(created_at)s) RETURNING audit_logs.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.352979+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'actor_id': 1, 'actor_type': 'user', 'action': 'reservation.created', 'target_id': 3, 'target_type': 'reservation', 'payload': '{\"reservation_id\": 3, \"user_id\": 1, \"showtime_id\": 4, \"seat_code\": \"R5-8\"}', 'request_id': None, 'created_at': datetime.datetime(2025, 12, 28, 15, 18, 7, 352161, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.355420+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.360341+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.361782+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT audit_logs.id, audit_logs.actor_id, audit_logs.actor_type, audit_logs.action, audit_logs.target_id, audit_logs.target_type, audit_logs.payload, audit_logs.request_id, audit_logs.created_at \nFROM audit_logs \nWHERE audit_logs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.362231+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'pk_1': 3}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.364794+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.366149+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.367519+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /reservations/ \u2192 200 (0.076s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.368761+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "87c5d3b4-14df-41b5-a568-c46003975705"}
{"timestamp": "2025-12-28T15:18:07.370545+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /orders/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "e009ff23-938b-4e67-b66b-43449fe230e2"}
{"timestamp": "2025-12-28T15:18:07.372936+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "e009ff23-938b-4e67-b66b-43449fe230e2"}
{"timestamp": "2025-12-28T15:18:07.373436+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e009ff23-938b-4e67-b66b-43449fe230e2"}
{"timestamp": "2025-12-28T15:18:07.373875+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2328s ago] {'pk_1': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e009ff23-938b-4e67-b66b-43449fe230e2"}
{"timestamp": "2025-12-28T15:18:07.377230+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.user_id = %(user_id_1)s AND orders.is_completed = true", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e009ff23-938b-4e67-b66b-43449fe230e2"}
{"timestamp": "2025-12-28T15:18:07.377619+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'user_id_1': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e009ff23-938b-4e67-b66b-43449fe230e2"}
{"timestamp": "2025-12-28T15:18:07.379628+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /orders/ \u2192 200 (0.009s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "e009ff23-938b-4e67-b66b-43449fe230e2"}
{"timestamp": "2025-12-28T15:18:07.380723+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "e009ff23-938b-4e67-b66b-43449fe230e2"}
{"timestamp": "2025-12-28T15:25:30.095553+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T15:25:32.162689+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T15:25:32.163003+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T15:25:32.163232+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.163424+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.163609+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.163803+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.163972+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.164104+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.164265+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.164447+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.164621+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.164934+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.165174+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.165428+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.165813+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.166188+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.166398+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.166570+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.166746+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.166975+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.167226+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.167424+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.167600+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.167828+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.168085+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.168311+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.168543+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.168938+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.169339+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.169590+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.169815+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.170034+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.170208+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.170428+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.170749+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.171027+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.171254+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.171493+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.171707+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.171874+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.172210+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.172690+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.173201+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.173609+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.173907+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.174241+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.174552+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.174741+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.174913+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.175145+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.175340+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.175471+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.175601+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.175732+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.175855+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.175976+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.176097+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.176228+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.176348+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.176521+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:25:32.176790+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T15:25:32.177118+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T15:27:47.509251+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T15:27:49.345319+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T15:27:49.345561+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T15:27:49.345756+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.345929+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.346093+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.346288+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.346540+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.346784+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.347024+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.347375+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.347560+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.347680+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.347791+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.347902+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.348012+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.348123+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.348233+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.348344+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.348453+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.348562+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.348673+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.348788+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.348900+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.349010+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.349119+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.349243+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.349440+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.349692+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.349990+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.350214+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.350371+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.350593+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.350824+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.351201+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.351522+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.351902+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.352196+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.352496+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.352777+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.353033+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.353267+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.353473+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.353651+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.353789+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.353922+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.354082+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.354217+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.354489+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.354854+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.355138+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.355451+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.355804+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.356168+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.356578+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.356835+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.357047+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.357228+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.357463+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.357732+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.357957+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:27:49.358178+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T15:27:49.358477+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T15:28:09.030198+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.078109+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.078339+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.080529+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.080806+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.082462+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.082770+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.085037+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.087816+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.088191+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'email_1': 'test_1766935686.971712@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.314610+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.314911+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00077s] {'email': 'test_1766935686.971712@example.com', 'hashed_password': '$2b$12$wMfgULNWFOGMr6ra4wtxT.7Bhty7jE2h1Y4RxiyZPyv4RhC./lS.m', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.316901+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.323906+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.325101+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.325444+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'pk_1': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.327548+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_registered with payload: {'user_id': 12, 'email': 'test_1766935686.971712@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.328607+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_registered to 1 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.361123+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.362676+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.363067+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'user_id_1': 12, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.367033+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.367446+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00066s] {'user_id': 12, 'name': None, 'email': 'test_1766935686.971712@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.369844+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.374085+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.375352+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.375835+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00073s] {'pk_1': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.377809+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: user.profile_created with payload: {'profile_id': 12, 'user_id': 12, 'email': 'test_1766935686.971712@example.com', 'name': None}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.378381+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.379327+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_user_registered completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.380651+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.381205+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2934s ago] {'email_1': 'test_1766935686.971712@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.593969+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 12, 'email': 'test_1766935686.971712@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.595150+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.595348+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.596485+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.566s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.597414+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "b8c3830f-e8f3-4fed-96ba-7b9c21078539"}
{"timestamp": "2025-12-28T15:28:09.599325+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "ee02e722-d401-4e0f-848e-02373595f0c2"}
{"timestamp": "2025-12-28T15:28:09.604860+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "ee02e722-d401-4e0f-848e-02373595f0c2"}
{"timestamp": "2025-12-28T15:28:09.605485+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ee02e722-d401-4e0f-848e-02373595f0c2"}
{"timestamp": "2025-12-28T15:28:09.605783+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.5182s ago] {'email_1': 'test_1766935686.971712@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ee02e722-d401-4e0f-848e-02373595f0c2"}
{"timestamp": "2025-12-28T15:28:09.812038+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 12, 'email': 'test_1766935686.971712@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "ee02e722-d401-4e0f-848e-02373595f0c2"}
{"timestamp": "2025-12-28T15:28:09.813239+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "ee02e722-d401-4e0f-848e-02373595f0c2"}
{"timestamp": "2025-12-28T15:28:09.813413+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "ee02e722-d401-4e0f-848e-02373595f0c2"}
{"timestamp": "2025-12-28T15:28:09.814491+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.215s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "ee02e722-d401-4e0f-848e-02373595f0c2"}
{"timestamp": "2025-12-28T15:28:09.815377+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "ee02e722-d401-4e0f-848e-02373595f0c2"}
{"timestamp": "2025-12-28T15:28:09.816826+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "2667db17-173e-4276-9696-77c785678350"}
{"timestamp": "2025-12-28T15:28:09.819686+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "2667db17-173e-4276-9696-77c785678350"}
{"timestamp": "2025-12-28T15:28:09.820797+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2667db17-173e-4276-9696-77c785678350"}
{"timestamp": "2025-12-28T15:28:09.821118+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'pk_1': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2667db17-173e-4276-9696-77c785678350"}
{"timestamp": "2025-12-28T15:28:09.824400+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2667db17-173e-4276-9696-77c785678350"}
{"timestamp": "2025-12-28T15:28:09.824631+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.4623s ago] {'user_id_1': 12, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2667db17-173e-4276-9696-77c785678350"}
{"timestamp": "2025-12-28T15:28:09.827284+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.011s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "2667db17-173e-4276-9696-77c785678350"}
{"timestamp": "2025-12-28T15:28:09.828252+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "2667db17-173e-4276-9696-77c785678350"}
{"timestamp": "2025-12-28T15:28:09.830625+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "f14b8b48-1568-4821-a4ea-32105c4a26dd"}
{"timestamp": "2025-12-28T15:28:09.833570+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f14b8b48-1568-4821-a4ea-32105c4a26dd"}
{"timestamp": "2025-12-28T15:28:09.835199+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f14b8b48-1568-4821-a4ea-32105c4a26dd"}
{"timestamp": "2025-12-28T15:28:09.835551+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'title_1': 'The Matrix Reloaded 1766935689.828806'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f14b8b48-1568-4821-a4ea-32105c4a26dd"}
{"timestamp": "2025-12-28T15:28:09.839148+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO movies (title, description, duration_minutes, release_date, poster_url, trailer_url, is_active, age_rating) VALUES (%(title)s, %(description)s, %(duration_minutes)s, %(release_date)s, %(poster_url)s, %(trailer_url)s, %(is_active)s, %(age_rating)s) RETURNING movies.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f14b8b48-1568-4821-a4ea-32105c4a26dd"}
{"timestamp": "2025-12-28T15:28:09.839537+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'title': 'The Matrix Reloaded 1766935689.828806', 'description': 'Test movie: The Matrix Reloaded 1766935689.828806', 'duration_minutes': 120, 'release_date': None, 'poster_url': None, 'trailer_url': None, 'is_active': True, 'age_rating': 'PG_13'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f14b8b48-1568-4821-a4ea-32105c4a26dd"}
{"timestamp": "2025-12-28T15:28:09.841379+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "f14b8b48-1568-4821-a4ea-32105c4a26dd"}
{"timestamp": "2025-12-28T15:28:09.846278+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f14b8b48-1568-4821-a4ea-32105c4a26dd"}
{"timestamp": "2025-12-28T15:28:09.847226+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f14b8b48-1568-4821-a4ea-32105c4a26dd"}
{"timestamp": "2025-12-28T15:28:09.847457+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00043s] {'pk_1': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f14b8b48-1568-4821-a4ea-32105c4a26dd"}
{"timestamp": "2025-12-28T15:28:09.849930+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: movie.created with payload: {'movie_id': 9}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "f14b8b48-1568-4821-a4ea-32105c4a26dd"}
{"timestamp": "2025-12-28T15:28:09.851670+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing movie.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "f14b8b48-1568-4821-a4ea-32105c4a26dd"}
{"timestamp": "2025-12-28T15:28:09.851915+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: movie.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "f14b8b48-1568-4821-a4ea-32105c4a26dd"}
{"timestamp": "2025-12-28T15:28:09.853411+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 200 (0.023s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "f14b8b48-1568-4821-a4ea-32105c4a26dd"}
{"timestamp": "2025-12-28T15:28:09.854383+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "f14b8b48-1568-4821-a4ea-32105c4a26dd"}
{"timestamp": "2025-12-28T15:28:09.856071+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/layouts", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "fd407196-5de4-44e8-9024-2ca470f45c4e"}
{"timestamp": "2025-12-28T15:28:09.858608+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "fd407196-5de4-44e8-9024-2ca470f45c4e"}
{"timestamp": "2025-12-28T15:28:09.859879+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.name = %(name_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "fd407196-5de4-44e8-9024-2ca470f45c4e"}
{"timestamp": "2025-12-28T15:28:09.860208+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00044s] {'name_1': 'Standard Layout 1766935689.854461'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "fd407196-5de4-44e8-9024-2ca470f45c4e"}
{"timestamp": "2025-12-28T15:28:09.863207+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_layouts (name, rows, seats_per_row, grid) VALUES (%(name)s, %(rows)s, %(seats_per_row)s, %(grid)s::JSON) RETURNING seat_layouts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "fd407196-5de4-44e8-9024-2ca470f45c4e"}
{"timestamp": "2025-12-28T15:28:09.863485+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'name': 'Standard Layout 1766935689.854461', 'rows': 10, 'seats_per_row': 15, 'grid': 'null'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "fd407196-5de4-44e8-9024-2ca470f45c4e"}
{"timestamp": "2025-12-28T15:28:09.865659+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "fd407196-5de4-44e8-9024-2ca470f45c4e"}
{"timestamp": "2025-12-28T15:28:09.870300+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "fd407196-5de4-44e8-9024-2ca470f45c4e"}
{"timestamp": "2025-12-28T15:28:09.871490+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "fd407196-5de4-44e8-9024-2ca470f45c4e"}
{"timestamp": "2025-12-28T15:28:09.871873+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'pk_1': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "fd407196-5de4-44e8-9024-2ca470f45c4e"}
{"timestamp": "2025-12-28T15:28:09.874351+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.layout_created with payload: {'layout_id': 8}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "fd407196-5de4-44e8-9024-2ca470f45c4e"}
{"timestamp": "2025-12-28T15:28:09.875524+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.layout_created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "fd407196-5de4-44e8-9024-2ca470f45c4e"}
{"timestamp": "2025-12-28T15:28:09.875806+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.layout_created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "fd407196-5de4-44e8-9024-2ca470f45c4e"}
{"timestamp": "2025-12-28T15:28:09.877180+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/layouts \u2192 201 (0.021s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "fd407196-5de4-44e8-9024-2ca470f45c4e"}
{"timestamp": "2025-12-28T15:28:09.878389+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "fd407196-5de4-44e8-9024-2ca470f45c4e"}
{"timestamp": "2025-12-28T15:28:09.886662+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/screens", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "1c6e16b0-0059-4d46-b627-1375db4e7eb7"}
{"timestamp": "2025-12-28T15:28:09.889537+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "1c6e16b0-0059-4d46-b627-1375db4e7eb7"}
{"timestamp": "2025-12-28T15:28:09.890920+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.name = %(name_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1c6e16b0-0059-4d46-b627-1375db4e7eb7"}
{"timestamp": "2025-12-28T15:28:09.891361+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00062s] {'name_1': 'Screen 1 1766935689.878068', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1c6e16b0-0059-4d46-b627-1375db4e7eb7"}
{"timestamp": "2025-12-28T15:28:09.895187+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id AS seat_layouts_id, seat_layouts.name AS seat_layouts_name, seat_layouts.rows AS seat_layouts_rows, seat_layouts.seats_per_row AS seat_layouts_seats_per_row, seat_layouts.grid AS seat_layouts_grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1c6e16b0-0059-4d46-b627-1375db4e7eb7"}
{"timestamp": "2025-12-28T15:28:09.895839+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00080s] {'id_1': 8, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1c6e16b0-0059-4d46-b627-1375db4e7eb7"}
{"timestamp": "2025-12-28T15:28:09.898519+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO screens (name, capacity, seat_layout_id) VALUES (%(name)s, %(capacity)s, %(seat_layout_id)s) RETURNING screens.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1c6e16b0-0059-4d46-b627-1375db4e7eb7"}
{"timestamp": "2025-12-28T15:28:09.898911+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'name': 'Screen 1 1766935689.878068', 'capacity': 150, 'seat_layout_id': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1c6e16b0-0059-4d46-b627-1375db4e7eb7"}
{"timestamp": "2025-12-28T15:28:09.901150+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "1c6e16b0-0059-4d46-b627-1375db4e7eb7"}
{"timestamp": "2025-12-28T15:28:09.905529+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "1c6e16b0-0059-4d46-b627-1375db4e7eb7"}
{"timestamp": "2025-12-28T15:28:09.906458+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id, screens.name, screens.capacity, screens.seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1c6e16b0-0059-4d46-b627-1375db4e7eb7"}
{"timestamp": "2025-12-28T15:28:09.906730+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'pk_1': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1c6e16b0-0059-4d46-b627-1375db4e7eb7"}
{"timestamp": "2025-12-28T15:28:09.909149+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.created with payload: {'screen_id': 8}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "1c6e16b0-0059-4d46-b627-1375db4e7eb7"}
{"timestamp": "2025-12-28T15:28:09.910223+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "1c6e16b0-0059-4d46-b627-1375db4e7eb7"}
{"timestamp": "2025-12-28T15:28:09.910416+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "1c6e16b0-0059-4d46-b627-1375db4e7eb7"}
{"timestamp": "2025-12-28T15:28:09.911643+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/screens \u2192 201 (0.025s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "1c6e16b0-0059-4d46-b627-1375db4e7eb7"}
{"timestamp": "2025-12-28T15:28:09.912637+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "1c6e16b0-0059-4d46-b627-1375db4e7eb7"}
{"timestamp": "2025-12-28T15:28:09.914417+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /showtimes/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.916857+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.917987+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.918316+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'pk_1': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.921823+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.922092+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'pk_1': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.924844+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.screen_id = %(screen_id_1)s AND showtimes.start_time < %(start_time_1)s AND showtimes.end_time > %(end_time_1)s AND showtimes.is_active = true", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.925286+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'screen_id_1': 8, 'start_time_1': datetime.datetime(2025, 12, 29, 21, 0), 'end_time_1': datetime.datetime(2025, 12, 29, 19, 0)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.928848+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO showtimes (start_time, end_time, is_active, format, movie_id, screen_id) VALUES (%(start_time)s, %(end_time)s, %(is_active)s, %(format)s, %(movie_id)s, %(screen_id)s) RETURNING showtimes.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.929372+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00071s] {'start_time': datetime.datetime(2025, 12, 29, 19, 0), 'end_time': datetime.datetime(2025, 12, 29, 21, 0), 'is_active': True, 'format': 'TWO_D', 'movie_id': 9, 'screen_id': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.931569+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.935779+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.936804+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.937045+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'pk_1': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.940803+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.941362+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'pk_1': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.943974+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.944386+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00065s] {'pk_1': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.946106+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: showtime.created with payload: {'showtime_id': 5}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.947684+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing showtime.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.947864+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: showtime.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.949078+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /showtimes/ \u2192 201 (0.035s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.949939+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "d91a94c2-b69c-40f0-8fca-be4693ea88fa"}
{"timestamp": "2025-12-28T15:28:09.951550+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /seatavailability/grid/5", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "68911b0b-176b-4fb6-8800-c2fbae522ac7"}
{"timestamp": "2025-12-28T15:28:09.953719+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "68911b0b-176b-4fb6-8800-c2fbae522ac7"}
{"timestamp": "2025-12-28T15:28:09.954965+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "68911b0b-176b-4fb6-8800-c2fbae522ac7"}
{"timestamp": "2025-12-28T15:28:09.955346+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00043s] {'showtime_id_1': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "68911b0b-176b-4fb6-8800-c2fbae522ac7"}
{"timestamp": "2025-12-28T15:28:09.958277+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /seatavailability/grid/5 \u2192 200 (0.007s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "68911b0b-176b-4fb6-8800-c2fbae522ac7"}
{"timestamp": "2025-12-28T15:28:09.959523+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "68911b0b-176b-4fb6-8800-c2fbae522ac7"}
{"timestamp": "2025-12-28T15:28:09.961733+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /reservations/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:09.964808+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:09.966294+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO reservations (user_id, showtime_id, seat_code, status, created_at, expires_at) VALUES (%(user_id)s, %(showtime_id)s, %(seat_code)s, %(status)s, %(created_at)s, %(expires_at)s) RETURNING reservations.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:09.966607+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'user_id': 1, 'showtime_id': 5, 'seat_code': 'R5-8', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 28, 15, 28, 9, 965838, tzinfo=datetime.timezone.utc), 'expires_at': datetime.datetime(2025, 12, 28, 15, 38, 9, 962700, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:09.969755+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:09.973847+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:09.975078+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT reservations.id, reservations.user_id, reservations.showtime_id, reservations.seat_code, reservations.status, reservations.created_at, reservations.expires_at \nFROM reservations \nWHERE reservations.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:09.975440+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00061s] {'pk_1': 4}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:09.977844+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: reservation.created with payload: {'reservation_id': 4, 'user_id': 1, 'showtime_id': 5, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:09.978919+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing reservation.created to 3 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:09.981234+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:09.982250+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s AND seat_locks.seat_code = %(seat_code_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:09.982488+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'showtime_id_1': 5, 'seat_code_1': 'R5-8', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:09.985463+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_locks (seat_code, showtime_id, status, locked_by_user_id, lock_expires_at) VALUES (%(seat_code)s, %(showtime_id)s, %(status)s, %(locked_by_user_id)s, %(lock_expires_at)s) RETURNING seat_locks.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:09.985920+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'seat_code': 'R5-8', 'showtime_id': 5, 'status': 'AVAILABLE', 'locked_by_user_id': None, 'lock_expires_at': None}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:09.991875+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE seat_locks SET status=%(status)s, locked_by_user_id=%(locked_by_user_id)s, lock_expires_at=%(lock_expires_at)s WHERE seat_locks.id = %(seat_locks_id)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:09.992224+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00060s] {'status': 'LOCKED', 'locked_by_user_id': 1, 'lock_expires_at': datetime.datetime(2025, 12, 28, 15, 38, 9, 990231, tzinfo=datetime.timezone.utc), 'seat_locks_id': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:09.997594+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.001937+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.002814+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id, seat_locks.seat_code, seat_locks.showtime_id, seat_locks.status, seat_locks.locked_by_user_id, seat_locks.lock_expires_at \nFROM seat_locks \nWHERE seat_locks.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.003186+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'pk_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.005436+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: seat.locked with payload: {'showtime_id': 5, 'seat_code': 'R5-8', 'user_id': 1, 'expires_at': '2025-12-28T15:38:09.990231+00:00'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.005830+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.007359+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.007733+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\ud83c\udfab Order handler received reservation.created: {'reservation_id': 4, 'user_id': 1, 'showtime_id': 5, 'seat_code': 'R5-8'}", "module": "handlers", "function": "on_reservation_created", "line": 21, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.007989+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "Creating order for reservation 4", "module": "handlers", "function": "on_reservation_created", "line": 33, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.009574+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.011215+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO orders (user_id, pricing_snapshot, final_amount, is_completed, reservation_id) VALUES (%(user_id)s, %(pricing_snapshot)s::JSON, %(final_amount)s, %(is_completed)s, %(reservation_id)s) RETURNING orders.id, orders.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.011585+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'user_id': 1, 'pricing_snapshot': '{}', 'final_amount': 0, 'is_completed': False, 'reservation_id': 4}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.014289+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.018240+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.019250+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.019483+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00040s] {'pk_1': 4}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.021459+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: order.created with payload: {'order_id': 4, 'reservation_id': 4, 'user_id': 1, 'showtime_id': 5, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.021727+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\u2713 Order created successfully for reservation 4", "module": "handlers", "function": "on_reservation_created", "line": 41, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.022014+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.023704+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.025828+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.027129+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO audit_logs (actor_id, actor_type, action, target_id, target_type, payload, request_id, created_at) VALUES (%(actor_id)s, %(actor_type)s, %(action)s, %(target_id)s, %(target_type)s, %(payload)s::JSON, %(request_id)s, %(created_at)s) RETURNING audit_logs.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.027472+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'actor_id': 1, 'actor_type': 'user', 'action': 'reservation.created', 'target_id': 4, 'target_type': 'reservation', 'payload': '{\"reservation_id\": 4, \"user_id\": 1, \"showtime_id\": 5, \"seat_code\": \"R5-8\"}', 'request_id': None, 'created_at': datetime.datetime(2025, 12, 28, 15, 28, 10, 26709, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.030082+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.034604+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.035987+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT audit_logs.id, audit_logs.actor_id, audit_logs.actor_type, audit_logs.action, audit_logs.target_id, audit_logs.target_type, audit_logs.payload, audit_logs.request_id, audit_logs.created_at \nFROM audit_logs \nWHERE audit_logs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.036384+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00069s] {'pk_1': 4}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.039821+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.041355+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.042603+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /reservations/ \u2192 200 (0.081s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.043560+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "494e1a9a-b81c-40ea-9ab4-63608a7affc2"}
{"timestamp": "2025-12-28T15:28:10.045669+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /orders/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "70caacbf-2f00-459e-b708-45e8a92693df"}
{"timestamp": "2025-12-28T15:28:10.048667+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "70caacbf-2f00-459e-b708-45e8a92693df"}
{"timestamp": "2025-12-28T15:28:10.049459+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "70caacbf-2f00-459e-b708-45e8a92693df"}
{"timestamp": "2025-12-28T15:28:10.049831+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2292s ago] {'pk_1': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "70caacbf-2f00-459e-b708-45e8a92693df"}
{"timestamp": "2025-12-28T15:28:10.052929+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.user_id = %(user_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "70caacbf-2f00-459e-b708-45e8a92693df"}
{"timestamp": "2025-12-28T15:28:10.053153+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00044s] {'user_id_1': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "70caacbf-2f00-459e-b708-45e8a92693df"}
{"timestamp": "2025-12-28T15:28:10.055512+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /orders/ \u2192 200 (0.010s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "70caacbf-2f00-459e-b708-45e8a92693df"}
{"timestamp": "2025-12-28T15:28:10.056399+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "70caacbf-2f00-459e-b708-45e8a92693df"}
{"timestamp": "2025-12-28T15:35:18.292520+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T15:35:20.318290+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T15:35:20.318504+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T15:35:20.318721+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.318897+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.319059+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.319226+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.319392+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.319538+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.319691+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.319836+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.319975+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.320132+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.320275+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.320470+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.320717+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.320902+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.321067+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.321225+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.321442+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.321584+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.321757+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.321971+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.322123+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.322324+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.322546+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.322726+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.322864+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.323006+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.323132+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.323297+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.323524+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.323808+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.324025+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.324216+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.324366+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.324486+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.324599+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.324803+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.324923+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.325036+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.325147+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.325588+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.325988+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.326372+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.326703+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.326934+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.327191+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.327389+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.327520+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.327636+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.327750+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.327864+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.327977+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.328089+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.328203+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.328314+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.328431+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.328546+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.328657+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.328770+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:20.328900+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T15:35:20.329078+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T15:35:54.744618+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T15:35:56.878124+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T15:35:56.878341+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T15:35:56.878585+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.878797+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.878962+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.879168+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.879444+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.879668+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.879857+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.880024+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.880199+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.880420+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.880591+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.880820+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.880967+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.881108+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.881290+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.881443+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.881583+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.881762+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.881996+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.882242+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.882466+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.882637+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.882877+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.883107+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.883280+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.883482+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.883763+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.883984+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.884138+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.884268+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.884470+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.884598+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.884719+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.884884+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.885014+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.885135+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.885257+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.885379+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.885502+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.885626+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.885756+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.885968+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.886227+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.886439+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.886703+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.887063+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.887463+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.887746+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.888041+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.888351+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.888605+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.888799+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.888943+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.889177+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.889412+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.889681+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.889883+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.890075+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:35:56.890267+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T15:35:56.890430+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T15:36:13.468279+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.526811+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.527244+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.530087+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.530399+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.532618+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.532968+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.535380+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.537912+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.538443+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'email_1': 'test_1766936171.418956@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.766929+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.767383+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00068s] {'email': 'test_1766936171.418956@example.com', 'hashed_password': '$2b$12$1uwIxGvgKpGbhRcfkt0YQ.EEvOl2deyFoBoVB4glAyxCI3hj3a0Hu', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.770090+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.777639+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.778914+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.779308+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'pk_1': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.781738+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_registered with payload: {'user_id': 13, 'email': 'test_1766936171.418956@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.783358+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_registered to 1 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.801925+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.803488+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.804013+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'user_id_1': 13, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.809026+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.809398+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'user_id': 13, 'name': None, 'email': 'test_1766936171.418956@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.812910+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.817254+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.818198+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.818616+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'pk_1': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.821317+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: user.profile_created with payload: {'profile_id': 13, 'user_id': 13, 'email': 'test_1766936171.418956@example.com', 'name': None}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.821989+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.823090+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_user_registered completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.824547+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:13.824904+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2872s ago] {'email_1': 'test_1766936171.418956@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:14.038610+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 13, 'email': 'test_1766936171.418956@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:14.039963+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:14.040257+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:14.041618+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.573s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:14.042971+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "80d6aa2e-3b41-41f3-ae09-76ff5aaf9a05"}
{"timestamp": "2025-12-28T15:36:14.045601+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "d9ac3f0f-3150-4045-8ec8-d0f122f5a119"}
{"timestamp": "2025-12-28T15:36:14.050936+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "d9ac3f0f-3150-4045-8ec8-d0f122f5a119"}
{"timestamp": "2025-12-28T15:36:14.051590+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d9ac3f0f-3150-4045-8ec8-d0f122f5a119"}
{"timestamp": "2025-12-28T15:36:14.052021+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.5142s ago] {'email_1': 'test_1766936171.418956@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d9ac3f0f-3150-4045-8ec8-d0f122f5a119"}
{"timestamp": "2025-12-28T15:36:14.258663+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 13, 'email': 'test_1766936171.418956@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "d9ac3f0f-3150-4045-8ec8-d0f122f5a119"}
{"timestamp": "2025-12-28T15:36:14.260132+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "d9ac3f0f-3150-4045-8ec8-d0f122f5a119"}
{"timestamp": "2025-12-28T15:36:14.260430+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "d9ac3f0f-3150-4045-8ec8-d0f122f5a119"}
{"timestamp": "2025-12-28T15:36:14.262088+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.216s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "d9ac3f0f-3150-4045-8ec8-d0f122f5a119"}
{"timestamp": "2025-12-28T15:36:14.263149+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "d9ac3f0f-3150-4045-8ec8-d0f122f5a119"}
{"timestamp": "2025-12-28T15:36:14.264965+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "400d7522-396d-42a8-bb3d-70b8bcb59082"}
{"timestamp": "2025-12-28T15:36:14.267671+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "400d7522-396d-42a8-bb3d-70b8bcb59082"}
{"timestamp": "2025-12-28T15:36:14.268715+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "400d7522-396d-42a8-bb3d-70b8bcb59082"}
{"timestamp": "2025-12-28T15:36:14.269280+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'pk_1': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "400d7522-396d-42a8-bb3d-70b8bcb59082"}
{"timestamp": "2025-12-28T15:36:14.272405+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "400d7522-396d-42a8-bb3d-70b8bcb59082"}
{"timestamp": "2025-12-28T15:36:14.272871+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.4695s ago] {'user_id_1': 13, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "400d7522-396d-42a8-bb3d-70b8bcb59082"}
{"timestamp": "2025-12-28T15:36:14.276308+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.011s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "400d7522-396d-42a8-bb3d-70b8bcb59082"}
{"timestamp": "2025-12-28T15:36:14.277460+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "400d7522-396d-42a8-bb3d-70b8bcb59082"}
{"timestamp": "2025-12-28T15:36:14.280346+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "328f78f0-cf77-45f2-a57c-59b9497083d3"}
{"timestamp": "2025-12-28T15:36:14.284398+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "328f78f0-cf77-45f2-a57c-59b9497083d3"}
{"timestamp": "2025-12-28T15:36:14.286689+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "328f78f0-cf77-45f2-a57c-59b9497083d3"}
{"timestamp": "2025-12-28T15:36:14.287258+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00077s] {'title_1': 'The Matrix Reloaded 1766936174.278152'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "328f78f0-cf77-45f2-a57c-59b9497083d3"}
{"timestamp": "2025-12-28T15:36:14.292168+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO movies (title, description, duration_minutes, release_date, poster_url, trailer_url, is_active, age_rating) VALUES (%(title)s, %(description)s, %(duration_minutes)s, %(release_date)s, %(poster_url)s, %(trailer_url)s, %(is_active)s, %(age_rating)s) RETURNING movies.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "328f78f0-cf77-45f2-a57c-59b9497083d3"}
{"timestamp": "2025-12-28T15:36:14.293022+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00087s] {'title': 'The Matrix Reloaded 1766936174.278152', 'description': 'Test movie: The Matrix Reloaded 1766936174.278152', 'duration_minutes': 120, 'release_date': None, 'poster_url': None, 'trailer_url': None, 'is_active': True, 'age_rating': 'PG_13'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "328f78f0-cf77-45f2-a57c-59b9497083d3"}
{"timestamp": "2025-12-28T15:36:14.295599+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "328f78f0-cf77-45f2-a57c-59b9497083d3"}
{"timestamp": "2025-12-28T15:36:14.300651+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "328f78f0-cf77-45f2-a57c-59b9497083d3"}
{"timestamp": "2025-12-28T15:36:14.302141+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "328f78f0-cf77-45f2-a57c-59b9497083d3"}
{"timestamp": "2025-12-28T15:36:14.302577+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00067s] {'pk_1': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "328f78f0-cf77-45f2-a57c-59b9497083d3"}
{"timestamp": "2025-12-28T15:36:14.305996+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: movie.created with payload: {'movie_id': 10}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "328f78f0-cf77-45f2-a57c-59b9497083d3"}
{"timestamp": "2025-12-28T15:36:14.308062+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing movie.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "328f78f0-cf77-45f2-a57c-59b9497083d3"}
{"timestamp": "2025-12-28T15:36:14.308509+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: movie.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "328f78f0-cf77-45f2-a57c-59b9497083d3"}
{"timestamp": "2025-12-28T15:36:14.310208+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 200 (0.030s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "328f78f0-cf77-45f2-a57c-59b9497083d3"}
{"timestamp": "2025-12-28T15:36:14.311755+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "328f78f0-cf77-45f2-a57c-59b9497083d3"}
{"timestamp": "2025-12-28T15:36:14.313845+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/layouts", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "a0bd48f1-7cc6-4e18-bb4f-72e60e019025"}
{"timestamp": "2025-12-28T15:36:14.316955+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a0bd48f1-7cc6-4e18-bb4f-72e60e019025"}
{"timestamp": "2025-12-28T15:36:14.318515+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.name = %(name_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0bd48f1-7cc6-4e18-bb4f-72e60e019025"}
{"timestamp": "2025-12-28T15:36:14.318987+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00072s] {'name_1': 'Standard Layout 1766936174.311706'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0bd48f1-7cc6-4e18-bb4f-72e60e019025"}
{"timestamp": "2025-12-28T15:36:14.323037+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_layouts (name, rows, seats_per_row, grid) VALUES (%(name)s, %(rows)s, %(seats_per_row)s, %(grid)s::JSON) RETURNING seat_layouts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0bd48f1-7cc6-4e18-bb4f-72e60e019025"}
{"timestamp": "2025-12-28T15:36:14.323715+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00077s] {'name': 'Standard Layout 1766936174.311706', 'rows': 10, 'seats_per_row': 15, 'grid': 'null'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0bd48f1-7cc6-4e18-bb4f-72e60e019025"}
{"timestamp": "2025-12-28T15:36:14.326063+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "a0bd48f1-7cc6-4e18-bb4f-72e60e019025"}
{"timestamp": "2025-12-28T15:36:14.330649+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a0bd48f1-7cc6-4e18-bb4f-72e60e019025"}
{"timestamp": "2025-12-28T15:36:14.331739+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0bd48f1-7cc6-4e18-bb4f-72e60e019025"}
{"timestamp": "2025-12-28T15:36:14.332108+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'pk_1': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0bd48f1-7cc6-4e18-bb4f-72e60e019025"}
{"timestamp": "2025-12-28T15:36:14.335096+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.layout_created with payload: {'layout_id': 9}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "a0bd48f1-7cc6-4e18-bb4f-72e60e019025"}
{"timestamp": "2025-12-28T15:36:14.337051+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.layout_created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "a0bd48f1-7cc6-4e18-bb4f-72e60e019025"}
{"timestamp": "2025-12-28T15:36:14.337486+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.layout_created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "a0bd48f1-7cc6-4e18-bb4f-72e60e019025"}
{"timestamp": "2025-12-28T15:36:14.339898+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/layouts \u2192 201 (0.026s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "a0bd48f1-7cc6-4e18-bb4f-72e60e019025"}
{"timestamp": "2025-12-28T15:36:14.341317+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "a0bd48f1-7cc6-4e18-bb4f-72e60e019025"}
{"timestamp": "2025-12-28T15:36:14.348080+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/screens", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "b7938323-b6c7-427e-b301-9fa825322de2"}
{"timestamp": "2025-12-28T15:36:14.351180+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b7938323-b6c7-427e-b301-9fa825322de2"}
{"timestamp": "2025-12-28T15:36:14.352605+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.name = %(name_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b7938323-b6c7-427e-b301-9fa825322de2"}
{"timestamp": "2025-12-28T15:36:14.353622+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'name_1': 'Screen 1 1766936174.340727', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b7938323-b6c7-427e-b301-9fa825322de2"}
{"timestamp": "2025-12-28T15:36:14.358197+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id AS seat_layouts_id, seat_layouts.name AS seat_layouts_name, seat_layouts.rows AS seat_layouts_rows, seat_layouts.seats_per_row AS seat_layouts_seats_per_row, seat_layouts.grid AS seat_layouts_grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b7938323-b6c7-427e-b301-9fa825322de2"}
{"timestamp": "2025-12-28T15:36:14.358650+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'id_1': 9, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b7938323-b6c7-427e-b301-9fa825322de2"}
{"timestamp": "2025-12-28T15:36:14.361651+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO screens (name, capacity, seat_layout_id) VALUES (%(name)s, %(capacity)s, %(seat_layout_id)s) RETURNING screens.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b7938323-b6c7-427e-b301-9fa825322de2"}
{"timestamp": "2025-12-28T15:36:14.362151+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00083s] {'name': 'Screen 1 1766936174.340727', 'capacity': 150, 'seat_layout_id': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b7938323-b6c7-427e-b301-9fa825322de2"}
{"timestamp": "2025-12-28T15:36:14.364349+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "b7938323-b6c7-427e-b301-9fa825322de2"}
{"timestamp": "2025-12-28T15:36:14.368683+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b7938323-b6c7-427e-b301-9fa825322de2"}
{"timestamp": "2025-12-28T15:36:14.369939+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id, screens.name, screens.capacity, screens.seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b7938323-b6c7-427e-b301-9fa825322de2"}
{"timestamp": "2025-12-28T15:36:14.370421+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00072s] {'pk_1': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b7938323-b6c7-427e-b301-9fa825322de2"}
{"timestamp": "2025-12-28T15:36:14.372811+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.created with payload: {'screen_id': 9}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "b7938323-b6c7-427e-b301-9fa825322de2"}
{"timestamp": "2025-12-28T15:36:14.374312+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "b7938323-b6c7-427e-b301-9fa825322de2"}
{"timestamp": "2025-12-28T15:36:14.374486+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "b7938323-b6c7-427e-b301-9fa825322de2"}
{"timestamp": "2025-12-28T15:36:14.375624+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/screens \u2192 201 (0.028s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "b7938323-b6c7-427e-b301-9fa825322de2"}
{"timestamp": "2025-12-28T15:36:14.376650+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "b7938323-b6c7-427e-b301-9fa825322de2"}
{"timestamp": "2025-12-28T15:36:14.378339+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /showtimes/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.380802+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.381972+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.382256+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'pk_1': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.385408+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.385903+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00085s] {'pk_1': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.389686+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.screen_id = %(screen_id_1)s AND showtimes.start_time < %(start_time_1)s AND showtimes.end_time > %(end_time_1)s AND showtimes.is_active = true", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.390151+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00067s] {'screen_id_1': 9, 'start_time_1': datetime.datetime(2025, 12, 29, 21, 0), 'end_time_1': datetime.datetime(2025, 12, 29, 19, 0)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.393966+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO showtimes (start_time, end_time, is_active, format, movie_id, screen_id) VALUES (%(start_time)s, %(end_time)s, %(is_active)s, %(format)s, %(movie_id)s, %(screen_id)s) RETURNING showtimes.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.394408+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'start_time': datetime.datetime(2025, 12, 29, 19, 0), 'end_time': datetime.datetime(2025, 12, 29, 21, 0), 'is_active': True, 'format': 'TWO_D', 'movie_id': 10, 'screen_id': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.397341+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.401626+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.402874+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.403257+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00067s] {'pk_1': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.406960+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.407366+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'pk_1': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.409690+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.410042+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'pk_1': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.411424+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: showtime.created with payload: {'showtime_id': 6}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.412661+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing showtime.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.412831+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: showtime.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.414123+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /showtimes/ \u2192 201 (0.036s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.415113+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "f9ad90a9-bdba-4796-87a2-ede8bd05e9f2"}
{"timestamp": "2025-12-28T15:36:14.416842+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /seatavailability/grid/6", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "8596a310-74da-4829-8d97-715812807b89"}
{"timestamp": "2025-12-28T15:36:14.419399+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "8596a310-74da-4829-8d97-715812807b89"}
{"timestamp": "2025-12-28T15:36:14.420693+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8596a310-74da-4829-8d97-715812807b89"}
{"timestamp": "2025-12-28T15:36:14.421140+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'showtime_id_1': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8596a310-74da-4829-8d97-715812807b89"}
{"timestamp": "2025-12-28T15:36:14.424678+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /seatavailability/grid/6 \u2192 200 (0.008s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "8596a310-74da-4829-8d97-715812807b89"}
{"timestamp": "2025-12-28T15:36:14.425987+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "8596a310-74da-4829-8d97-715812807b89"}
{"timestamp": "2025-12-28T15:36:14.428067+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /reservations/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.431269+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.431937+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.432283+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.1638s ago] {'pk_1': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.436121+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO reservations (user_id, showtime_id, seat_code, status, created_at, expires_at) VALUES (%(user_id)s, %(showtime_id)s, %(seat_code)s, %(status)s, %(created_at)s, %(expires_at)s) RETURNING reservations.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.436580+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'user_id': 13, 'showtime_id': 6, 'seat_code': 'R5-8', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 28, 15, 36, 14, 435675, tzinfo=datetime.timezone.utc), 'expires_at': datetime.datetime(2025, 12, 28, 15, 46, 14, 434784, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.439404+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.443577+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.444671+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT reservations.id, reservations.user_id, reservations.showtime_id, reservations.seat_code, reservations.status, reservations.created_at, reservations.expires_at \nFROM reservations \nWHERE reservations.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.445002+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'pk_1': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.447461+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: reservation.created with payload: {'reservation_id': 5, 'user_id': 13, 'showtime_id': 6, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.449043+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing reservation.created to 3 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.453513+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.456883+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s AND seat_locks.seat_code = %(seat_code_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.458045+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00251s] {'showtime_id_1': 6, 'seat_code_1': 'R5-8', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.463484+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_locks (seat_code, showtime_id, status, locked_by_user_id, lock_expires_at) VALUES (%(seat_code)s, %(showtime_id)s, %(status)s, %(locked_by_user_id)s, %(lock_expires_at)s) RETURNING seat_locks.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.466124+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00083s] {'seat_code': 'R5-8', 'showtime_id': 6, 'status': 'AVAILABLE', 'locked_by_user_id': None, 'lock_expires_at': None}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.470577+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE seat_locks SET status=%(status)s, locked_by_user_id=%(locked_by_user_id)s, lock_expires_at=%(lock_expires_at)s WHERE seat_locks.id = %(seat_locks_id)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.471671+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00075s] {'status': 'LOCKED', 'locked_by_user_id': 13, 'lock_expires_at': datetime.datetime(2025, 12, 28, 15, 46, 14, 468904, tzinfo=datetime.timezone.utc), 'seat_locks_id': 2}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.475502+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.489944+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.492022+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id, seat_locks.seat_code, seat_locks.showtime_id, seat_locks.status, seat_locks.locked_by_user_id, seat_locks.lock_expires_at \nFROM seat_locks \nWHERE seat_locks.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.493175+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00131s] {'pk_1': 2}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.497582+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: seat.locked with payload: {'showtime_id': 6, 'seat_code': 'R5-8', 'user_id': 13, 'expires_at': '2025-12-28T15:46:14.468904+00:00'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.498989+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.500724+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.501554+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\ud83c\udfab Order handler received reservation.created: {'reservation_id': 5, 'user_id': 13, 'showtime_id': 6, 'seat_code': 'R5-8'}", "module": "handlers", "function": "on_reservation_created", "line": 21, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.501946+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "Creating order for reservation 5", "module": "handlers", "function": "on_reservation_created", "line": 33, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.504712+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.507052+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO orders (user_id, pricing_snapshot, final_amount, is_completed, reservation_id) VALUES (%(user_id)s, %(pricing_snapshot)s::JSON, %(final_amount)s, %(is_completed)s, %(reservation_id)s) RETURNING orders.id, orders.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.507757+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00076s] {'user_id': 13, 'pricing_snapshot': '{}', 'final_amount': 0, 'is_completed': False, 'reservation_id': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.512253+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.517136+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.518546+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.518817+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'pk_1': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.521229+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: order.created with payload: {'order_id': 5, 'reservation_id': 5, 'user_id': 13, 'showtime_id': 6, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.521697+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\u2713 Order created successfully for reservation 5", "module": "handlers", "function": "on_reservation_created", "line": 41, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.522051+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.523364+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.525549+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.527343+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO audit_logs (actor_id, actor_type, action, target_id, target_type, payload, request_id, created_at) VALUES (%(actor_id)s, %(actor_type)s, %(action)s, %(target_id)s, %(target_type)s, %(payload)s::JSON, %(request_id)s, %(created_at)s) RETURNING audit_logs.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.527924+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00068s] {'actor_id': 13, 'actor_type': 'user', 'action': 'reservation.created', 'target_id': 5, 'target_type': 'reservation', 'payload': '{\"reservation_id\": 5, \"user_id\": 13, \"showtime_id\": 6, \"seat_code\": \"R5-8\"}', 'request_id': None, 'created_at': datetime.datetime(2025, 12, 28, 15, 36, 14, 526807, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.531003+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.535251+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.536354+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT audit_logs.id, audit_logs.actor_id, audit_logs.actor_type, audit_logs.action, audit_logs.target_id, audit_logs.target_type, audit_logs.payload, audit_logs.request_id, audit_logs.created_at \nFROM audit_logs \nWHERE audit_logs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.536839+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'pk_1': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.539246+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.540367+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.542302+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /reservations/ \u2192 200 (0.114s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.543550+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "66435348-4fa2-4690-ada9-9c2249d50f6e"}
{"timestamp": "2025-12-28T15:36:14.545484+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /orders/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "ba4408c0-780d-4fe1-8129-7b1b7e036b3e"}
{"timestamp": "2025-12-28T15:36:14.548517+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "ba4408c0-780d-4fe1-8129-7b1b7e036b3e"}
{"timestamp": "2025-12-28T15:36:14.549257+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ba4408c0-780d-4fe1-8129-7b1b7e036b3e"}
{"timestamp": "2025-12-28T15:36:14.549658+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2811s ago] {'pk_1': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ba4408c0-780d-4fe1-8129-7b1b7e036b3e"}
{"timestamp": "2025-12-28T15:36:14.552942+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.user_id = %(user_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ba4408c0-780d-4fe1-8129-7b1b7e036b3e"}
{"timestamp": "2025-12-28T15:36:14.553288+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'user_id_1': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ba4408c0-780d-4fe1-8129-7b1b7e036b3e"}
{"timestamp": "2025-12-28T15:36:14.557379+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /orders/ \u2192 200 (0.012s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "ba4408c0-780d-4fe1-8129-7b1b7e036b3e"}
{"timestamp": "2025-12-28T15:36:14.559109+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "ba4408c0-780d-4fe1-8129-7b1b7e036b3e"}
{"timestamp": "2025-12-28T15:36:14.562059+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /payments/order/5", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "0c98a9eb-8366-4303-bb51-29b0c3a659ac"}
{"timestamp": "2025-12-28T15:36:14.565874+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "0c98a9eb-8366-4303-bb51-29b0c3a659ac"}
{"timestamp": "2025-12-28T15:36:14.567607+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT payment_attempts.id, payment_attempts.order_id, payment_attempts.amount_attempted, payment_attempts.status, payment_attempts.final_amount, payment_attempts.failure_reason, payment_attempts.provider_payment_id, payment_attempts.created_at \nFROM payment_attempts \nWHERE payment_attempts.order_id = %(order_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0c98a9eb-8366-4303-bb51-29b0c3a659ac"}
{"timestamp": "2025-12-28T15:36:14.568179+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00071s] {'order_id_1': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0c98a9eb-8366-4303-bb51-29b0c3a659ac"}
{"timestamp": "2025-12-28T15:36:14.576090+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /payments/order/5 \u2192 200 (0.014s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "0c98a9eb-8366-4303-bb51-29b0c3a659ac"}
{"timestamp": "2025-12-28T15:36:14.576973+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "0c98a9eb-8366-4303-bb51-29b0c3a659ac"}
{"timestamp": "2025-12-28T15:41:13.832285+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T15:41:15.885912+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T15:41:15.886091+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T15:41:15.886216+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.886338+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.886488+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.886632+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.886815+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.886930+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.887040+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.887151+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.887263+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.887381+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.887493+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.887675+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.887861+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.888069+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.888205+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.888341+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.888461+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.888588+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.888711+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.888831+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.888993+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.889155+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.889302+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.889466+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.889677+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.889815+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.889938+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.890051+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.890163+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.890425+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.890687+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.890839+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.891035+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.891186+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.891356+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.891849+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.892256+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.892613+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.892931+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.893182+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.893387+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.893547+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.893697+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.893886+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.894099+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.894289+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.894462+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.894588+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.894714+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.894830+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.894950+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.895070+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.895243+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.895467+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.895657+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.895824+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.895990+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.896155+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:41:15.896288+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T15:41:15.896403+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T15:41:26.834413+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:26.891413+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:26.891769+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:26.894391+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:26.894640+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:26.896676+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:26.896925+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:26.899072+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:26.901750+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:26.902299+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00061s] {'email_1': 'test_1766936484.776976@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.129896+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.130347+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00060s] {'email': 'test_1766936484.776976@example.com', 'hashed_password': '$2b$12$84NEDOe9AcTYI9SIm/3NaObMZx3BldaAHmQ3seYSiJg0YRp3gf.Re', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.132513+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.138563+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.140015+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.140479+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'pk_1': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.143034+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_registered with payload: {'user_id': 14, 'email': 'test_1766936484.776976@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.144315+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_registered to 1 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.179497+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.181028+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.181291+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'user_id_1': 14, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.185260+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.185714+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'user_id': 14, 'name': None, 'email': 'test_1766936484.776976@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.188332+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.193537+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.194516+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.194802+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'pk_1': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.196904+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: user.profile_created with payload: {'profile_id': 14, 'user_id': 14, 'email': 'test_1766936484.776976@example.com', 'name': None}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.197465+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.198659+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_user_registered completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.200038+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.200509+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2989s ago] {'email_1': 'test_1766936484.776976@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.413149+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 14, 'email': 'test_1766936484.776976@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.414409+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.414631+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.415828+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.582s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.416931+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "e6e8cf34-2c07-48fc-87b9-26be9f18e18c"}
{"timestamp": "2025-12-28T15:41:27.419227+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "100f81d0-6fc4-47d0-b315-9a61e3d9b239"}
{"timestamp": "2025-12-28T15:41:27.425000+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "100f81d0-6fc4-47d0-b315-9a61e3d9b239"}
{"timestamp": "2025-12-28T15:41:27.425772+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "100f81d0-6fc4-47d0-b315-9a61e3d9b239"}
{"timestamp": "2025-12-28T15:41:27.426104+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.5247s ago] {'email_1': 'test_1766936484.776976@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "100f81d0-6fc4-47d0-b315-9a61e3d9b239"}
{"timestamp": "2025-12-28T15:41:27.634129+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 14, 'email': 'test_1766936484.776976@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "100f81d0-6fc4-47d0-b315-9a61e3d9b239"}
{"timestamp": "2025-12-28T15:41:27.635482+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "100f81d0-6fc4-47d0-b315-9a61e3d9b239"}
{"timestamp": "2025-12-28T15:41:27.635664+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "100f81d0-6fc4-47d0-b315-9a61e3d9b239"}
{"timestamp": "2025-12-28T15:41:27.636749+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.218s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "100f81d0-6fc4-47d0-b315-9a61e3d9b239"}
{"timestamp": "2025-12-28T15:41:27.637699+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "100f81d0-6fc4-47d0-b315-9a61e3d9b239"}
{"timestamp": "2025-12-28T15:41:27.639732+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "f41224dc-171b-4c61-9543-ce2c427cd5d6"}
{"timestamp": "2025-12-28T15:41:27.642831+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f41224dc-171b-4c61-9543-ce2c427cd5d6"}
{"timestamp": "2025-12-28T15:41:27.643873+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f41224dc-171b-4c61-9543-ce2c427cd5d6"}
{"timestamp": "2025-12-28T15:41:27.644175+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'pk_1': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f41224dc-171b-4c61-9543-ce2c427cd5d6"}
{"timestamp": "2025-12-28T15:41:27.646866+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f41224dc-171b-4c61-9543-ce2c427cd5d6"}
{"timestamp": "2025-12-28T15:41:27.647166+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.4664s ago] {'user_id_1': 14, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f41224dc-171b-4c61-9543-ce2c427cd5d6"}
{"timestamp": "2025-12-28T15:41:27.649784+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.010s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "f41224dc-171b-4c61-9543-ce2c427cd5d6"}
{"timestamp": "2025-12-28T15:41:27.650692+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "f41224dc-171b-4c61-9543-ce2c427cd5d6"}
{"timestamp": "2025-12-28T15:41:27.653002+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "03e699ce-760a-437e-9c66-08b23d2e92ba"}
{"timestamp": "2025-12-28T15:41:27.655999+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "03e699ce-760a-437e-9c66-08b23d2e92ba"}
{"timestamp": "2025-12-28T15:41:27.657852+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "03e699ce-760a-437e-9c66-08b23d2e92ba"}
{"timestamp": "2025-12-28T15:41:27.658265+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'title_1': 'The Matrix Reloaded 1766936487.651229'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "03e699ce-760a-437e-9c66-08b23d2e92ba"}
{"timestamp": "2025-12-28T15:41:27.661612+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO movies (title, description, duration_minutes, release_date, poster_url, trailer_url, is_active, age_rating) VALUES (%(title)s, %(description)s, %(duration_minutes)s, %(release_date)s, %(poster_url)s, %(trailer_url)s, %(is_active)s, %(age_rating)s) RETURNING movies.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "03e699ce-760a-437e-9c66-08b23d2e92ba"}
{"timestamp": "2025-12-28T15:41:27.662088+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'title': 'The Matrix Reloaded 1766936487.651229', 'description': 'Test movie: The Matrix Reloaded 1766936487.651229', 'duration_minutes': 120, 'release_date': None, 'poster_url': None, 'trailer_url': None, 'is_active': True, 'age_rating': 'PG_13'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "03e699ce-760a-437e-9c66-08b23d2e92ba"}
{"timestamp": "2025-12-28T15:41:27.664253+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "03e699ce-760a-437e-9c66-08b23d2e92ba"}
{"timestamp": "2025-12-28T15:41:27.669091+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "03e699ce-760a-437e-9c66-08b23d2e92ba"}
{"timestamp": "2025-12-28T15:41:27.670153+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "03e699ce-760a-437e-9c66-08b23d2e92ba"}
{"timestamp": "2025-12-28T15:41:27.670513+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'pk_1': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "03e699ce-760a-437e-9c66-08b23d2e92ba"}
{"timestamp": "2025-12-28T15:41:27.672841+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: movie.created with payload: {'movie_id': 11}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "03e699ce-760a-437e-9c66-08b23d2e92ba"}
{"timestamp": "2025-12-28T15:41:27.674121+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing movie.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "03e699ce-760a-437e-9c66-08b23d2e92ba"}
{"timestamp": "2025-12-28T15:41:27.674307+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: movie.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "03e699ce-760a-437e-9c66-08b23d2e92ba"}
{"timestamp": "2025-12-28T15:41:27.675423+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 200 (0.023s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "03e699ce-760a-437e-9c66-08b23d2e92ba"}
{"timestamp": "2025-12-28T15:41:27.676292+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "03e699ce-760a-437e-9c66-08b23d2e92ba"}
{"timestamp": "2025-12-28T15:41:27.678290+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/layouts", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "8017e736-60c1-4955-8835-cd3860bb4199"}
{"timestamp": "2025-12-28T15:41:27.680910+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "8017e736-60c1-4955-8835-cd3860bb4199"}
{"timestamp": "2025-12-28T15:41:27.682052+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.name = %(name_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8017e736-60c1-4955-8835-cd3860bb4199"}
{"timestamp": "2025-12-28T15:41:27.682282+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00042s] {'name_1': 'Standard Layout 1766936487.676699'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8017e736-60c1-4955-8835-cd3860bb4199"}
{"timestamp": "2025-12-28T15:41:27.685764+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_layouts (name, rows, seats_per_row, grid) VALUES (%(name)s, %(rows)s, %(seats_per_row)s, %(grid)s::JSON) RETURNING seat_layouts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8017e736-60c1-4955-8835-cd3860bb4199"}
{"timestamp": "2025-12-28T15:41:27.686198+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'name': 'Standard Layout 1766936487.676699', 'rows': 10, 'seats_per_row': 15, 'grid': 'null'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8017e736-60c1-4955-8835-cd3860bb4199"}
{"timestamp": "2025-12-28T15:41:27.688119+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "8017e736-60c1-4955-8835-cd3860bb4199"}
{"timestamp": "2025-12-28T15:41:27.692493+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "8017e736-60c1-4955-8835-cd3860bb4199"}
{"timestamp": "2025-12-28T15:41:27.693311+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8017e736-60c1-4955-8835-cd3860bb4199"}
{"timestamp": "2025-12-28T15:41:27.693545+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00038s] {'pk_1': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8017e736-60c1-4955-8835-cd3860bb4199"}
{"timestamp": "2025-12-28T15:41:27.695585+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.layout_created with payload: {'layout_id': 10}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "8017e736-60c1-4955-8835-cd3860bb4199"}
{"timestamp": "2025-12-28T15:41:27.696864+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.layout_created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "8017e736-60c1-4955-8835-cd3860bb4199"}
{"timestamp": "2025-12-28T15:41:27.697090+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.layout_created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "8017e736-60c1-4955-8835-cd3860bb4199"}
{"timestamp": "2025-12-28T15:41:27.698369+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/layouts \u2192 201 (0.020s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "8017e736-60c1-4955-8835-cd3860bb4199"}
{"timestamp": "2025-12-28T15:41:27.699731+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "8017e736-60c1-4955-8835-cd3860bb4199"}
{"timestamp": "2025-12-28T15:41:27.705404+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/screens", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "c1ba2bb4-de46-48d9-af8a-18891d5e07e3"}
{"timestamp": "2025-12-28T15:41:27.708226+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c1ba2bb4-de46-48d9-af8a-18891d5e07e3"}
{"timestamp": "2025-12-28T15:41:27.709459+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.name = %(name_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c1ba2bb4-de46-48d9-af8a-18891d5e07e3"}
{"timestamp": "2025-12-28T15:41:27.709766+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'name_1': 'Screen 1 1766936487.699208', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c1ba2bb4-de46-48d9-af8a-18891d5e07e3"}
{"timestamp": "2025-12-28T15:41:27.712834+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id AS seat_layouts_id, seat_layouts.name AS seat_layouts_name, seat_layouts.rows AS seat_layouts_rows, seat_layouts.seats_per_row AS seat_layouts_seats_per_row, seat_layouts.grid AS seat_layouts_grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c1ba2bb4-de46-48d9-af8a-18891d5e07e3"}
{"timestamp": "2025-12-28T15:41:27.713158+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'id_1': 10, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c1ba2bb4-de46-48d9-af8a-18891d5e07e3"}
{"timestamp": "2025-12-28T15:41:27.716006+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO screens (name, capacity, seat_layout_id) VALUES (%(name)s, %(capacity)s, %(seat_layout_id)s) RETURNING screens.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c1ba2bb4-de46-48d9-af8a-18891d5e07e3"}
{"timestamp": "2025-12-28T15:41:27.716519+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00069s] {'name': 'Screen 1 1766936487.699208', 'capacity': 150, 'seat_layout_id': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c1ba2bb4-de46-48d9-af8a-18891d5e07e3"}
{"timestamp": "2025-12-28T15:41:27.718666+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "c1ba2bb4-de46-48d9-af8a-18891d5e07e3"}
{"timestamp": "2025-12-28T15:41:27.723168+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c1ba2bb4-de46-48d9-af8a-18891d5e07e3"}
{"timestamp": "2025-12-28T15:41:27.724110+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id, screens.name, screens.capacity, screens.seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c1ba2bb4-de46-48d9-af8a-18891d5e07e3"}
{"timestamp": "2025-12-28T15:41:27.724332+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'pk_1': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c1ba2bb4-de46-48d9-af8a-18891d5e07e3"}
{"timestamp": "2025-12-28T15:41:27.727095+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.created with payload: {'screen_id': 10}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "c1ba2bb4-de46-48d9-af8a-18891d5e07e3"}
{"timestamp": "2025-12-28T15:41:27.728393+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "c1ba2bb4-de46-48d9-af8a-18891d5e07e3"}
{"timestamp": "2025-12-28T15:41:27.728524+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "c1ba2bb4-de46-48d9-af8a-18891d5e07e3"}
{"timestamp": "2025-12-28T15:41:27.729692+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/screens \u2192 201 (0.024s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "c1ba2bb4-de46-48d9-af8a-18891d5e07e3"}
{"timestamp": "2025-12-28T15:41:27.730674+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "c1ba2bb4-de46-48d9-af8a-18891d5e07e3"}
{"timestamp": "2025-12-28T15:41:27.733097+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /showtimes/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.735681+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.736879+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.737314+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'pk_1': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.740725+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.741053+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'pk_1': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.743924+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.screen_id = %(screen_id_1)s AND showtimes.start_time < %(start_time_1)s AND showtimes.end_time > %(end_time_1)s AND showtimes.is_active = true", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.744423+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'screen_id_1': 10, 'start_time_1': datetime.datetime(2025, 12, 29, 21, 0), 'end_time_1': datetime.datetime(2025, 12, 29, 19, 0)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.748526+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO showtimes (start_time, end_time, is_active, format, movie_id, screen_id) VALUES (%(start_time)s, %(end_time)s, %(is_active)s, %(format)s, %(movie_id)s, %(screen_id)s) RETURNING showtimes.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.749151+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00071s] {'start_time': datetime.datetime(2025, 12, 29, 19, 0), 'end_time': datetime.datetime(2025, 12, 29, 21, 0), 'is_active': True, 'format': 'TWO_D', 'movie_id': 11, 'screen_id': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.751322+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.756475+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.757688+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.757995+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00058s] {'pk_1': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.761887+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.762424+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00071s] {'pk_1': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.764623+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.765035+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'pk_1': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.766483+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: showtime.created with payload: {'showtime_id': 7}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.767768+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing showtime.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.767988+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: showtime.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.769335+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /showtimes/ \u2192 201 (0.036s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.770286+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "7b43b839-fe91-453b-bc83-63769f877ab1"}
{"timestamp": "2025-12-28T15:41:27.772097+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /seatavailability/grid/7", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "dd373d8e-f72c-4169-95ab-bc2832273f8a"}
{"timestamp": "2025-12-28T15:41:27.774522+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "dd373d8e-f72c-4169-95ab-bc2832273f8a"}
{"timestamp": "2025-12-28T15:41:27.775929+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "dd373d8e-f72c-4169-95ab-bc2832273f8a"}
{"timestamp": "2025-12-28T15:41:27.776515+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'showtime_id_1': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "dd373d8e-f72c-4169-95ab-bc2832273f8a"}
{"timestamp": "2025-12-28T15:41:27.779725+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /seatavailability/grid/7 \u2192 200 (0.008s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "dd373d8e-f72c-4169-95ab-bc2832273f8a"}
{"timestamp": "2025-12-28T15:41:27.780712+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "dd373d8e-f72c-4169-95ab-bc2832273f8a"}
{"timestamp": "2025-12-28T15:41:27.782638+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /reservations/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.785080+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.785861+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.786411+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.1425s ago] {'pk_1': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.791364+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO reservations (user_id, showtime_id, seat_code, status, created_at, expires_at) VALUES (%(user_id)s, %(showtime_id)s, %(seat_code)s, %(status)s, %(created_at)s, %(expires_at)s) RETURNING reservations.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.792178+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00075s] {'user_id': 14, 'showtime_id': 7, 'seat_code': 'R5-8', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 28, 15, 41, 27, 790744, tzinfo=datetime.timezone.utc), 'expires_at': datetime.datetime(2025, 12, 28, 15, 51, 27, 789257, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.794925+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.799068+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.800264+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT reservations.id, reservations.user_id, reservations.showtime_id, reservations.seat_code, reservations.status, reservations.created_at, reservations.expires_at \nFROM reservations \nWHERE reservations.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.800625+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'pk_1': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.803364+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: reservation.created with payload: {'reservation_id': 6, 'user_id': 14, 'showtime_id': 7, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.804445+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing reservation.created to 3 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.806662+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.807857+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s AND seat_locks.seat_code = %(seat_code_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.808211+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00062s] {'showtime_id_1': 7, 'seat_code_1': 'R5-8', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.811236+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_locks (seat_code, showtime_id, status, locked_by_user_id, lock_expires_at) VALUES (%(seat_code)s, %(showtime_id)s, %(status)s, %(locked_by_user_id)s, %(lock_expires_at)s) RETURNING seat_locks.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.811514+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00042s] {'seat_code': 'R5-8', 'showtime_id': 7, 'status': 'AVAILABLE', 'locked_by_user_id': None, 'lock_expires_at': None}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.814337+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE seat_locks SET status=%(status)s, locked_by_user_id=%(locked_by_user_id)s, lock_expires_at=%(lock_expires_at)s WHERE seat_locks.id = %(seat_locks_id)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.814618+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00043s] {'status': 'LOCKED', 'locked_by_user_id': 14, 'lock_expires_at': datetime.datetime(2025, 12, 28, 15, 51, 27, 813214, tzinfo=datetime.timezone.utc), 'seat_locks_id': 3}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.816500+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.820570+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.821588+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id, seat_locks.seat_code, seat_locks.showtime_id, seat_locks.status, seat_locks.locked_by_user_id, seat_locks.lock_expires_at \nFROM seat_locks \nWHERE seat_locks.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.822026+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'pk_1': 3}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.825305+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: seat.locked with payload: {'showtime_id': 7, 'seat_code': 'R5-8', 'user_id': 14, 'expires_at': '2025-12-28T15:51:27.813214+00:00'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.826034+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.827248+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.827629+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\ud83c\udfab Order handler received reservation.created: {'reservation_id': 6, 'user_id': 14, 'showtime_id': 7, 'seat_code': 'R5-8'}", "module": "handlers", "function": "on_reservation_created", "line": 21, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.827965+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "Creating order for reservation 6", "module": "handlers", "function": "on_reservation_created", "line": 33, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.829566+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.830818+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO orders (user_id, pricing_snapshot, final_amount, is_completed, reservation_id) VALUES (%(user_id)s, %(pricing_snapshot)s::JSON, %(final_amount)s, %(is_completed)s, %(reservation_id)s) RETURNING orders.id, orders.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.831080+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'user_id': 14, 'pricing_snapshot': '{}', 'final_amount': 0, 'is_completed': False, 'reservation_id': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.833670+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.838343+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.839873+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.840301+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00058s] {'pk_1': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.842499+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: order.created with payload: {'order_id': 6, 'reservation_id': 6, 'user_id': 14, 'showtime_id': 7, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.842984+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\u2713 Order created successfully for reservation 6", "module": "handlers", "function": "on_reservation_created", "line": 41, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.843403+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.844563+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.846324+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.847551+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO audit_logs (actor_id, actor_type, action, target_id, target_type, payload, request_id, created_at) VALUES (%(actor_id)s, %(actor_type)s, %(action)s, %(target_id)s, %(target_type)s, %(payload)s::JSON, %(request_id)s, %(created_at)s) RETURNING audit_logs.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.848043+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'actor_id': 14, 'actor_type': 'user', 'action': 'reservation.created', 'target_id': 6, 'target_type': 'reservation', 'payload': '{\"reservation_id\": 6, \"user_id\": 14, \"showtime_id\": 7, \"seat_code\": \"R5-8\"}', 'request_id': None, 'created_at': datetime.datetime(2025, 12, 28, 15, 41, 27, 847143, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.850368+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.855097+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.856527+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT audit_logs.id, audit_logs.actor_id, audit_logs.actor_type, audit_logs.action, audit_logs.target_id, audit_logs.target_type, audit_logs.payload, audit_logs.request_id, audit_logs.created_at \nFROM audit_logs \nWHERE audit_logs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.857312+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00058s] {'pk_1': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.859857+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.860938+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.862216+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /reservations/ \u2192 200 (0.080s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.863115+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "63e71f6b-bfe3-495c-ac04-dce03b864011"}
{"timestamp": "2025-12-28T15:41:27.864766+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /orders/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "74b5538c-ce8c-4ba4-84a0-283d16ee9963"}
{"timestamp": "2025-12-28T15:41:27.867295+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "74b5538c-ce8c-4ba4-84a0-283d16ee9963"}
{"timestamp": "2025-12-28T15:41:27.867942+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "74b5538c-ce8c-4ba4-84a0-283d16ee9963"}
{"timestamp": "2025-12-28T15:41:27.868404+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2246s ago] {'pk_1': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "74b5538c-ce8c-4ba4-84a0-283d16ee9963"}
{"timestamp": "2025-12-28T15:41:27.871679+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.user_id = %(user_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "74b5538c-ce8c-4ba4-84a0-283d16ee9963"}
{"timestamp": "2025-12-28T15:41:27.872115+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'user_id_1': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "74b5538c-ce8c-4ba4-84a0-283d16ee9963"}
{"timestamp": "2025-12-28T15:41:27.874194+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /orders/ \u2192 200 (0.009s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "74b5538c-ce8c-4ba4-84a0-283d16ee9963"}
{"timestamp": "2025-12-28T15:41:27.875374+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "74b5538c-ce8c-4ba4-84a0-283d16ee9963"}
{"timestamp": "2025-12-28T15:41:27.876920+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /payments/order/6", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "957c9438-ef08-412d-b427-3c5d0ad18b0f"}
{"timestamp": "2025-12-28T15:41:27.879193+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "957c9438-ef08-412d-b427-3c5d0ad18b0f"}
{"timestamp": "2025-12-28T15:41:27.880500+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT payment_attempts.id, payment_attempts.order_id, payment_attempts.amount_attempted, payment_attempts.status, payment_attempts.final_amount, payment_attempts.failure_reason, payment_attempts.provider_payment_id, payment_attempts.created_at \nFROM payment_attempts \nWHERE payment_attempts.order_id = %(order_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "957c9438-ef08-412d-b427-3c5d0ad18b0f"}
{"timestamp": "2025-12-28T15:41:27.880945+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'order_id_1': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "957c9438-ef08-412d-b427-3c5d0ad18b0f"}
{"timestamp": "2025-12-28T15:41:27.883601+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /payments/order/6 \u2192 200 (0.007s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "957c9438-ef08-412d-b427-3c5d0ad18b0f"}
{"timestamp": "2025-12-28T15:41:27.884469+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "957c9438-ef08-412d-b427-3c5d0ad18b0f"}
{"timestamp": "2025-12-28T15:44:12.727764+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T15:44:14.614490+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T15:44:14.614900+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T15:44:14.615163+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.615496+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.615855+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.616211+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.616490+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.616706+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.616938+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.617264+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.617603+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.617857+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.618015+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.618195+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.618328+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.618444+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.618557+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.618769+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.619021+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.619226+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.619455+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.619608+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.620059+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.620408+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.620635+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.620897+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.621225+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.621476+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.621703+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.621932+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.622200+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.622393+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.622582+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.622718+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.622836+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.622951+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.623068+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.623183+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.623300+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.623472+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.623597+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.623799+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.624058+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.624262+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.624417+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.624562+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.624793+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.625051+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/order/{order_id}/initiate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.625282+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/{payment_attempt_id}/confirm", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.625451+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.625571+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.625694+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.625817+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.625996+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.626173+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.626302+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.626444+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.626592+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.626815+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.627010+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.627226+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.627405+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:44:14.627537+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T15:44:14.627652+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T15:44:36.241274+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.287958+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.288266+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.290772+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.291154+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.293407+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.293777+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.295938+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.298929+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.299453+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'email_1': 'test_1766936674.197126@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.524580+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.524993+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00060s] {'email': 'test_1766936674.197126@example.com', 'hashed_password': '$2b$12$xj7y9C8TMK1QU78uJ3Tygu6YSFYVRNlp1K92mOM6lm048ExaiELFq', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.527151+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.533603+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.534772+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.535055+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'pk_1': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.537105+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_registered with payload: {'user_id': 15, 'email': 'test_1766936674.197126@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.538471+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_registered to 1 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.572094+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.573605+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.573921+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'user_id_1': 15, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.577852+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.578398+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00065s] {'user_id': 15, 'name': None, 'email': 'test_1766936674.197126@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.581243+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.585553+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.586622+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.586951+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'pk_1': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.589033+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: user.profile_created with payload: {'profile_id': 15, 'user_id': 15, 'email': 'test_1766936674.197126@example.com', 'name': None}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.589546+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.590575+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_user_registered completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.591895+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.592431+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2936s ago] {'email_1': 'test_1766936674.197126@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.807879+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 15, 'email': 'test_1766936674.197126@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.809210+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.809416+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.811275+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.570s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.812324+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "39172c7e-f205-48f5-838b-8e717ba8b56f"}
{"timestamp": "2025-12-28T15:44:36.814661+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "da2c29fe-fd01-4ac5-ba39-54bc1307128c"}
{"timestamp": "2025-12-28T15:44:36.819299+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "da2c29fe-fd01-4ac5-ba39-54bc1307128c"}
{"timestamp": "2025-12-28T15:44:36.819948+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "da2c29fe-fd01-4ac5-ba39-54bc1307128c"}
{"timestamp": "2025-12-28T15:44:36.820491+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.5216s ago] {'email_1': 'test_1766936674.197126@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "da2c29fe-fd01-4ac5-ba39-54bc1307128c"}
{"timestamp": "2025-12-28T15:44:37.026490+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 15, 'email': 'test_1766936674.197126@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "da2c29fe-fd01-4ac5-ba39-54bc1307128c"}
{"timestamp": "2025-12-28T15:44:37.027746+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "da2c29fe-fd01-4ac5-ba39-54bc1307128c"}
{"timestamp": "2025-12-28T15:44:37.028025+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "da2c29fe-fd01-4ac5-ba39-54bc1307128c"}
{"timestamp": "2025-12-28T15:44:37.029190+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.215s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "da2c29fe-fd01-4ac5-ba39-54bc1307128c"}
{"timestamp": "2025-12-28T15:44:37.030325+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "da2c29fe-fd01-4ac5-ba39-54bc1307128c"}
{"timestamp": "2025-12-28T15:44:37.031762+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "e5ae878c-fbf0-4475-a242-1f1e1337003e"}
{"timestamp": "2025-12-28T15:44:37.034618+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "e5ae878c-fbf0-4475-a242-1f1e1337003e"}
{"timestamp": "2025-12-28T15:44:37.035793+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e5ae878c-fbf0-4475-a242-1f1e1337003e"}
{"timestamp": "2025-12-28T15:44:37.036272+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00062s] {'pk_1': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e5ae878c-fbf0-4475-a242-1f1e1337003e"}
{"timestamp": "2025-12-28T15:44:37.039663+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e5ae878c-fbf0-4475-a242-1f1e1337003e"}
{"timestamp": "2025-12-28T15:44:37.040050+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.4666s ago] {'user_id_1': 15, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e5ae878c-fbf0-4475-a242-1f1e1337003e"}
{"timestamp": "2025-12-28T15:44:37.042738+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.011s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "e5ae878c-fbf0-4475-a242-1f1e1337003e"}
{"timestamp": "2025-12-28T15:44:37.043703+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "e5ae878c-fbf0-4475-a242-1f1e1337003e"}
{"timestamp": "2025-12-28T15:44:37.046888+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "a79f8b71-aa42-4390-8741-556e51d14647"}
{"timestamp": "2025-12-28T15:44:37.049849+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a79f8b71-aa42-4390-8741-556e51d14647"}
{"timestamp": "2025-12-28T15:44:37.051557+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a79f8b71-aa42-4390-8741-556e51d14647"}
{"timestamp": "2025-12-28T15:44:37.052145+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00064s] {'title_1': 'The Matrix Reloaded 1766936677.044419'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a79f8b71-aa42-4390-8741-556e51d14647"}
{"timestamp": "2025-12-28T15:44:37.055644+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO movies (title, description, duration_minutes, release_date, poster_url, trailer_url, is_active, age_rating) VALUES (%(title)s, %(description)s, %(duration_minutes)s, %(release_date)s, %(poster_url)s, %(trailer_url)s, %(is_active)s, %(age_rating)s) RETURNING movies.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a79f8b71-aa42-4390-8741-556e51d14647"}
{"timestamp": "2025-12-28T15:44:37.055904+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'title': 'The Matrix Reloaded 1766936677.044419', 'description': 'Test movie: The Matrix Reloaded 1766936677.044419', 'duration_minutes': 120, 'release_date': None, 'poster_url': None, 'trailer_url': None, 'is_active': True, 'age_rating': 'PG_13'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a79f8b71-aa42-4390-8741-556e51d14647"}
{"timestamp": "2025-12-28T15:44:37.057713+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "a79f8b71-aa42-4390-8741-556e51d14647"}
{"timestamp": "2025-12-28T15:44:37.062475+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a79f8b71-aa42-4390-8741-556e51d14647"}
{"timestamp": "2025-12-28T15:44:37.063415+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a79f8b71-aa42-4390-8741-556e51d14647"}
{"timestamp": "2025-12-28T15:44:37.063635+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00041s] {'pk_1': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a79f8b71-aa42-4390-8741-556e51d14647"}
{"timestamp": "2025-12-28T15:44:37.065952+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: movie.created with payload: {'movie_id': 12}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "a79f8b71-aa42-4390-8741-556e51d14647"}
{"timestamp": "2025-12-28T15:44:37.067623+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing movie.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "a79f8b71-aa42-4390-8741-556e51d14647"}
{"timestamp": "2025-12-28T15:44:37.067807+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: movie.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "a79f8b71-aa42-4390-8741-556e51d14647"}
{"timestamp": "2025-12-28T15:44:37.068972+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 200 (0.022s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "a79f8b71-aa42-4390-8741-556e51d14647"}
{"timestamp": "2025-12-28T15:44:37.069774+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "a79f8b71-aa42-4390-8741-556e51d14647"}
{"timestamp": "2025-12-28T15:44:37.071442+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/layouts", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "a1381164-d906-47b2-af22-81efd785e7ea"}
{"timestamp": "2025-12-28T15:44:37.073681+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a1381164-d906-47b2-af22-81efd785e7ea"}
{"timestamp": "2025-12-28T15:44:37.074814+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.name = %(name_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a1381164-d906-47b2-af22-81efd785e7ea"}
{"timestamp": "2025-12-28T15:44:37.075145+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00041s] {'name_1': 'Standard Layout 1766936677.069991'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a1381164-d906-47b2-af22-81efd785e7ea"}
{"timestamp": "2025-12-28T15:44:37.078413+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_layouts (name, rows, seats_per_row, grid) VALUES (%(name)s, %(rows)s, %(seats_per_row)s, %(grid)s::JSON) RETURNING seat_layouts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a1381164-d906-47b2-af22-81efd785e7ea"}
{"timestamp": "2025-12-28T15:44:37.078685+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'name': 'Standard Layout 1766936677.069991', 'rows': 10, 'seats_per_row': 15, 'grid': 'null'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a1381164-d906-47b2-af22-81efd785e7ea"}
{"timestamp": "2025-12-28T15:44:37.080948+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "a1381164-d906-47b2-af22-81efd785e7ea"}
{"timestamp": "2025-12-28T15:44:37.085158+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a1381164-d906-47b2-af22-81efd785e7ea"}
{"timestamp": "2025-12-28T15:44:37.086001+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a1381164-d906-47b2-af22-81efd785e7ea"}
{"timestamp": "2025-12-28T15:44:37.086298+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00038s] {'pk_1': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a1381164-d906-47b2-af22-81efd785e7ea"}
{"timestamp": "2025-12-28T15:44:37.088318+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.layout_created with payload: {'layout_id': 11}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "a1381164-d906-47b2-af22-81efd785e7ea"}
{"timestamp": "2025-12-28T15:44:37.089340+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.layout_created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "a1381164-d906-47b2-af22-81efd785e7ea"}
{"timestamp": "2025-12-28T15:44:37.089474+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.layout_created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "a1381164-d906-47b2-af22-81efd785e7ea"}
{"timestamp": "2025-12-28T15:44:37.090530+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/layouts \u2192 201 (0.019s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "a1381164-d906-47b2-af22-81efd785e7ea"}
{"timestamp": "2025-12-28T15:44:37.091352+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "a1381164-d906-47b2-af22-81efd785e7ea"}
{"timestamp": "2025-12-28T15:44:37.097735+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/screens", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "77e60613-6649-4353-b59a-8f954e05fad6"}
{"timestamp": "2025-12-28T15:44:37.100471+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "77e60613-6649-4353-b59a-8f954e05fad6"}
{"timestamp": "2025-12-28T15:44:37.101809+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.name = %(name_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "77e60613-6649-4353-b59a-8f954e05fad6"}
{"timestamp": "2025-12-28T15:44:37.102279+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'name_1': 'Screen 1 1766936677.091215', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "77e60613-6649-4353-b59a-8f954e05fad6"}
{"timestamp": "2025-12-28T15:44:37.105220+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id AS seat_layouts_id, seat_layouts.name AS seat_layouts_name, seat_layouts.rows AS seat_layouts_rows, seat_layouts.seats_per_row AS seat_layouts_seats_per_row, seat_layouts.grid AS seat_layouts_grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "77e60613-6649-4353-b59a-8f954e05fad6"}
{"timestamp": "2025-12-28T15:44:37.105554+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'id_1': 11, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "77e60613-6649-4353-b59a-8f954e05fad6"}
{"timestamp": "2025-12-28T15:44:37.108011+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO screens (name, capacity, seat_layout_id) VALUES (%(name)s, %(capacity)s, %(seat_layout_id)s) RETURNING screens.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "77e60613-6649-4353-b59a-8f954e05fad6"}
{"timestamp": "2025-12-28T15:44:37.108405+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'name': 'Screen 1 1766936677.091215', 'capacity': 150, 'seat_layout_id': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "77e60613-6649-4353-b59a-8f954e05fad6"}
{"timestamp": "2025-12-28T15:44:37.110479+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "77e60613-6649-4353-b59a-8f954e05fad6"}
{"timestamp": "2025-12-28T15:44:37.114949+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "77e60613-6649-4353-b59a-8f954e05fad6"}
{"timestamp": "2025-12-28T15:44:37.115868+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id, screens.name, screens.capacity, screens.seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "77e60613-6649-4353-b59a-8f954e05fad6"}
{"timestamp": "2025-12-28T15:44:37.116097+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00041s] {'pk_1': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "77e60613-6649-4353-b59a-8f954e05fad6"}
{"timestamp": "2025-12-28T15:44:37.118235+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.created with payload: {'screen_id': 11}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "77e60613-6649-4353-b59a-8f954e05fad6"}
{"timestamp": "2025-12-28T15:44:37.119280+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "77e60613-6649-4353-b59a-8f954e05fad6"}
{"timestamp": "2025-12-28T15:44:37.119416+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "77e60613-6649-4353-b59a-8f954e05fad6"}
{"timestamp": "2025-12-28T15:44:37.120609+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/screens \u2192 201 (0.023s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "77e60613-6649-4353-b59a-8f954e05fad6"}
{"timestamp": "2025-12-28T15:44:37.121652+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "77e60613-6649-4353-b59a-8f954e05fad6"}
{"timestamp": "2025-12-28T15:44:37.123412+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /showtimes/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.126294+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.127325+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.127790+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00043s] {'pk_1': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.130797+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.131104+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'pk_1': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.133989+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.screen_id = %(screen_id_1)s AND showtimes.start_time < %(start_time_1)s AND showtimes.end_time > %(end_time_1)s AND showtimes.is_active = true", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.134589+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'screen_id_1': 11, 'start_time_1': datetime.datetime(2025, 12, 29, 21, 0), 'end_time_1': datetime.datetime(2025, 12, 29, 19, 0)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.137642+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO showtimes (start_time, end_time, is_active, format, movie_id, screen_id) VALUES (%(start_time)s, %(end_time)s, %(is_active)s, %(format)s, %(movie_id)s, %(screen_id)s) RETURNING showtimes.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.137990+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'start_time': datetime.datetime(2025, 12, 29, 19, 0), 'end_time': datetime.datetime(2025, 12, 29, 21, 0), 'is_active': True, 'format': 'TWO_D', 'movie_id': 12, 'screen_id': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.141393+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.146492+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.147635+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.148033+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'pk_1': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.153404+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.153922+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00083s] {'pk_1': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.157568+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.158075+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00078s] {'pk_1': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.159712+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: showtime.created with payload: {'showtime_id': 8}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.161101+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing showtime.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.161285+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: showtime.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.163171+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /showtimes/ \u2192 201 (0.040s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.164224+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "14df6f5d-b9f4-4eef-b6db-92eddd9985cc"}
{"timestamp": "2025-12-28T15:44:37.166062+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /seatavailability/grid/8", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "4febebde-0792-4b53-9151-072e62ae6eed"}
{"timestamp": "2025-12-28T15:44:37.168291+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "4febebde-0792-4b53-9151-072e62ae6eed"}
{"timestamp": "2025-12-28T15:44:37.169719+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4febebde-0792-4b53-9151-072e62ae6eed"}
{"timestamp": "2025-12-28T15:44:37.170125+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'showtime_id_1': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4febebde-0792-4b53-9151-072e62ae6eed"}
{"timestamp": "2025-12-28T15:44:37.173572+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /seatavailability/grid/8 \u2192 200 (0.007s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "4febebde-0792-4b53-9151-072e62ae6eed"}
{"timestamp": "2025-12-28T15:44:37.174948+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "4febebde-0792-4b53-9151-072e62ae6eed"}
{"timestamp": "2025-12-28T15:44:37.176499+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /reservations/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.179334+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.180218+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.180660+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.1451s ago] {'pk_1': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.184371+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO reservations (user_id, showtime_id, seat_code, status, created_at, expires_at) VALUES (%(user_id)s, %(showtime_id)s, %(seat_code)s, %(status)s, %(created_at)s, %(expires_at)s) RETURNING reservations.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.184944+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'user_id': 15, 'showtime_id': 8, 'seat_code': 'R5-8', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 28, 15, 44, 37, 183888, tzinfo=datetime.timezone.utc), 'expires_at': datetime.datetime(2025, 12, 28, 15, 54, 37, 182891, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.187664+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.192399+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.193624+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT reservations.id, reservations.user_id, reservations.showtime_id, reservations.seat_code, reservations.status, reservations.created_at, reservations.expires_at \nFROM reservations \nWHERE reservations.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.194001+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'pk_1': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.196253+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: reservation.created with payload: {'reservation_id': 7, 'user_id': 15, 'showtime_id': 8, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.197450+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing reservation.created to 3 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.200138+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.201294+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s AND seat_locks.seat_code = %(seat_code_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.201568+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'showtime_id_1': 8, 'seat_code_1': 'R5-8', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.205421+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_locks (seat_code, showtime_id, status, locked_by_user_id, lock_expires_at) VALUES (%(seat_code)s, %(showtime_id)s, %(status)s, %(locked_by_user_id)s, %(lock_expires_at)s) RETURNING seat_locks.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.205849+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00043s] {'seat_code': 'R5-8', 'showtime_id': 8, 'status': 'AVAILABLE', 'locked_by_user_id': None, 'lock_expires_at': None}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.208727+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE seat_locks SET status=%(status)s, locked_by_user_id=%(locked_by_user_id)s, lock_expires_at=%(lock_expires_at)s WHERE seat_locks.id = %(seat_locks_id)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.209015+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00043s] {'status': 'LOCKED', 'locked_by_user_id': 15, 'lock_expires_at': datetime.datetime(2025, 12, 28, 15, 54, 37, 207599, tzinfo=datetime.timezone.utc), 'seat_locks_id': 4}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.210611+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.214912+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.215916+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id, seat_locks.seat_code, seat_locks.showtime_id, seat_locks.status, seat_locks.locked_by_user_id, seat_locks.lock_expires_at \nFROM seat_locks \nWHERE seat_locks.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.216284+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'pk_1': 4}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.219042+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: seat.locked with payload: {'showtime_id': 8, 'seat_code': 'R5-8', 'user_id': 15, 'expires_at': '2025-12-28T15:54:37.207599+00:00'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.219546+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.220609+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.221001+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\ud83c\udfab Order handler received reservation.created: {'reservation_id': 7, 'user_id': 15, 'showtime_id': 8, 'seat_code': 'R5-8'}", "module": "handlers", "function": "on_reservation_created", "line": 21, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.221259+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "Creating order for reservation 7", "module": "handlers", "function": "on_reservation_created", "line": 33, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.222680+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.223754+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO orders (user_id, pricing_snapshot, final_amount, is_completed, reservation_id) VALUES (%(user_id)s, %(pricing_snapshot)s::JSON, %(final_amount)s, %(is_completed)s, %(reservation_id)s) RETURNING orders.id, orders.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.224002+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00038s] {'user_id': 15, 'pricing_snapshot': '{}', 'final_amount': 0, 'is_completed': False, 'reservation_id': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.226570+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.230465+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.231458+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.231673+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00038s] {'pk_1': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.234147+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: order.created with payload: {'order_id': 7, 'reservation_id': 7, 'user_id': 15, 'showtime_id': 8, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.234559+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\u2713 Order created successfully for reservation 7", "module": "handlers", "function": "on_reservation_created", "line": 41, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.234785+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.235803+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.237275+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.238455+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO audit_logs (actor_id, actor_type, action, target_id, target_type, payload, request_id, created_at) VALUES (%(actor_id)s, %(actor_type)s, %(action)s, %(target_id)s, %(target_type)s, %(payload)s::JSON, %(request_id)s, %(created_at)s) RETURNING audit_logs.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.238904+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00044s] {'actor_id': 15, 'actor_type': 'user', 'action': 'reservation.created', 'target_id': 7, 'target_type': 'reservation', 'payload': '{\"reservation_id\": 7, \"user_id\": 15, \"showtime_id\": 8, \"seat_code\": \"R5-8\"}', 'request_id': None, 'created_at': datetime.datetime(2025, 12, 28, 15, 44, 37, 238087, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.241139+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.245045+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.246242+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT audit_logs.id, audit_logs.actor_id, audit_logs.actor_type, audit_logs.action, audit_logs.target_id, audit_logs.target_type, audit_logs.payload, audit_logs.request_id, audit_logs.created_at \nFROM audit_logs \nWHERE audit_logs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.246688+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'pk_1': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.249820+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.251146+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.252719+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /reservations/ \u2192 200 (0.076s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.253915+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "a5d86613-ca9e-4015-b6ac-48bd036b6ac7"}
{"timestamp": "2025-12-28T15:44:37.255449+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /orders/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "6bc155eb-7042-44a6-aa2f-720d4ae61044"}
{"timestamp": "2025-12-28T15:44:37.257733+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "6bc155eb-7042-44a6-aa2f-720d4ae61044"}
{"timestamp": "2025-12-28T15:44:37.258359+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6bc155eb-7042-44a6-aa2f-720d4ae61044"}
{"timestamp": "2025-12-28T15:44:37.258627+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2232s ago] {'pk_1': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6bc155eb-7042-44a6-aa2f-720d4ae61044"}
{"timestamp": "2025-12-28T15:44:37.262353+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.user_id = %(user_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6bc155eb-7042-44a6-aa2f-720d4ae61044"}
{"timestamp": "2025-12-28T15:44:37.262701+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'user_id_1': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6bc155eb-7042-44a6-aa2f-720d4ae61044"}
{"timestamp": "2025-12-28T15:44:37.265042+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /orders/ \u2192 200 (0.010s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "6bc155eb-7042-44a6-aa2f-720d4ae61044"}
{"timestamp": "2025-12-28T15:44:37.265809+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "6bc155eb-7042-44a6-aa2f-720d4ae61044"}
{"timestamp": "2025-12-28T15:44:37.267560+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /payments/order/7", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "7629173c-6128-4499-bd82-9febbf89b0c2"}
{"timestamp": "2025-12-28T15:44:37.269845+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "7629173c-6128-4499-bd82-9febbf89b0c2"}
{"timestamp": "2025-12-28T15:44:37.271212+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT payment_attempts.id, payment_attempts.order_id, payment_attempts.amount_attempted, payment_attempts.status, payment_attempts.final_amount, payment_attempts.failure_reason, payment_attempts.provider_payment_id, payment_attempts.created_at \nFROM payment_attempts \nWHERE payment_attempts.order_id = %(order_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7629173c-6128-4499-bd82-9febbf89b0c2"}
{"timestamp": "2025-12-28T15:44:37.271441+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00044s] {'order_id_1': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7629173c-6128-4499-bd82-9febbf89b0c2"}
{"timestamp": "2025-12-28T15:44:37.273971+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /payments/order/7 \u2192 200 (0.006s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "7629173c-6128-4499-bd82-9febbf89b0c2"}
{"timestamp": "2025-12-28T15:44:37.274741+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "7629173c-6128-4499-bd82-9febbf89b0c2"}
{"timestamp": "2025-12-28T15:47:59.322983+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T15:48:01.653986+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T15:48:01.654524+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T15:48:01.654890+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.655269+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.655552+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.655873+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.656302+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.656779+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.657156+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.657671+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.658115+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.658490+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.659021+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.659464+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.659870+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.660171+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.660452+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.660902+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.661235+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.661530+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.661897+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.662282+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.662611+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.662963+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.664596+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.665174+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.665568+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.665970+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.666491+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.666939+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.667351+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.667949+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.668810+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.669357+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.669785+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.670191+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.670534+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.670847+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.671153+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.671486+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.671858+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.672245+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.672595+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.672915+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.673264+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.673589+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.673962+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.674360+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/order/{order_id}/initiate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.674798+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/{payment_attempt_id}/confirm", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.675194+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.675560+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.676315+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.676732+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.677185+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.677541+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.677907+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.678255+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.678614+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.680117+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.680617+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.681072+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.681466+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:48:01.681966+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T15:48:01.682413+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T15:48:10.038789+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.096763+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.097171+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.099739+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.100321+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.102583+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.102918+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.105098+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.107873+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.108327+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00063s] {'email_1': 'test_1766936887.98042@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.335481+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.335929+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00064s] {'email': 'test_1766936887.98042@example.com', 'hashed_password': '$2b$12$biuZlNxX4gxFSQfRDGZPlu6QNRZigAMZNUlgtWd.aKq4lgl5E3eLK', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.337964+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.342708+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.344179+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.344582+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00061s] {'pk_1': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.346757+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_registered with payload: {'user_id': 16, 'email': 'test_1766936887.98042@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.348066+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_registered to 1 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.384476+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.386046+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.386445+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'user_id_1': 16, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.390135+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.390664+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'user_id': 16, 'name': None, 'email': 'test_1766936887.98042@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.394110+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.399020+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.400117+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.400515+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'pk_1': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.402698+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: user.profile_created with payload: {'profile_id': 16, 'user_id': 16, 'email': 'test_1766936887.98042@example.com', 'name': None}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.403347+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.404514+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_user_registered completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.405914+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.406482+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2987s ago] {'email_1': 'test_1766936887.98042@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.617400+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 16, 'email': 'test_1766936887.98042@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.618676+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.618947+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.620269+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.582s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.621233+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "c6d7c7e3-3a35-462a-8bcf-93355d924e5b"}
{"timestamp": "2025-12-28T15:48:10.623105+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "32ad1bb5-0280-415e-bb4d-d5bfdac2bfcb"}
{"timestamp": "2025-12-28T15:48:10.629177+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "32ad1bb5-0280-415e-bb4d-d5bfdac2bfcb"}
{"timestamp": "2025-12-28T15:48:10.629929+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32ad1bb5-0280-415e-bb4d-d5bfdac2bfcb"}
{"timestamp": "2025-12-28T15:48:10.630236+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.5227s ago] {'email_1': 'test_1766936887.98042@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32ad1bb5-0280-415e-bb4d-d5bfdac2bfcb"}
{"timestamp": "2025-12-28T15:48:10.835658+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 16, 'email': 'test_1766936887.98042@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "32ad1bb5-0280-415e-bb4d-d5bfdac2bfcb"}
{"timestamp": "2025-12-28T15:48:10.837021+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "32ad1bb5-0280-415e-bb4d-d5bfdac2bfcb"}
{"timestamp": "2025-12-28T15:48:10.837173+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "32ad1bb5-0280-415e-bb4d-d5bfdac2bfcb"}
{"timestamp": "2025-12-28T15:48:10.838179+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.215s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "32ad1bb5-0280-415e-bb4d-d5bfdac2bfcb"}
{"timestamp": "2025-12-28T15:48:10.839080+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "32ad1bb5-0280-415e-bb4d-d5bfdac2bfcb"}
{"timestamp": "2025-12-28T15:48:10.840446+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "f82a2599-58bf-444e-8c1e-a99b2b374269"}
{"timestamp": "2025-12-28T15:48:10.843246+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f82a2599-58bf-444e-8c1e-a99b2b374269"}
{"timestamp": "2025-12-28T15:48:10.844175+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f82a2599-58bf-444e-8c1e-a99b2b374269"}
{"timestamp": "2025-12-28T15:48:10.844580+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00042s] {'pk_1': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f82a2599-58bf-444e-8c1e-a99b2b374269"}
{"timestamp": "2025-12-28T15:48:10.847801+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f82a2599-58bf-444e-8c1e-a99b2b374269"}
{"timestamp": "2025-12-28T15:48:10.848253+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.4623s ago] {'user_id_1': 16, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f82a2599-58bf-444e-8c1e-a99b2b374269"}
{"timestamp": "2025-12-28T15:48:10.851038+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.011s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "f82a2599-58bf-444e-8c1e-a99b2b374269"}
{"timestamp": "2025-12-28T15:48:10.852031+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "f82a2599-58bf-444e-8c1e-a99b2b374269"}
{"timestamp": "2025-12-28T15:48:10.854200+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "6fb7ed80-a1ab-4c81-8be6-56c447446f47"}
{"timestamp": "2025-12-28T15:48:10.857127+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "6fb7ed80-a1ab-4c81-8be6-56c447446f47"}
{"timestamp": "2025-12-28T15:48:10.858999+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6fb7ed80-a1ab-4c81-8be6-56c447446f47"}
{"timestamp": "2025-12-28T15:48:10.859600+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00067s] {'title_1': 'The Matrix Reloaded 1766936890.852429'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6fb7ed80-a1ab-4c81-8be6-56c447446f47"}
{"timestamp": "2025-12-28T15:48:10.863419+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO movies (title, description, duration_minutes, release_date, poster_url, trailer_url, is_active, age_rating) VALUES (%(title)s, %(description)s, %(duration_minutes)s, %(release_date)s, %(poster_url)s, %(trailer_url)s, %(is_active)s, %(age_rating)s) RETURNING movies.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6fb7ed80-a1ab-4c81-8be6-56c447446f47"}
{"timestamp": "2025-12-28T15:48:10.863971+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'title': 'The Matrix Reloaded 1766936890.852429', 'description': 'Test movie: The Matrix Reloaded 1766936890.852429', 'duration_minutes': 120, 'release_date': None, 'poster_url': None, 'trailer_url': None, 'is_active': True, 'age_rating': 'PG_13'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6fb7ed80-a1ab-4c81-8be6-56c447446f47"}
{"timestamp": "2025-12-28T15:48:10.865708+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "6fb7ed80-a1ab-4c81-8be6-56c447446f47"}
{"timestamp": "2025-12-28T15:48:10.869722+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "6fb7ed80-a1ab-4c81-8be6-56c447446f47"}
{"timestamp": "2025-12-28T15:48:10.870781+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6fb7ed80-a1ab-4c81-8be6-56c447446f47"}
{"timestamp": "2025-12-28T15:48:10.871167+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'pk_1': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6fb7ed80-a1ab-4c81-8be6-56c447446f47"}
{"timestamp": "2025-12-28T15:48:10.873321+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: movie.created with payload: {'movie_id': 13}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "6fb7ed80-a1ab-4c81-8be6-56c447446f47"}
{"timestamp": "2025-12-28T15:48:10.874468+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing movie.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "6fb7ed80-a1ab-4c81-8be6-56c447446f47"}
{"timestamp": "2025-12-28T15:48:10.874601+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: movie.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "6fb7ed80-a1ab-4c81-8be6-56c447446f47"}
{"timestamp": "2025-12-28T15:48:10.876140+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 200 (0.022s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "6fb7ed80-a1ab-4c81-8be6-56c447446f47"}
{"timestamp": "2025-12-28T15:48:10.877079+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "6fb7ed80-a1ab-4c81-8be6-56c447446f47"}
{"timestamp": "2025-12-28T15:48:10.878551+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/layouts", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "294035f3-8f76-4751-8fed-25cea7e988d9"}
{"timestamp": "2025-12-28T15:48:10.880975+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "294035f3-8f76-4751-8fed-25cea7e988d9"}
{"timestamp": "2025-12-28T15:48:10.882218+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.name = %(name_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "294035f3-8f76-4751-8fed-25cea7e988d9"}
{"timestamp": "2025-12-28T15:48:10.882643+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'name_1': 'Standard Layout 1766936890.877057'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "294035f3-8f76-4751-8fed-25cea7e988d9"}
{"timestamp": "2025-12-28T15:48:10.885460+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_layouts (name, rows, seats_per_row, grid) VALUES (%(name)s, %(rows)s, %(seats_per_row)s, %(grid)s::JSON) RETURNING seat_layouts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "294035f3-8f76-4751-8fed-25cea7e988d9"}
{"timestamp": "2025-12-28T15:48:10.885736+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'name': 'Standard Layout 1766936890.877057', 'rows': 10, 'seats_per_row': 15, 'grid': 'null'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "294035f3-8f76-4751-8fed-25cea7e988d9"}
{"timestamp": "2025-12-28T15:48:10.887443+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "294035f3-8f76-4751-8fed-25cea7e988d9"}
{"timestamp": "2025-12-28T15:48:10.891961+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "294035f3-8f76-4751-8fed-25cea7e988d9"}
{"timestamp": "2025-12-28T15:48:10.893689+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "294035f3-8f76-4751-8fed-25cea7e988d9"}
{"timestamp": "2025-12-28T15:48:10.894106+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00061s] {'pk_1': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "294035f3-8f76-4751-8fed-25cea7e988d9"}
{"timestamp": "2025-12-28T15:48:10.896485+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.layout_created with payload: {'layout_id': 12}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "294035f3-8f76-4751-8fed-25cea7e988d9"}
{"timestamp": "2025-12-28T15:48:10.897835+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.layout_created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "294035f3-8f76-4751-8fed-25cea7e988d9"}
{"timestamp": "2025-12-28T15:48:10.898024+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.layout_created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "294035f3-8f76-4751-8fed-25cea7e988d9"}
{"timestamp": "2025-12-28T15:48:10.899418+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/layouts \u2192 201 (0.021s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "294035f3-8f76-4751-8fed-25cea7e988d9"}
{"timestamp": "2025-12-28T15:48:10.900338+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "294035f3-8f76-4751-8fed-25cea7e988d9"}
{"timestamp": "2025-12-28T15:48:10.905152+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/screens", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "39500c27-37bb-4d5f-8098-e5579d2dd0c0"}
{"timestamp": "2025-12-28T15:48:10.908194+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "39500c27-37bb-4d5f-8098-e5579d2dd0c0"}
{"timestamp": "2025-12-28T15:48:10.909468+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.name = %(name_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39500c27-37bb-4d5f-8098-e5579d2dd0c0"}
{"timestamp": "2025-12-28T15:48:10.909761+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'name_1': 'Screen 1 1766936890.900056', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39500c27-37bb-4d5f-8098-e5579d2dd0c0"}
{"timestamp": "2025-12-28T15:48:10.912751+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id AS seat_layouts_id, seat_layouts.name AS seat_layouts_name, seat_layouts.rows AS seat_layouts_rows, seat_layouts.seats_per_row AS seat_layouts_seats_per_row, seat_layouts.grid AS seat_layouts_grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39500c27-37bb-4d5f-8098-e5579d2dd0c0"}
{"timestamp": "2025-12-28T15:48:10.913029+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'id_1': 12, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39500c27-37bb-4d5f-8098-e5579d2dd0c0"}
{"timestamp": "2025-12-28T15:48:10.915253+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO screens (name, capacity, seat_layout_id) VALUES (%(name)s, %(capacity)s, %(seat_layout_id)s) RETURNING screens.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39500c27-37bb-4d5f-8098-e5579d2dd0c0"}
{"timestamp": "2025-12-28T15:48:10.915521+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00041s] {'name': 'Screen 1 1766936890.900056', 'capacity': 150, 'seat_layout_id': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39500c27-37bb-4d5f-8098-e5579d2dd0c0"}
{"timestamp": "2025-12-28T15:48:10.917293+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "39500c27-37bb-4d5f-8098-e5579d2dd0c0"}
{"timestamp": "2025-12-28T15:48:10.921759+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "39500c27-37bb-4d5f-8098-e5579d2dd0c0"}
{"timestamp": "2025-12-28T15:48:10.923105+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id, screens.name, screens.capacity, screens.seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39500c27-37bb-4d5f-8098-e5579d2dd0c0"}
{"timestamp": "2025-12-28T15:48:10.923546+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'pk_1': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "39500c27-37bb-4d5f-8098-e5579d2dd0c0"}
{"timestamp": "2025-12-28T15:48:10.925830+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.created with payload: {'screen_id': 12}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "39500c27-37bb-4d5f-8098-e5579d2dd0c0"}
{"timestamp": "2025-12-28T15:48:10.927331+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "39500c27-37bb-4d5f-8098-e5579d2dd0c0"}
{"timestamp": "2025-12-28T15:48:10.927678+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "39500c27-37bb-4d5f-8098-e5579d2dd0c0"}
{"timestamp": "2025-12-28T15:48:10.928976+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/screens \u2192 201 (0.024s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "39500c27-37bb-4d5f-8098-e5579d2dd0c0"}
{"timestamp": "2025-12-28T15:48:10.929993+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "39500c27-37bb-4d5f-8098-e5579d2dd0c0"}
{"timestamp": "2025-12-28T15:48:10.931912+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /showtimes/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.934811+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.936027+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.936279+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'pk_1': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.939325+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.939799+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'pk_1': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.942890+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.screen_id = %(screen_id_1)s AND showtimes.start_time < %(start_time_1)s AND showtimes.end_time > %(end_time_1)s AND showtimes.is_active = true", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.943236+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'screen_id_1': 12, 'start_time_1': datetime.datetime(2025, 12, 29, 21, 0), 'end_time_1': datetime.datetime(2025, 12, 29, 19, 0)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.945982+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO showtimes (start_time, end_time, is_active, format, movie_id, screen_id) VALUES (%(start_time)s, %(end_time)s, %(is_active)s, %(format)s, %(movie_id)s, %(screen_id)s) RETURNING showtimes.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.946314+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'start_time': datetime.datetime(2025, 12, 29, 19, 0), 'end_time': datetime.datetime(2025, 12, 29, 21, 0), 'is_active': True, 'format': 'TWO_D', 'movie_id': 13, 'screen_id': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.948436+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.952575+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.953629+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.954035+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'pk_1': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.957894+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.958197+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'pk_1': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.960412+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.960707+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'pk_1': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.962522+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: showtime.created with payload: {'showtime_id': 9}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.964006+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing showtime.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.964159+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: showtime.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.965269+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /showtimes/ \u2192 201 (0.033s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.966145+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "13d8ad7b-2647-4241-88ea-bba836c3c184"}
{"timestamp": "2025-12-28T15:48:10.967908+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /seatavailability/grid/9", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "a11fbada-36ae-4a9c-9d48-c2266da7f5da"}
{"timestamp": "2025-12-28T15:48:10.970701+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a11fbada-36ae-4a9c-9d48-c2266da7f5da"}
{"timestamp": "2025-12-28T15:48:10.972089+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a11fbada-36ae-4a9c-9d48-c2266da7f5da"}
{"timestamp": "2025-12-28T15:48:10.972541+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'showtime_id_1': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a11fbada-36ae-4a9c-9d48-c2266da7f5da"}
{"timestamp": "2025-12-28T15:48:10.975466+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /seatavailability/grid/9 \u2192 200 (0.008s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "a11fbada-36ae-4a9c-9d48-c2266da7f5da"}
{"timestamp": "2025-12-28T15:48:10.976402+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "a11fbada-36ae-4a9c-9d48-c2266da7f5da"}
{"timestamp": "2025-12-28T15:48:10.978159+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /reservations/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:10.980564+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:10.981163+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:10.981665+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.1374s ago] {'pk_1': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:10.985179+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO reservations (user_id, showtime_id, seat_code, status, created_at, expires_at) VALUES (%(user_id)s, %(showtime_id)s, %(seat_code)s, %(status)s, %(created_at)s, %(expires_at)s) RETURNING reservations.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:10.985617+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00077s] {'user_id': 16, 'showtime_id': 9, 'seat_code': 'R5-8', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 28, 15, 48, 10, 984528, tzinfo=datetime.timezone.utc), 'expires_at': datetime.datetime(2025, 12, 28, 15, 58, 10, 983599, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:10.987881+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:10.992355+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:10.993474+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT reservations.id, reservations.user_id, reservations.showtime_id, reservations.seat_code, reservations.status, reservations.created_at, reservations.expires_at \nFROM reservations \nWHERE reservations.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:10.993891+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'pk_1': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:10.996514+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: reservation.created with payload: {'reservation_id': 8, 'user_id': 16, 'showtime_id': 9, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:10.997730+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing reservation.created to 3 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.000109+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.001350+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s AND seat_locks.seat_code = %(seat_code_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.001801+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00063s] {'showtime_id_1': 9, 'seat_code_1': 'R5-8', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.005185+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_locks (seat_code, showtime_id, status, locked_by_user_id, lock_expires_at) VALUES (%(seat_code)s, %(showtime_id)s, %(status)s, %(locked_by_user_id)s, %(lock_expires_at)s) RETURNING seat_locks.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.005535+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'seat_code': 'R5-8', 'showtime_id': 9, 'status': 'AVAILABLE', 'locked_by_user_id': None, 'lock_expires_at': None}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.008182+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE seat_locks SET status=%(status)s, locked_by_user_id=%(locked_by_user_id)s, lock_expires_at=%(lock_expires_at)s WHERE seat_locks.id = %(seat_locks_id)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.008476+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00042s] {'status': 'LOCKED', 'locked_by_user_id': 16, 'lock_expires_at': datetime.datetime(2025, 12, 28, 15, 58, 11, 7086, tzinfo=datetime.timezone.utc), 'seat_locks_id': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.010197+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.013985+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.014818+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id, seat_locks.seat_code, seat_locks.showtime_id, seat_locks.status, seat_locks.locked_by_user_id, seat_locks.lock_expires_at \nFROM seat_locks \nWHERE seat_locks.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.015156+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00039s] {'pk_1': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.017933+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: seat.locked with payload: {'showtime_id': 9, 'seat_code': 'R5-8', 'user_id': 16, 'expires_at': '2025-12-28T15:58:11.007086+00:00'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.018435+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.019593+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.019973+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\ud83c\udfab Order handler received reservation.created: {'reservation_id': 8, 'user_id': 16, 'showtime_id': 9, 'seat_code': 'R5-8'}", "module": "handlers", "function": "on_reservation_created", "line": 21, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.020131+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "Creating order for reservation 8", "module": "handlers", "function": "on_reservation_created", "line": 33, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.021602+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.022867+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO orders (user_id, pricing_snapshot, final_amount, is_completed, reservation_id) VALUES (%(user_id)s, %(pricing_snapshot)s::JSON, %(final_amount)s, %(is_completed)s, %(reservation_id)s) RETURNING orders.id, orders.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.023212+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'user_id': 16, 'pricing_snapshot': '{}', 'final_amount': 0, 'is_completed': False, 'reservation_id': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.026244+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.030130+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.031317+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.031923+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00066s] {'pk_1': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.034170+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: order.created with payload: {'order_id': 8, 'reservation_id': 8, 'user_id': 16, 'showtime_id': 9, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.034601+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\u2713 Order created successfully for reservation 8", "module": "handlers", "function": "on_reservation_created", "line": 41, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.034900+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.035990+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.037779+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.039122+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO audit_logs (actor_id, actor_type, action, target_id, target_type, payload, request_id, created_at) VALUES (%(actor_id)s, %(actor_type)s, %(action)s, %(target_id)s, %(target_type)s, %(payload)s::JSON, %(request_id)s, %(created_at)s) RETURNING audit_logs.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.039654+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00060s] {'actor_id': 16, 'actor_type': 'user', 'action': 'reservation.created', 'target_id': 8, 'target_type': 'reservation', 'payload': '{\"reservation_id\": 8, \"user_id\": 16, \"showtime_id\": 9, \"seat_code\": \"R5-8\"}', 'request_id': None, 'created_at': datetime.datetime(2025, 12, 28, 15, 48, 11, 38607, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.042060+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.046215+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.047537+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT audit_logs.id, audit_logs.actor_id, audit_logs.actor_type, audit_logs.action, audit_logs.target_id, audit_logs.target_type, audit_logs.payload, audit_logs.request_id, audit_logs.created_at \nFROM audit_logs \nWHERE audit_logs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.048121+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00067s] {'pk_1': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.050652+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.051946+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.053397+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /reservations/ \u2192 200 (0.075s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.054436+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "86058f75-2b4d-4471-b7a2-db9a9634aba5"}
{"timestamp": "2025-12-28T15:48:11.056402+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /orders/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "9086299d-b3f3-42ef-8021-b741f7de5600"}
{"timestamp": "2025-12-28T15:48:11.059677+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "9086299d-b3f3-42ef-8021-b741f7de5600"}
{"timestamp": "2025-12-28T15:48:11.060657+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9086299d-b3f3-42ef-8021-b741f7de5600"}
{"timestamp": "2025-12-28T15:48:11.061009+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2169s ago] {'pk_1': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9086299d-b3f3-42ef-8021-b741f7de5600"}
{"timestamp": "2025-12-28T15:48:11.064759+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.user_id = %(user_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9086299d-b3f3-42ef-8021-b741f7de5600"}
{"timestamp": "2025-12-28T15:48:11.065312+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'user_id_1': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9086299d-b3f3-42ef-8021-b741f7de5600"}
{"timestamp": "2025-12-28T15:48:11.067772+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /orders/ \u2192 200 (0.012s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "9086299d-b3f3-42ef-8021-b741f7de5600"}
{"timestamp": "2025-12-28T15:48:11.068754+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "9086299d-b3f3-42ef-8021-b741f7de5600"}
{"timestamp": "2025-12-28T15:48:11.070341+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /payments/order/8/initiate", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "8592f135-584e-4cf5-9657-308f52b3cf3c"}
{"timestamp": "2025-12-28T15:48:11.073087+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "8592f135-584e-4cf5-9657-308f52b3cf3c"}
{"timestamp": "2025-12-28T15:48:11.073751+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8592f135-584e-4cf5-9657-308f52b3cf3c"}
{"timestamp": "2025-12-28T15:48:11.074109+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.23s ago] {'pk_1': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8592f135-584e-4cf5-9657-308f52b3cf3c"}
{"timestamp": "2025-12-28T15:48:11.077587+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO payment_attempts (order_id, amount_attempted, status, final_amount, failure_reason, provider_payment_id, created_at) VALUES (%(order_id)s, %(amount_attempted)s, %(status)s, %(final_amount)s, %(failure_reason)s, %(provider_payment_id)s, %(created_at)s) RETURNING payment_attempts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8592f135-584e-4cf5-9657-308f52b3cf3c"}
{"timestamp": "2025-12-28T15:48:11.078205+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'order_id': 8, 'amount_attempted': 10.0, 'status': 'PENDING', 'final_amount': 10.0, 'failure_reason': None, 'provider_payment_id': None, 'created_at': datetime.datetime(2025, 12, 28, 15, 48, 11, 77201, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8592f135-584e-4cf5-9657-308f52b3cf3c"}
{"timestamp": "2025-12-28T15:48:11.087317+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "8592f135-584e-4cf5-9657-308f52b3cf3c"}
{"timestamp": "2025-12-28T15:48:11.091907+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "8592f135-584e-4cf5-9657-308f52b3cf3c"}
{"timestamp": "2025-12-28T15:48:11.093107+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT payment_attempts.id, payment_attempts.order_id, payment_attempts.amount_attempted, payment_attempts.status, payment_attempts.final_amount, payment_attempts.failure_reason, payment_attempts.provider_payment_id, payment_attempts.created_at \nFROM payment_attempts \nWHERE payment_attempts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8592f135-584e-4cf5-9657-308f52b3cf3c"}
{"timestamp": "2025-12-28T15:48:11.093632+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'pk_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8592f135-584e-4cf5-9657-308f52b3cf3c"}
{"timestamp": "2025-12-28T15:48:11.097079+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: payment.pending with payload: {'payment_attempt_id': 1, 'order_id': 8, 'amount_attempted': 10.0, 'final_amount': 10.0}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "8592f135-584e-4cf5-9657-308f52b3cf3c"}
{"timestamp": "2025-12-28T15:48:11.098301+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing payment.pending to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "8592f135-584e-4cf5-9657-308f52b3cf3c"}
{"timestamp": "2025-12-28T15:48:11.098508+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: payment.pending", "module": "event_bus", "function": "publish", "line": 30, "request_id": "8592f135-584e-4cf5-9657-308f52b3cf3c"}
{"timestamp": "2025-12-28T15:48:11.100595+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /payments/order/8/initiate \u2192 200 (0.030s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "8592f135-584e-4cf5-9657-308f52b3cf3c"}
{"timestamp": "2025-12-28T15:48:11.101522+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "8592f135-584e-4cf5-9657-308f52b3cf3c"}
{"timestamp": "2025-12-28T15:48:11.103282+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /payments/1/confirm", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "0f472a9c-6f88-4fff-a3a3-968d1d12783a"}
{"timestamp": "2025-12-28T15:48:11.105836+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "0f472a9c-6f88-4fff-a3a3-968d1d12783a"}
{"timestamp": "2025-12-28T15:48:11.106647+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0f472a9c-6f88-4fff-a3a3-968d1d12783a"}
{"timestamp": "2025-12-28T15:48:11.107242+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2631s ago] {'pk_1': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0f472a9c-6f88-4fff-a3a3-968d1d12783a"}
{"timestamp": "2025-12-28T15:48:11.111449+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT payment_attempts.id AS payment_attempts_id, payment_attempts.order_id AS payment_attempts_order_id, payment_attempts.amount_attempted AS payment_attempts_amount_attempted, payment_attempts.status AS payment_attempts_status, payment_attempts.final_amount AS payment_attempts_final_amount, payment_attempts.failure_reason AS payment_attempts_failure_reason, payment_attempts.provider_payment_id AS payment_attempts_provider_payment_id, payment_attempts.created_at AS payment_attempts_created_at \nFROM payment_attempts \nWHERE payment_attempts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0f472a9c-6f88-4fff-a3a3-968d1d12783a"}
{"timestamp": "2025-12-28T15:48:11.111951+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00062s] {'pk_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0f472a9c-6f88-4fff-a3a3-968d1d12783a"}
{"timestamp": "2025-12-28T15:48:11.114835+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id AS orders_id, orders.user_id AS orders_user_id, orders.pricing_snapshot AS orders_pricing_snapshot, orders.final_amount AS orders_final_amount, orders.is_completed AS orders_is_completed, orders.reservation_id AS orders_reservation_id, orders.created_at AS orders_created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0f472a9c-6f88-4fff-a3a3-968d1d12783a"}
{"timestamp": "2025-12-28T15:48:11.115234+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'pk_1': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0f472a9c-6f88-4fff-a3a3-968d1d12783a"}
{"timestamp": "2025-12-28T15:48:11.117516+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "0f472a9c-6f88-4fff-a3a3-968d1d12783a"}
{"timestamp": "2025-12-28T15:48:11.223368+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.middleware", "message": "\u2717 POST /payments/1/confirm \u2192 FAILED (0.016s)", "module": "middleware", "function": "dispatch", "line": 83, "request_id": "0f472a9c-6f88-4fff-a3a3-968d1d12783a", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\middleware.py\", line 57, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 124, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 110, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 390, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\payment\\router.py\", line 50, in confirm_payment_route\n    return mark_payment_succeeded(\n        db=db,\n        payment_attempt_id=payment_attempt_id,\n        provider_payment_id=provider_payment_id\n    )\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\payment\\service.py\", line 66, in mark_payment_succeeded\n    raise ValidationError(\"Final amount not equal to order amount\")\napp.core.errors.ValidationError: Final amount not equal to order amount"}
{"timestamp": "2025-12-28T15:56:42.091488+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T15:56:44.286385+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T15:56:44.286806+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T15:56:44.287238+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.287646+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.288100+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.288513+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.289020+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.289569+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.290035+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.290985+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.293131+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.293864+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.296009+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.296841+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.297590+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.298819+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.300423+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.301749+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.302709+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.303530+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.303976+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.304651+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.305082+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.305511+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.306394+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.308435+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.308988+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.309504+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.309977+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.310438+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.310938+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.311651+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.312023+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.312386+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.312935+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.313471+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.314005+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.314733+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.315204+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.315624+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.316098+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.316682+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.317048+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.317383+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.317755+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.318170+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.318608+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.319177+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/order/{order_id}/initiate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.319884+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/{payment_attempt_id}/confirm", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.320721+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.321430+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.322403+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.323056+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.323590+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.323974+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.324410+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.324832+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.325310+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.325831+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.326302+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.326929+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.327464+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T15:56:44.327886+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T15:56:44.328217+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T15:56:53.857588+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:53.916677+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:53.917269+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:53.919792+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:53.920190+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:53.922371+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:53.922777+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:53.925492+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:53.928394+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:53.928983+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00074s] {'email_1': 'test_1766937411.796633@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.171565+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.172286+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00110s] {'email': 'test_1766937411.796633@example.com', 'hashed_password': '$2b$12$N6YULCCn29VLjzHL9636jui7BMr65uCXVPhQWOk8RCSqwC9YLEKu.', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.175832+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.182486+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.183621+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.183985+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00041s] {'pk_1': 17}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.186153+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_registered with payload: {'user_id': 17, 'email': 'test_1766937411.796633@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.187607+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_registered to 1 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.220667+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.222049+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.222391+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00044s] {'user_id_1': 17, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.226047+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.226647+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'user_id': 17, 'name': None, 'email': 'test_1766937411.796633@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.229540+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.233891+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.234919+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.235416+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'pk_1': 17}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.237676+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: user.profile_created with payload: {'profile_id': 17, 'user_id': 17, 'email': 'test_1766937411.796633@example.com', 'name': None}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.238153+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.239391+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_user_registered completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.240952+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.241715+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.3134s ago] {'email_1': 'test_1766937411.796633@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.540991+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 17, 'email': 'test_1766937411.796633@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.543238+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.543884+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.545768+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.688s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.550576+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "88241bdb-aa6d-46f3-baad-bdb012f06a62"}
{"timestamp": "2025-12-28T15:56:54.550830+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "36c800aa-cd4f-4b71-90c4-59178b447ac8"}
{"timestamp": "2025-12-28T15:56:54.563765+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "36c800aa-cd4f-4b71-90c4-59178b447ac8"}
{"timestamp": "2025-12-28T15:56:54.564992+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "36c800aa-cd4f-4b71-90c4-59178b447ac8"}
{"timestamp": "2025-12-28T15:56:54.565607+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.6374s ago] {'email_1': 'test_1766937411.796633@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "36c800aa-cd4f-4b71-90c4-59178b447ac8"}
{"timestamp": "2025-12-28T15:56:54.793706+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 17, 'email': 'test_1766937411.796633@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "36c800aa-cd4f-4b71-90c4-59178b447ac8"}
{"timestamp": "2025-12-28T15:56:54.795045+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "36c800aa-cd4f-4b71-90c4-59178b447ac8"}
{"timestamp": "2025-12-28T15:56:54.795305+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "36c800aa-cd4f-4b71-90c4-59178b447ac8"}
{"timestamp": "2025-12-28T15:56:54.796430+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.246s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "36c800aa-cd4f-4b71-90c4-59178b447ac8"}
{"timestamp": "2025-12-28T15:56:54.797316+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "36c800aa-cd4f-4b71-90c4-59178b447ac8"}
{"timestamp": "2025-12-28T15:56:54.798923+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "3062a727-eb2f-49c2-b76f-c08bd02b0694"}
{"timestamp": "2025-12-28T15:56:54.802243+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "3062a727-eb2f-49c2-b76f-c08bd02b0694"}
{"timestamp": "2025-12-28T15:56:54.803474+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3062a727-eb2f-49c2-b76f-c08bd02b0694"}
{"timestamp": "2025-12-28T15:56:54.803951+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00064s] {'pk_1': 17}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3062a727-eb2f-49c2-b76f-c08bd02b0694"}
{"timestamp": "2025-12-28T15:56:54.807429+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3062a727-eb2f-49c2-b76f-c08bd02b0694"}
{"timestamp": "2025-12-28T15:56:54.807891+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.5859s ago] {'user_id_1': 17, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3062a727-eb2f-49c2-b76f-c08bd02b0694"}
{"timestamp": "2025-12-28T15:56:54.810878+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.012s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "3062a727-eb2f-49c2-b76f-c08bd02b0694"}
{"timestamp": "2025-12-28T15:56:54.812195+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "3062a727-eb2f-49c2-b76f-c08bd02b0694"}
{"timestamp": "2025-12-28T15:56:54.814909+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "a35dbaf9-4836-4cb8-ba04-8f9d75779ae7"}
{"timestamp": "2025-12-28T15:56:54.818767+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a35dbaf9-4836-4cb8-ba04-8f9d75779ae7"}
{"timestamp": "2025-12-28T15:56:54.820469+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a35dbaf9-4836-4cb8-ba04-8f9d75779ae7"}
{"timestamp": "2025-12-28T15:56:54.820880+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'title_1': 'The Matrix Reloaded 1766937414.812491'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a35dbaf9-4836-4cb8-ba04-8f9d75779ae7"}
{"timestamp": "2025-12-28T15:56:54.824317+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO movies (title, description, duration_minutes, release_date, poster_url, trailer_url, is_active, age_rating) VALUES (%(title)s, %(description)s, %(duration_minutes)s, %(release_date)s, %(poster_url)s, %(trailer_url)s, %(is_active)s, %(age_rating)s) RETURNING movies.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a35dbaf9-4836-4cb8-ba04-8f9d75779ae7"}
{"timestamp": "2025-12-28T15:56:54.824754+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'title': 'The Matrix Reloaded 1766937414.812491', 'description': 'Test movie: The Matrix Reloaded 1766937414.812491', 'duration_minutes': 120, 'release_date': None, 'poster_url': None, 'trailer_url': None, 'is_active': True, 'age_rating': 'PG_13'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a35dbaf9-4836-4cb8-ba04-8f9d75779ae7"}
{"timestamp": "2025-12-28T15:56:54.826989+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "a35dbaf9-4836-4cb8-ba04-8f9d75779ae7"}
{"timestamp": "2025-12-28T15:56:54.833355+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a35dbaf9-4836-4cb8-ba04-8f9d75779ae7"}
{"timestamp": "2025-12-28T15:56:54.834723+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a35dbaf9-4836-4cb8-ba04-8f9d75779ae7"}
{"timestamp": "2025-12-28T15:56:54.835246+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00069s] {'pk_1': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a35dbaf9-4836-4cb8-ba04-8f9d75779ae7"}
{"timestamp": "2025-12-28T15:56:54.838179+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: movie.created with payload: {'movie_id': 14}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "a35dbaf9-4836-4cb8-ba04-8f9d75779ae7"}
{"timestamp": "2025-12-28T15:56:54.839674+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing movie.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "a35dbaf9-4836-4cb8-ba04-8f9d75779ae7"}
{"timestamp": "2025-12-28T15:56:54.839926+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: movie.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "a35dbaf9-4836-4cb8-ba04-8f9d75779ae7"}
{"timestamp": "2025-12-28T15:56:54.841318+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 200 (0.027s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "a35dbaf9-4836-4cb8-ba04-8f9d75779ae7"}
{"timestamp": "2025-12-28T15:56:54.842156+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "a35dbaf9-4836-4cb8-ba04-8f9d75779ae7"}
{"timestamp": "2025-12-28T15:56:54.843916+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/layouts", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "74aedf8a-b196-431a-abca-dd7c63bf7323"}
{"timestamp": "2025-12-28T15:56:54.846498+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "74aedf8a-b196-431a-abca-dd7c63bf7323"}
{"timestamp": "2025-12-28T15:56:54.847670+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.name = %(name_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "74aedf8a-b196-431a-abca-dd7c63bf7323"}
{"timestamp": "2025-12-28T15:56:54.848081+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'name_1': 'Standard Layout 1766937414.842254'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "74aedf8a-b196-431a-abca-dd7c63bf7323"}
{"timestamp": "2025-12-28T15:56:54.851690+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_layouts (name, rows, seats_per_row, grid) VALUES (%(name)s, %(rows)s, %(seats_per_row)s, %(grid)s::JSON) RETURNING seat_layouts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "74aedf8a-b196-431a-abca-dd7c63bf7323"}
{"timestamp": "2025-12-28T15:56:54.852336+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'name': 'Standard Layout 1766937414.842254', 'rows': 10, 'seats_per_row': 15, 'grid': 'null'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "74aedf8a-b196-431a-abca-dd7c63bf7323"}
{"timestamp": "2025-12-28T15:56:54.854057+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "74aedf8a-b196-431a-abca-dd7c63bf7323"}
{"timestamp": "2025-12-28T15:56:54.857929+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "74aedf8a-b196-431a-abca-dd7c63bf7323"}
{"timestamp": "2025-12-28T15:56:54.858980+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "74aedf8a-b196-431a-abca-dd7c63bf7323"}
{"timestamp": "2025-12-28T15:56:54.859399+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'pk_1': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "74aedf8a-b196-431a-abca-dd7c63bf7323"}
{"timestamp": "2025-12-28T15:56:54.862031+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.layout_created with payload: {'layout_id': 13}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "74aedf8a-b196-431a-abca-dd7c63bf7323"}
{"timestamp": "2025-12-28T15:56:54.863298+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.layout_created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "74aedf8a-b196-431a-abca-dd7c63bf7323"}
{"timestamp": "2025-12-28T15:56:54.863488+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.layout_created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "74aedf8a-b196-431a-abca-dd7c63bf7323"}
{"timestamp": "2025-12-28T15:56:54.865731+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/layouts \u2192 201 (0.022s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "74aedf8a-b196-431a-abca-dd7c63bf7323"}
{"timestamp": "2025-12-28T15:56:54.866839+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "74aedf8a-b196-431a-abca-dd7c63bf7323"}
{"timestamp": "2025-12-28T15:56:54.873128+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/screens", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "755a296e-bc47-4fb4-ab7e-880c4d19cecf"}
{"timestamp": "2025-12-28T15:56:54.875981+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "755a296e-bc47-4fb4-ab7e-880c4d19cecf"}
{"timestamp": "2025-12-28T15:56:54.877351+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.name = %(name_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "755a296e-bc47-4fb4-ab7e-880c4d19cecf"}
{"timestamp": "2025-12-28T15:56:54.877781+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'name_1': 'Screen 1 1766937414.866538', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "755a296e-bc47-4fb4-ab7e-880c4d19cecf"}
{"timestamp": "2025-12-28T15:56:54.881684+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id AS seat_layouts_id, seat_layouts.name AS seat_layouts_name, seat_layouts.rows AS seat_layouts_rows, seat_layouts.seats_per_row AS seat_layouts_seats_per_row, seat_layouts.grid AS seat_layouts_grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "755a296e-bc47-4fb4-ab7e-880c4d19cecf"}
{"timestamp": "2025-12-28T15:56:54.882103+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'id_1': 13, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "755a296e-bc47-4fb4-ab7e-880c4d19cecf"}
{"timestamp": "2025-12-28T15:56:54.885166+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO screens (name, capacity, seat_layout_id) VALUES (%(name)s, %(capacity)s, %(seat_layout_id)s) RETURNING screens.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "755a296e-bc47-4fb4-ab7e-880c4d19cecf"}
{"timestamp": "2025-12-28T15:56:54.885706+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00065s] {'name': 'Screen 1 1766937414.866538', 'capacity': 150, 'seat_layout_id': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "755a296e-bc47-4fb4-ab7e-880c4d19cecf"}
{"timestamp": "2025-12-28T15:56:54.887721+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "755a296e-bc47-4fb4-ab7e-880c4d19cecf"}
{"timestamp": "2025-12-28T15:56:54.892327+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "755a296e-bc47-4fb4-ab7e-880c4d19cecf"}
{"timestamp": "2025-12-28T15:56:54.893229+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id, screens.name, screens.capacity, screens.seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "755a296e-bc47-4fb4-ab7e-880c4d19cecf"}
{"timestamp": "2025-12-28T15:56:54.893550+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00042s] {'pk_1': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "755a296e-bc47-4fb4-ab7e-880c4d19cecf"}
{"timestamp": "2025-12-28T15:56:54.896311+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.created with payload: {'screen_id': 13}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "755a296e-bc47-4fb4-ab7e-880c4d19cecf"}
{"timestamp": "2025-12-28T15:56:54.898076+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "755a296e-bc47-4fb4-ab7e-880c4d19cecf"}
{"timestamp": "2025-12-28T15:56:54.898337+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "755a296e-bc47-4fb4-ab7e-880c4d19cecf"}
{"timestamp": "2025-12-28T15:56:54.899860+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/screens \u2192 201 (0.027s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "755a296e-bc47-4fb4-ab7e-880c4d19cecf"}
{"timestamp": "2025-12-28T15:56:54.900752+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "755a296e-bc47-4fb4-ab7e-880c4d19cecf"}
{"timestamp": "2025-12-28T15:56:54.902419+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /showtimes/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.904835+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.905971+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.906237+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'pk_1': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.908917+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.909235+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00044s] {'pk_1': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.912561+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.screen_id = %(screen_id_1)s AND showtimes.start_time < %(start_time_1)s AND showtimes.end_time > %(end_time_1)s AND showtimes.is_active = true", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.912955+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'screen_id_1': 13, 'start_time_1': datetime.datetime(2025, 12, 29, 21, 0), 'end_time_1': datetime.datetime(2025, 12, 29, 19, 0)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.916276+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO showtimes (start_time, end_time, is_active, format, movie_id, screen_id) VALUES (%(start_time)s, %(end_time)s, %(is_active)s, %(format)s, %(movie_id)s, %(screen_id)s) RETURNING showtimes.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.916894+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00090s] {'start_time': datetime.datetime(2025, 12, 29, 19, 0), 'end_time': datetime.datetime(2025, 12, 29, 21, 0), 'is_active': True, 'format': 'TWO_D', 'movie_id': 14, 'screen_id': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.919226+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.923593+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.924678+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.925018+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'pk_1': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.929879+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.930612+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00063s] {'pk_1': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.933004+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.933328+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'pk_1': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.934847+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: showtime.created with payload: {'showtime_id': 10}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.936104+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing showtime.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.936276+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: showtime.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.937434+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /showtimes/ \u2192 201 (0.035s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.938408+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "0373f21c-ee29-4e26-9d86-967d5fd234e2"}
{"timestamp": "2025-12-28T15:56:54.940232+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /seatavailability/grid/10", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "f1d6b82e-f6cd-4d04-86c7-45080875c9ac"}
{"timestamp": "2025-12-28T15:56:54.942833+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f1d6b82e-f6cd-4d04-86c7-45080875c9ac"}
{"timestamp": "2025-12-28T15:56:54.944121+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f1d6b82e-f6cd-4d04-86c7-45080875c9ac"}
{"timestamp": "2025-12-28T15:56:54.944501+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'showtime_id_1': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f1d6b82e-f6cd-4d04-86c7-45080875c9ac"}
{"timestamp": "2025-12-28T15:56:54.947400+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /seatavailability/grid/10 \u2192 200 (0.007s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "f1d6b82e-f6cd-4d04-86c7-45080875c9ac"}
{"timestamp": "2025-12-28T15:56:54.948536+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "f1d6b82e-f6cd-4d04-86c7-45080875c9ac"}
{"timestamp": "2025-12-28T15:56:54.950942+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /reservations/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.953955+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.954729+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.955105+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.1519s ago] {'pk_1': 17}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.958532+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO reservations (user_id, showtime_id, seat_code, status, created_at, expires_at) VALUES (%(user_id)s, %(showtime_id)s, %(seat_code)s, %(status)s, %(created_at)s, %(expires_at)s) RETURNING reservations.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.958975+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'user_id': 17, 'showtime_id': 10, 'seat_code': 'R5-8', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 28, 15, 56, 54, 958062, tzinfo=datetime.timezone.utc), 'expires_at': datetime.datetime(2025, 12, 28, 16, 6, 54, 957069, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.961240+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.965169+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.966432+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT reservations.id, reservations.user_id, reservations.showtime_id, reservations.seat_code, reservations.status, reservations.created_at, reservations.expires_at \nFROM reservations \nWHERE reservations.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.966965+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'pk_1': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.969380+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: reservation.created with payload: {'reservation_id': 9, 'user_id': 17, 'showtime_id': 10, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.970484+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing reservation.created to 3 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.973250+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.974417+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s AND seat_locks.seat_code = %(seat_code_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.974805+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'showtime_id_1': 10, 'seat_code_1': 'R5-8', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.978142+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_locks (seat_code, showtime_id, status, locked_by_user_id, lock_expires_at) VALUES (%(seat_code)s, %(showtime_id)s, %(status)s, %(locked_by_user_id)s, %(lock_expires_at)s) RETURNING seat_locks.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.978533+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'seat_code': 'R5-8', 'showtime_id': 10, 'status': 'AVAILABLE', 'locked_by_user_id': None, 'lock_expires_at': None}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.981745+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE seat_locks SET status=%(status)s, locked_by_user_id=%(locked_by_user_id)s, lock_expires_at=%(lock_expires_at)s WHERE seat_locks.id = %(seat_locks_id)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.982172+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'status': 'LOCKED', 'locked_by_user_id': 17, 'lock_expires_at': datetime.datetime(2025, 12, 28, 16, 6, 54, 980473, tzinfo=datetime.timezone.utc), 'seat_locks_id': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.984265+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.988427+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.989391+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id, seat_locks.seat_code, seat_locks.showtime_id, seat_locks.status, seat_locks.locked_by_user_id, seat_locks.lock_expires_at \nFROM seat_locks \nWHERE seat_locks.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.989801+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'pk_1': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.992124+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: seat.locked with payload: {'showtime_id': 10, 'seat_code': 'R5-8', 'user_id': 17, 'expires_at': '2025-12-28T16:06:54.980473+00:00'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.992793+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.993910+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.994233+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\ud83c\udfab Order handler received reservation.created: {'reservation_id': 9, 'user_id': 17, 'showtime_id': 10, 'seat_code': 'R5-8'}", "module": "handlers", "function": "on_reservation_created", "line": 21, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.994461+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "Creating order for reservation 9", "module": "handlers", "function": "on_reservation_created", "line": 33, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.995923+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.997089+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO orders (user_id, pricing_snapshot, final_amount, is_completed, reservation_id) VALUES (%(user_id)s, %(pricing_snapshot)s::JSON, %(final_amount)s, %(is_completed)s, %(reservation_id)s) RETURNING orders.id, orders.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.997336+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00041s] {'user_id': 17, 'pricing_snapshot': '{}', 'final_amount': 0, 'is_completed': False, 'reservation_id': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:54.999902+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:55.004742+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:55.006077+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:55.006699+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00060s] {'pk_1': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:55.009462+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: order.created with payload: {'order_id': 9, 'reservation_id': 9, 'user_id': 17, 'showtime_id': 10, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:55.009927+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\u2713 Order created successfully for reservation 9", "module": "handlers", "function": "on_reservation_created", "line": 41, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:55.010186+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:55.011209+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:55.012829+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:55.014048+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO audit_logs (actor_id, actor_type, action, target_id, target_type, payload, request_id, created_at) VALUES (%(actor_id)s, %(actor_type)s, %(action)s, %(target_id)s, %(target_type)s, %(payload)s::JSON, %(request_id)s, %(created_at)s) RETURNING audit_logs.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:55.014582+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'actor_id': 17, 'actor_type': 'user', 'action': 'reservation.created', 'target_id': 9, 'target_type': 'reservation', 'payload': '{\"reservation_id\": 9, \"user_id\": 17, \"showtime_id\": 10, \"seat_code\": \"R5-8\"}', 'request_id': None, 'created_at': datetime.datetime(2025, 12, 28, 15, 56, 55, 13615, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:55.017377+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:55.021698+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:55.022783+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT audit_logs.id, audit_logs.actor_id, audit_logs.actor_type, audit_logs.action, audit_logs.target_id, audit_logs.target_type, audit_logs.payload, audit_logs.request_id, audit_logs.created_at \nFROM audit_logs \nWHERE audit_logs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:55.023075+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00044s] {'pk_1': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:55.025526+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:55.026614+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:55.027836+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /reservations/ \u2192 200 (0.077s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:55.028813+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "f410fdd2-f57e-43a8-96c1-923d63c82f4e"}
{"timestamp": "2025-12-28T15:56:55.030420+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /orders/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "66e44a40-5a36-44ad-b056-6bda2fcbed39"}
{"timestamp": "2025-12-28T15:56:55.033004+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "66e44a40-5a36-44ad-b056-6bda2fcbed39"}
{"timestamp": "2025-12-28T15:56:55.033617+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66e44a40-5a36-44ad-b056-6bda2fcbed39"}
{"timestamp": "2025-12-28T15:56:55.034078+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2308s ago] {'pk_1': 17}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66e44a40-5a36-44ad-b056-6bda2fcbed39"}
{"timestamp": "2025-12-28T15:56:55.037719+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.user_id = %(user_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66e44a40-5a36-44ad-b056-6bda2fcbed39"}
{"timestamp": "2025-12-28T15:56:55.038067+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'user_id_1': 17}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "66e44a40-5a36-44ad-b056-6bda2fcbed39"}
{"timestamp": "2025-12-28T15:56:55.040245+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /orders/ \u2192 200 (0.010s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "66e44a40-5a36-44ad-b056-6bda2fcbed39"}
{"timestamp": "2025-12-28T15:56:55.041173+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "66e44a40-5a36-44ad-b056-6bda2fcbed39"}
{"timestamp": "2025-12-28T15:56:55.042834+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /payments/order/9/initiate", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "f970308b-9ce5-4a57-aa90-33ce470df12e"}
{"timestamp": "2025-12-28T15:56:55.045318+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f970308b-9ce5-4a57-aa90-33ce470df12e"}
{"timestamp": "2025-12-28T15:56:55.045999+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f970308b-9ce5-4a57-aa90-33ce470df12e"}
{"timestamp": "2025-12-28T15:56:55.046320+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2432s ago] {'pk_1': 17}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f970308b-9ce5-4a57-aa90-33ce470df12e"}
{"timestamp": "2025-12-28T15:56:55.050072+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO payment_attempts (order_id, amount_attempted, status, final_amount, failure_reason, provider_payment_id, created_at) VALUES (%(order_id)s, %(amount_attempted)s, %(status)s, %(final_amount)s, %(failure_reason)s, %(provider_payment_id)s, %(created_at)s) RETURNING payment_attempts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f970308b-9ce5-4a57-aa90-33ce470df12e"}
{"timestamp": "2025-12-28T15:56:55.050742+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'order_id': 9, 'amount_attempted': 10.0, 'status': 'PENDING', 'final_amount': 10.0, 'failure_reason': None, 'provider_payment_id': None, 'created_at': datetime.datetime(2025, 12, 28, 15, 56, 55, 49630, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f970308b-9ce5-4a57-aa90-33ce470df12e"}
{"timestamp": "2025-12-28T15:56:55.053349+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "f970308b-9ce5-4a57-aa90-33ce470df12e"}
{"timestamp": "2025-12-28T15:56:55.057639+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f970308b-9ce5-4a57-aa90-33ce470df12e"}
{"timestamp": "2025-12-28T15:56:55.058866+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT payment_attempts.id, payment_attempts.order_id, payment_attempts.amount_attempted, payment_attempts.status, payment_attempts.final_amount, payment_attempts.failure_reason, payment_attempts.provider_payment_id, payment_attempts.created_at \nFROM payment_attempts \nWHERE payment_attempts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f970308b-9ce5-4a57-aa90-33ce470df12e"}
{"timestamp": "2025-12-28T15:56:55.059227+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'pk_1': 2}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f970308b-9ce5-4a57-aa90-33ce470df12e"}
{"timestamp": "2025-12-28T15:56:55.061450+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: payment.pending with payload: {'payment_attempt_id': 2, 'order_id': 9, 'amount_attempted': 10.0, 'final_amount': 10.0}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "f970308b-9ce5-4a57-aa90-33ce470df12e"}
{"timestamp": "2025-12-28T15:56:55.062525+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing payment.pending to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "f970308b-9ce5-4a57-aa90-33ce470df12e"}
{"timestamp": "2025-12-28T15:56:55.062697+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: payment.pending", "module": "event_bus", "function": "publish", "line": 30, "request_id": "f970308b-9ce5-4a57-aa90-33ce470df12e"}
{"timestamp": "2025-12-28T15:56:55.063924+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /payments/order/9/initiate \u2192 200 (0.021s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "f970308b-9ce5-4a57-aa90-33ce470df12e"}
{"timestamp": "2025-12-28T15:56:55.064736+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "f970308b-9ce5-4a57-aa90-33ce470df12e"}
{"timestamp": "2025-12-28T15:56:55.066783+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /payments/2/confirm", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "7e755f5c-2c90-48e2-b0a0-175c623e77f8"}
{"timestamp": "2025-12-28T15:56:55.069400+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "7e755f5c-2c90-48e2-b0a0-175c623e77f8"}
{"timestamp": "2025-12-28T15:56:55.070303+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7e755f5c-2c90-48e2-b0a0-175c623e77f8"}
{"timestamp": "2025-12-28T15:56:55.070747+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2675s ago] {'pk_1': 17}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7e755f5c-2c90-48e2-b0a0-175c623e77f8"}
{"timestamp": "2025-12-28T15:56:55.074098+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT payment_attempts.id AS payment_attempts_id, payment_attempts.order_id AS payment_attempts_order_id, payment_attempts.amount_attempted AS payment_attempts_amount_attempted, payment_attempts.status AS payment_attempts_status, payment_attempts.final_amount AS payment_attempts_final_amount, payment_attempts.failure_reason AS payment_attempts_failure_reason, payment_attempts.provider_payment_id AS payment_attempts_provider_payment_id, payment_attempts.created_at AS payment_attempts_created_at \nFROM payment_attempts \nWHERE payment_attempts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7e755f5c-2c90-48e2-b0a0-175c623e77f8"}
{"timestamp": "2025-12-28T15:56:55.074591+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'pk_1': 2}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7e755f5c-2c90-48e2-b0a0-175c623e77f8"}
{"timestamp": "2025-12-28T15:56:55.077122+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id AS orders_id, orders.user_id AS orders_user_id, orders.pricing_snapshot AS orders_pricing_snapshot, orders.final_amount AS orders_final_amount, orders.is_completed AS orders_is_completed, orders.reservation_id AS orders_reservation_id, orders.created_at AS orders_created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7e755f5c-2c90-48e2-b0a0-175c623e77f8"}
{"timestamp": "2025-12-28T15:56:55.077410+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'pk_1': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7e755f5c-2c90-48e2-b0a0-175c623e77f8"}
{"timestamp": "2025-12-28T15:56:55.079251+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "7e755f5c-2c90-48e2-b0a0-175c623e77f8"}
{"timestamp": "2025-12-28T15:56:55.091696+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.middleware", "message": "\u2717 POST /payments/2/confirm \u2192 FAILED (0.014s)", "module": "middleware", "function": "dispatch", "line": 83, "request_id": "7e755f5c-2c90-48e2-b0a0-175c623e77f8", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\middleware.py\", line 57, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 124, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 110, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 390, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\payment\\router.py\", line 50, in confirm_payment_route\n    return mark_payment_succeeded(\n        db=db,\n        payment_attempt_id=payment_attempt_id,\n        provider_payment_id=provider_payment_id\n    )\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\payment\\service.py\", line 66, in mark_payment_succeeded\n    raise ValidationError(\"Final amount not equal to order amount\")\napp.core.errors.ValidationError: Final amount not equal to order amount"}
{"timestamp": "2025-12-28T16:01:03.376980+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T16:01:05.228766+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T16:01:05.229074+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T16:01:05.229420+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.229731+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.229943+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.230126+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.230259+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.230424+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.230597+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.230764+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.230924+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.231086+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.231245+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.231405+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.231565+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.231725+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.231885+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.232074+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.232271+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.232453+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.232599+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.232743+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.232883+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.233176+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.233366+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.233522+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.233671+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.233808+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.233963+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.234083+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.234225+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.234394+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.234544+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.234742+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.234994+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.235237+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.235453+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.235679+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.235901+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.236096+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.236258+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.236595+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.236945+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.237255+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.237626+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.237947+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.238215+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.238445+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/order/{order_id}/initiate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.238639+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/{payment_attempt_id}/confirm", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.238769+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.238901+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.239053+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.239193+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.239353+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.239517+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.239731+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.239935+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.240102+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.240285+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.240484+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.240625+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.240760+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:01:05.240887+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T16:01:05.241304+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T16:02:03.071528+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T16:02:04.917082+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T16:02:04.917475+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T16:02:04.917743+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.917946+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.918095+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.918251+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.918428+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.918573+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.918728+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.918900+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.919051+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.919207+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.919377+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.919551+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.919693+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.919858+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.920212+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.920419+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.920618+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.920815+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.920996+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.921199+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.921540+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.921793+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.922024+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.922243+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.922441+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.922626+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.922859+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.923043+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.923168+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.923292+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.923410+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.923580+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.923872+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.924362+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.924704+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.925037+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.925435+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.925819+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.926116+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.926649+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.927002+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.927279+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.927561+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.927844+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.928140+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.928371+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/order/{order_id}/initiate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.928603+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/{payment_attempt_id}/confirm", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.928811+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.928994+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.929180+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.929395+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.929613+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.929846+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.930085+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.930352+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.930544+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.930712+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.930972+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.931271+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.931586+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:02:04.931785+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T16:02:04.931989+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T16:03:04.405010+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T16:03:06.341617+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T16:03:06.342038+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T16:03:06.342350+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.342559+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.342735+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.342888+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.343117+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.343382+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.343791+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.344010+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.344205+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.344385+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.344537+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.344688+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.344839+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.344992+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.345173+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.345368+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.345522+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.345679+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.345821+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.345961+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.346106+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.346319+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.346596+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.346778+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.346912+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.347125+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.347351+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.347520+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.347717+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.347876+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.348006+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.348394+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.348717+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.349119+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.349387+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.349607+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.349839+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.350060+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.350258+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.350472+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.350674+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.350822+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.350981+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.351127+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.351263+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.351393+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/order/{order_id}/initiate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.351530+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/{payment_attempt_id}/confirm", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.351734+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.352041+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.352338+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.352661+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.352936+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.353150+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.353390+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.353618+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.353829+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.354044+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.354226+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.354393+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.354516+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:03:06.354636+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T16:03:06.354782+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T16:03:29.281851+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.354490+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.354812+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.357437+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.357695+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.359644+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.359904+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.362577+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.365489+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.366015+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00067s] {'email_1': 'test_1766937807.220274@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.596875+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.597352+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00067s] {'email': 'test_1766937807.220274@example.com', 'hashed_password': '$2b$12$Mj1uKwdpozPb8luVcZhUuepliJ4RxqA5bkSUhn19PFc7VXMvvbKne', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.600517+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.605764+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.607141+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.607534+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00061s] {'pk_1': 18}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.609676+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_registered with payload: {'user_id': 18, 'email': 'test_1766937807.220274@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.611369+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_registered to 1 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.642178+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.643944+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.644414+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00067s] {'user_id_1': 18, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.648591+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.649042+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00058s] {'user_id': 18, 'name': None, 'email': 'test_1766937807.220274@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.651884+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.656940+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.658056+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.658441+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'pk_1': 18}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.660515+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: user.profile_created with payload: {'profile_id': 18, 'user_id': 18, 'email': 'test_1766937807.220274@example.com', 'name': None}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.661027+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.662183+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_user_registered completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.663743+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.664141+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2989s ago] {'email_1': 'test_1766937807.220274@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.891529+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 18, 'email': 'test_1766937807.220274@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.892911+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.893086+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.895201+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.614s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.896132+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "bda11e9f-68ef-4e71-aef5-545efdfbf564"}
{"timestamp": "2025-12-28T16:03:29.899515+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "556dad6c-08bf-4f44-b8c1-32e3cc249b81"}
{"timestamp": "2025-12-28T16:03:29.905068+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "556dad6c-08bf-4f44-b8c1-32e3cc249b81"}
{"timestamp": "2025-12-28T16:03:29.906114+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "556dad6c-08bf-4f44-b8c1-32e3cc249b81"}
{"timestamp": "2025-12-28T16:03:29.906622+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.5413s ago] {'email_1': 'test_1766937807.220274@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "556dad6c-08bf-4f44-b8c1-32e3cc249b81"}
{"timestamp": "2025-12-28T16:03:30.112575+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 18, 'email': 'test_1766937807.220274@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "556dad6c-08bf-4f44-b8c1-32e3cc249b81"}
{"timestamp": "2025-12-28T16:03:30.113802+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "556dad6c-08bf-4f44-b8c1-32e3cc249b81"}
{"timestamp": "2025-12-28T16:03:30.113972+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "556dad6c-08bf-4f44-b8c1-32e3cc249b81"}
{"timestamp": "2025-12-28T16:03:30.115287+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.216s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "556dad6c-08bf-4f44-b8c1-32e3cc249b81"}
{"timestamp": "2025-12-28T16:03:30.116543+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "556dad6c-08bf-4f44-b8c1-32e3cc249b81"}
{"timestamp": "2025-12-28T16:03:30.117767+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "3b6392f9-85fa-46b2-aba2-ef4fb21c9885"}
{"timestamp": "2025-12-28T16:03:30.122205+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "3b6392f9-85fa-46b2-aba2-ef4fb21c9885"}
{"timestamp": "2025-12-28T16:03:30.123386+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3b6392f9-85fa-46b2-aba2-ef4fb21c9885"}
{"timestamp": "2025-12-28T16:03:30.123807+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00061s] {'pk_1': 18}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3b6392f9-85fa-46b2-aba2-ef4fb21c9885"}
{"timestamp": "2025-12-28T16:03:30.126667+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3b6392f9-85fa-46b2-aba2-ef4fb21c9885"}
{"timestamp": "2025-12-28T16:03:30.127435+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.4834s ago] {'user_id_1': 18, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3b6392f9-85fa-46b2-aba2-ef4fb21c9885"}
{"timestamp": "2025-12-28T16:03:30.132608+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.015s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "3b6392f9-85fa-46b2-aba2-ef4fb21c9885"}
{"timestamp": "2025-12-28T16:03:30.133676+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "3b6392f9-85fa-46b2-aba2-ef4fb21c9885"}
{"timestamp": "2025-12-28T16:03:30.136513+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "dee090b6-a17f-42fd-bfd5-8476e0d88a80"}
{"timestamp": "2025-12-28T16:03:30.139077+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "dee090b6-a17f-42fd-bfd5-8476e0d88a80"}
{"timestamp": "2025-12-28T16:03:30.140616+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "dee090b6-a17f-42fd-bfd5-8476e0d88a80"}
{"timestamp": "2025-12-28T16:03:30.141098+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'title_1': 'The Matrix Reloaded 1766937810.134559'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "dee090b6-a17f-42fd-bfd5-8476e0d88a80"}
{"timestamp": "2025-12-28T16:03:30.144714+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO movies (title, description, duration_minutes, release_date, poster_url, trailer_url, is_active, age_rating) VALUES (%(title)s, %(description)s, %(duration_minutes)s, %(release_date)s, %(poster_url)s, %(trailer_url)s, %(is_active)s, %(age_rating)s) RETURNING movies.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "dee090b6-a17f-42fd-bfd5-8476e0d88a80"}
{"timestamp": "2025-12-28T16:03:30.145176+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'title': 'The Matrix Reloaded 1766937810.134559', 'description': 'Test movie: The Matrix Reloaded 1766937810.134559', 'duration_minutes': 120, 'release_date': None, 'poster_url': None, 'trailer_url': None, 'is_active': True, 'age_rating': 'PG_13'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "dee090b6-a17f-42fd-bfd5-8476e0d88a80"}
{"timestamp": "2025-12-28T16:03:30.147926+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "dee090b6-a17f-42fd-bfd5-8476e0d88a80"}
{"timestamp": "2025-12-28T16:03:30.152413+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "dee090b6-a17f-42fd-bfd5-8476e0d88a80"}
{"timestamp": "2025-12-28T16:03:30.153559+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "dee090b6-a17f-42fd-bfd5-8476e0d88a80"}
{"timestamp": "2025-12-28T16:03:30.153987+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'pk_1': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "dee090b6-a17f-42fd-bfd5-8476e0d88a80"}
{"timestamp": "2025-12-28T16:03:30.156449+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: movie.created with payload: {'movie_id': 15}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "dee090b6-a17f-42fd-bfd5-8476e0d88a80"}
{"timestamp": "2025-12-28T16:03:30.157670+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing movie.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "dee090b6-a17f-42fd-bfd5-8476e0d88a80"}
{"timestamp": "2025-12-28T16:03:30.157864+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: movie.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "dee090b6-a17f-42fd-bfd5-8476e0d88a80"}
{"timestamp": "2025-12-28T16:03:30.159123+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 200 (0.023s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "dee090b6-a17f-42fd-bfd5-8476e0d88a80"}
{"timestamp": "2025-12-28T16:03:30.160077+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "dee090b6-a17f-42fd-bfd5-8476e0d88a80"}
{"timestamp": "2025-12-28T16:03:30.162194+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/layouts", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "b03af643-b224-4886-a2ee-1fb5aa901c68"}
{"timestamp": "2025-12-28T16:03:30.165732+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b03af643-b224-4886-a2ee-1fb5aa901c68"}
{"timestamp": "2025-12-28T16:03:30.167119+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.name = %(name_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b03af643-b224-4886-a2ee-1fb5aa901c68"}
{"timestamp": "2025-12-28T16:03:30.167577+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'name_1': 'Standard Layout 1766937810.160126'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b03af643-b224-4886-a2ee-1fb5aa901c68"}
{"timestamp": "2025-12-28T16:03:30.170736+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_layouts (name, rows, seats_per_row, grid) VALUES (%(name)s, %(rows)s, %(seats_per_row)s, %(grid)s::JSON) RETURNING seat_layouts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b03af643-b224-4886-a2ee-1fb5aa901c68"}
{"timestamp": "2025-12-28T16:03:30.171083+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'name': 'Standard Layout 1766937810.160126', 'rows': 10, 'seats_per_row': 15, 'grid': 'null'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b03af643-b224-4886-a2ee-1fb5aa901c68"}
{"timestamp": "2025-12-28T16:03:30.173169+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "b03af643-b224-4886-a2ee-1fb5aa901c68"}
{"timestamp": "2025-12-28T16:03:30.178040+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b03af643-b224-4886-a2ee-1fb5aa901c68"}
{"timestamp": "2025-12-28T16:03:30.179020+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b03af643-b224-4886-a2ee-1fb5aa901c68"}
{"timestamp": "2025-12-28T16:03:30.179308+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'pk_1': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b03af643-b224-4886-a2ee-1fb5aa901c68"}
{"timestamp": "2025-12-28T16:03:30.181659+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.layout_created with payload: {'layout_id': 14}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "b03af643-b224-4886-a2ee-1fb5aa901c68"}
{"timestamp": "2025-12-28T16:03:30.183292+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.layout_created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "b03af643-b224-4886-a2ee-1fb5aa901c68"}
{"timestamp": "2025-12-28T16:03:30.183518+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.layout_created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "b03af643-b224-4886-a2ee-1fb5aa901c68"}
{"timestamp": "2025-12-28T16:03:30.184739+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/layouts \u2192 201 (0.023s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "b03af643-b224-4886-a2ee-1fb5aa901c68"}
{"timestamp": "2025-12-28T16:03:30.185570+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "b03af643-b224-4886-a2ee-1fb5aa901c68"}
{"timestamp": "2025-12-28T16:03:30.191239+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/screens", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "6f441c9d-97ba-4a7f-a628-e60da5554cdc"}
{"timestamp": "2025-12-28T16:03:30.194339+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "6f441c9d-97ba-4a7f-a628-e60da5554cdc"}
{"timestamp": "2025-12-28T16:03:30.195721+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.name = %(name_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6f441c9d-97ba-4a7f-a628-e60da5554cdc"}
{"timestamp": "2025-12-28T16:03:30.196249+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00065s] {'name_1': 'Screen 1 1766937810.18536', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6f441c9d-97ba-4a7f-a628-e60da5554cdc"}
{"timestamp": "2025-12-28T16:03:30.200594+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id AS seat_layouts_id, seat_layouts.name AS seat_layouts_name, seat_layouts.rows AS seat_layouts_rows, seat_layouts.seats_per_row AS seat_layouts_seats_per_row, seat_layouts.grid AS seat_layouts_grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6f441c9d-97ba-4a7f-a628-e60da5554cdc"}
{"timestamp": "2025-12-28T16:03:30.201197+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00066s] {'id_1': 14, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6f441c9d-97ba-4a7f-a628-e60da5554cdc"}
{"timestamp": "2025-12-28T16:03:30.203703+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO screens (name, capacity, seat_layout_id) VALUES (%(name)s, %(capacity)s, %(seat_layout_id)s) RETURNING screens.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6f441c9d-97ba-4a7f-a628-e60da5554cdc"}
{"timestamp": "2025-12-28T16:03:30.204158+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'name': 'Screen 1 1766937810.18536', 'capacity': 150, 'seat_layout_id': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6f441c9d-97ba-4a7f-a628-e60da5554cdc"}
{"timestamp": "2025-12-28T16:03:30.206231+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "6f441c9d-97ba-4a7f-a628-e60da5554cdc"}
{"timestamp": "2025-12-28T16:03:30.211079+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "6f441c9d-97ba-4a7f-a628-e60da5554cdc"}
{"timestamp": "2025-12-28T16:03:30.212395+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id, screens.name, screens.capacity, screens.seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6f441c9d-97ba-4a7f-a628-e60da5554cdc"}
{"timestamp": "2025-12-28T16:03:30.212734+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'pk_1': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6f441c9d-97ba-4a7f-a628-e60da5554cdc"}
{"timestamp": "2025-12-28T16:03:30.215609+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.created with payload: {'screen_id': 14}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "6f441c9d-97ba-4a7f-a628-e60da5554cdc"}
{"timestamp": "2025-12-28T16:03:30.217019+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "6f441c9d-97ba-4a7f-a628-e60da5554cdc"}
{"timestamp": "2025-12-28T16:03:30.217199+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "6f441c9d-97ba-4a7f-a628-e60da5554cdc"}
{"timestamp": "2025-12-28T16:03:30.218904+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/screens \u2192 201 (0.032s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "6f441c9d-97ba-4a7f-a628-e60da5554cdc"}
{"timestamp": "2025-12-28T16:03:30.220120+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "6f441c9d-97ba-4a7f-a628-e60da5554cdc"}
{"timestamp": "2025-12-28T16:03:30.221902+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /showtimes/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.225157+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.226336+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.226628+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'pk_1': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.229574+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.230129+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'pk_1': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.233309+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.screen_id = %(screen_id_1)s AND showtimes.start_time < %(start_time_1)s AND showtimes.end_time > %(end_time_1)s AND showtimes.is_active = true", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.233672+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'screen_id_1': 14, 'start_time_1': datetime.datetime(2025, 12, 29, 21, 0), 'end_time_1': datetime.datetime(2025, 12, 29, 19, 0)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.236571+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO showtimes (start_time, end_time, is_active, format, movie_id, screen_id) VALUES (%(start_time)s, %(end_time)s, %(is_active)s, %(format)s, %(movie_id)s, %(screen_id)s) RETURNING showtimes.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.237049+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'start_time': datetime.datetime(2025, 12, 29, 19, 0), 'end_time': datetime.datetime(2025, 12, 29, 21, 0), 'is_active': True, 'format': 'TWO_D', 'movie_id': 15, 'screen_id': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.240146+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.245428+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.246485+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.246818+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'pk_1': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.251140+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.251770+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00067s] {'pk_1': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.254673+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.254988+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00060s] {'pk_1': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.256599+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: showtime.created with payload: {'showtime_id': 11}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.258220+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing showtime.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.258414+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: showtime.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.259823+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /showtimes/ \u2192 201 (0.038s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.260993+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "08dd8c43-d4a0-4796-baab-5fe310f7d2e1"}
{"timestamp": "2025-12-28T16:03:30.262641+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /seatavailability/grid/11", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "80c25a9e-d5d1-43ea-a980-fc977da5dea1"}
{"timestamp": "2025-12-28T16:03:30.265475+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "80c25a9e-d5d1-43ea-a980-fc977da5dea1"}
{"timestamp": "2025-12-28T16:03:30.267507+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80c25a9e-d5d1-43ea-a980-fc977da5dea1"}
{"timestamp": "2025-12-28T16:03:30.268023+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00067s] {'showtime_id_1': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "80c25a9e-d5d1-43ea-a980-fc977da5dea1"}
{"timestamp": "2025-12-28T16:03:30.272349+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /seatavailability/grid/11 \u2192 200 (0.010s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "80c25a9e-d5d1-43ea-a980-fc977da5dea1"}
{"timestamp": "2025-12-28T16:03:30.273552+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "80c25a9e-d5d1-43ea-a980-fc977da5dea1"}
{"timestamp": "2025-12-28T16:03:30.275434+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /reservations/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.278084+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.278720+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.279058+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.1559s ago] {'pk_1': 18}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.282507+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO reservations (user_id, showtime_id, seat_code, status, created_at, expires_at) VALUES (%(user_id)s, %(showtime_id)s, %(seat_code)s, %(status)s, %(created_at)s, %(expires_at)s) RETURNING reservations.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.282847+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'user_id': 18, 'showtime_id': 11, 'seat_code': 'R5-8', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 28, 16, 3, 30, 282099, tzinfo=datetime.timezone.utc), 'expires_at': datetime.datetime(2025, 12, 28, 16, 13, 30, 281184, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.285352+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.290188+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.291559+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT reservations.id, reservations.user_id, reservations.showtime_id, reservations.seat_code, reservations.status, reservations.created_at, reservations.expires_at \nFROM reservations \nWHERE reservations.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.291834+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'pk_1': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.294003+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: reservation.created with payload: {'reservation_id': 10, 'user_id': 18, 'showtime_id': 11, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.295364+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing reservation.created to 3 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.297970+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.299097+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s AND seat_locks.seat_code = %(seat_code_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.299602+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00058s] {'showtime_id_1': 11, 'seat_code_1': 'R5-8', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.304370+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_locks (seat_code, showtime_id, status, locked_by_user_id, lock_expires_at) VALUES (%(seat_code)s, %(showtime_id)s, %(status)s, %(locked_by_user_id)s, %(lock_expires_at)s) RETURNING seat_locks.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.304658+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'seat_code': 'R5-8', 'showtime_id': 11, 'status': 'AVAILABLE', 'locked_by_user_id': None, 'lock_expires_at': None}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.307366+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE seat_locks SET status=%(status)s, locked_by_user_id=%(locked_by_user_id)s, lock_expires_at=%(lock_expires_at)s WHERE seat_locks.id = %(seat_locks_id)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.307828+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'status': 'LOCKED', 'locked_by_user_id': 18, 'lock_expires_at': datetime.datetime(2025, 12, 28, 16, 13, 30, 306213, tzinfo=datetime.timezone.utc), 'seat_locks_id': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.309649+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.313552+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.314531+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id, seat_locks.seat_code, seat_locks.showtime_id, seat_locks.status, seat_locks.locked_by_user_id, seat_locks.lock_expires_at \nFROM seat_locks \nWHERE seat_locks.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.314907+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'pk_1': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.317580+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: seat.locked with payload: {'showtime_id': 11, 'seat_code': 'R5-8', 'user_id': 18, 'expires_at': '2025-12-28T16:13:30.306213+00:00'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.318312+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.319487+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.320006+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\ud83c\udfab Order handler received reservation.created: {'reservation_id': 10, 'user_id': 18, 'showtime_id': 11, 'seat_code': 'R5-8'}", "module": "handlers", "function": "on_reservation_created", "line": 21, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.320295+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "Creating order for reservation 10", "module": "handlers", "function": "on_reservation_created", "line": 33, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.321925+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.323233+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO orders (user_id, pricing_snapshot, final_amount, is_completed, reservation_id) VALUES (%(user_id)s, %(pricing_snapshot)s::JSON, %(final_amount)s, %(is_completed)s, %(reservation_id)s) RETURNING orders.id, orders.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.323614+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'user_id': 18, 'pricing_snapshot': '{}', 'final_amount': 0, 'is_completed': False, 'reservation_id': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.326409+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.330555+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.331617+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.332065+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'pk_1': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.335041+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: order.created with payload: {'order_id': 10, 'reservation_id': 10, 'user_id': 18, 'showtime_id': 11, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.335640+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\u2713 Order created successfully for reservation 10", "module": "handlers", "function": "on_reservation_created", "line": 41, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.336032+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.337223+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.338973+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.340148+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO audit_logs (actor_id, actor_type, action, target_id, target_type, payload, request_id, created_at) VALUES (%(actor_id)s, %(actor_type)s, %(action)s, %(target_id)s, %(target_type)s, %(payload)s::JSON, %(request_id)s, %(created_at)s) RETURNING audit_logs.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.340490+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00044s] {'actor_id': 18, 'actor_type': 'user', 'action': 'reservation.created', 'target_id': 10, 'target_type': 'reservation', 'payload': '{\"reservation_id\": 10, \"user_id\": 18, \"showtime_id\": 11, \"seat_code\": \"R5-8\"}', 'request_id': None, 'created_at': datetime.datetime(2025, 12, 28, 16, 3, 30, 339788, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.342875+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.346786+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.347974+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT audit_logs.id, audit_logs.actor_id, audit_logs.actor_type, audit_logs.action, audit_logs.target_id, audit_logs.target_type, audit_logs.payload, audit_logs.request_id, audit_logs.created_at \nFROM audit_logs \nWHERE audit_logs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.348720+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'pk_1': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.351484+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.352663+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.354030+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /reservations/ \u2192 200 (0.079s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.354895+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "22fc72aa-65a0-4e5a-8203-4885157b5a3e"}
{"timestamp": "2025-12-28T16:03:30.356526+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /orders/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "1902cb87-ad94-44cd-abd2-f0728d31c895"}
{"timestamp": "2025-12-28T16:03:30.358722+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "1902cb87-ad94-44cd-abd2-f0728d31c895"}
{"timestamp": "2025-12-28T16:03:30.359464+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1902cb87-ad94-44cd-abd2-f0728d31c895"}
{"timestamp": "2025-12-28T16:03:30.359789+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2367s ago] {'pk_1': 18}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1902cb87-ad94-44cd-abd2-f0728d31c895"}
{"timestamp": "2025-12-28T16:03:30.363170+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.user_id = %(user_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1902cb87-ad94-44cd-abd2-f0728d31c895"}
{"timestamp": "2025-12-28T16:03:30.363695+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00060s] {'user_id_1': 18}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1902cb87-ad94-44cd-abd2-f0728d31c895"}
{"timestamp": "2025-12-28T16:03:30.367135+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /orders/ \u2192 200 (0.011s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "1902cb87-ad94-44cd-abd2-f0728d31c895"}
{"timestamp": "2025-12-28T16:03:30.368109+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "1902cb87-ad94-44cd-abd2-f0728d31c895"}
{"timestamp": "2025-12-28T16:03:30.369811+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /payments/order/10/initiate", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "cbe4b2b8-65ff-4c4e-904f-929b0cfa023c"}
{"timestamp": "2025-12-28T16:03:30.372509+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "cbe4b2b8-65ff-4c4e-904f-929b0cfa023c"}
{"timestamp": "2025-12-28T16:03:30.373140+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "cbe4b2b8-65ff-4c4e-904f-929b0cfa023c"}
{"timestamp": "2025-12-28T16:03:30.373631+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2504s ago] {'pk_1': 18}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "cbe4b2b8-65ff-4c4e-904f-929b0cfa023c"}
{"timestamp": "2025-12-28T16:03:30.376958+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO payment_attempts (order_id, amount_attempted, status, final_amount, failure_reason, provider_payment_id, created_at) VALUES (%(order_id)s, %(amount_attempted)s, %(status)s, %(final_amount)s, %(failure_reason)s, %(provider_payment_id)s, %(created_at)s) RETURNING payment_attempts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "cbe4b2b8-65ff-4c4e-904f-929b0cfa023c"}
{"timestamp": "2025-12-28T16:03:30.377438+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'order_id': 10, 'amount_attempted': 10.0, 'status': 'PENDING', 'final_amount': 10.0, 'failure_reason': None, 'provider_payment_id': None, 'created_at': datetime.datetime(2025, 12, 28, 16, 3, 30, 376559, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "cbe4b2b8-65ff-4c4e-904f-929b0cfa023c"}
{"timestamp": "2025-12-28T16:03:30.379896+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "cbe4b2b8-65ff-4c4e-904f-929b0cfa023c"}
{"timestamp": "2025-12-28T16:03:30.384533+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "cbe4b2b8-65ff-4c4e-904f-929b0cfa023c"}
{"timestamp": "2025-12-28T16:03:30.385875+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT payment_attempts.id, payment_attempts.order_id, payment_attempts.amount_attempted, payment_attempts.status, payment_attempts.final_amount, payment_attempts.failure_reason, payment_attempts.provider_payment_id, payment_attempts.created_at \nFROM payment_attempts \nWHERE payment_attempts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "cbe4b2b8-65ff-4c4e-904f-929b0cfa023c"}
{"timestamp": "2025-12-28T16:03:30.386208+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'pk_1': 3}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "cbe4b2b8-65ff-4c4e-904f-929b0cfa023c"}
{"timestamp": "2025-12-28T16:03:30.388618+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: payment.pending with payload: {'payment_attempt_id': 3, 'order_id': 10, 'amount_attempted': 10.0, 'final_amount': 10.0}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "cbe4b2b8-65ff-4c4e-904f-929b0cfa023c"}
{"timestamp": "2025-12-28T16:03:30.389755+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing payment.pending to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "cbe4b2b8-65ff-4c4e-904f-929b0cfa023c"}
{"timestamp": "2025-12-28T16:03:30.389934+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: payment.pending", "module": "event_bus", "function": "publish", "line": 30, "request_id": "cbe4b2b8-65ff-4c4e-904f-929b0cfa023c"}
{"timestamp": "2025-12-28T16:03:30.391318+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /payments/order/10/initiate \u2192 200 (0.021s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "cbe4b2b8-65ff-4c4e-904f-929b0cfa023c"}
{"timestamp": "2025-12-28T16:03:30.392225+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "cbe4b2b8-65ff-4c4e-904f-929b0cfa023c"}
{"timestamp": "2025-12-28T16:03:30.393906+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /payments/3/confirm", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "9e16c3ae-9fda-4269-ae08-1604b6bae2b8"}
{"timestamp": "2025-12-28T16:03:30.396500+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "9e16c3ae-9fda-4269-ae08-1604b6bae2b8"}
{"timestamp": "2025-12-28T16:03:30.397275+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9e16c3ae-9fda-4269-ae08-1604b6bae2b8"}
{"timestamp": "2025-12-28T16:03:30.397646+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2745s ago] {'pk_1': 18}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9e16c3ae-9fda-4269-ae08-1604b6bae2b8"}
{"timestamp": "2025-12-28T16:03:30.401981+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT payment_attempts.id AS payment_attempts_id, payment_attempts.order_id AS payment_attempts_order_id, payment_attempts.amount_attempted AS payment_attempts_amount_attempted, payment_attempts.status AS payment_attempts_status, payment_attempts.final_amount AS payment_attempts_final_amount, payment_attempts.failure_reason AS payment_attempts_failure_reason, payment_attempts.provider_payment_id AS payment_attempts_provider_payment_id, payment_attempts.created_at AS payment_attempts_created_at \nFROM payment_attempts \nWHERE payment_attempts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9e16c3ae-9fda-4269-ae08-1604b6bae2b8"}
{"timestamp": "2025-12-28T16:03:30.402633+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00064s] {'pk_1': 3}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9e16c3ae-9fda-4269-ae08-1604b6bae2b8"}
{"timestamp": "2025-12-28T16:03:30.405240+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id AS orders_id, orders.user_id AS orders_user_id, orders.pricing_snapshot AS orders_pricing_snapshot, orders.final_amount AS orders_final_amount, orders.is_completed AS orders_is_completed, orders.reservation_id AS orders_reservation_id, orders.created_at AS orders_created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9e16c3ae-9fda-4269-ae08-1604b6bae2b8"}
{"timestamp": "2025-12-28T16:03:30.405689+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00058s] {'pk_1': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9e16c3ae-9fda-4269-ae08-1604b6bae2b8"}
{"timestamp": "2025-12-28T16:03:30.407975+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "9e16c3ae-9fda-4269-ae08-1604b6bae2b8"}
{"timestamp": "2025-12-28T16:03:30.425179+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.middleware", "message": "\u2717 POST /payments/3/confirm \u2192 FAILED (0.016s)", "module": "middleware", "function": "dispatch", "line": 83, "request_id": "9e16c3ae-9fda-4269-ae08-1604b6bae2b8", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\middleware.py\", line 57, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 124, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 110, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 390, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\payment\\router.py\", line 50, in confirm_payment_route\n    return mark_payment_succeeded(\n        db=db,\n        payment_attempt_id=payment_attempt_id,\n        provider_payment_id=provider_payment_id\n    )\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\payment\\service.py\", line 66, in mark_payment_succeeded\n    raise ValidationError(\"Final amount not equal to order amount\")\napp.core.errors.ValidationError: Final amount not equal to order amount"}
{"timestamp": "2025-12-28T16:06:04.607812+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T16:06:06.461936+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T16:06:06.462162+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T16:06:06.462354+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.462521+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.462719+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.463026+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.463272+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.463516+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.463809+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.464224+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.464660+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.465084+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.465452+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.465901+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.466269+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.466783+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.467185+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.467572+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.467939+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.468197+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.468595+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.469070+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.469584+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.469984+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.470273+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.470582+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.471022+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.471459+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.471835+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.472123+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.472478+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.472781+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.473015+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.473405+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.473805+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.474375+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.474900+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.475289+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.475666+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.475940+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.476210+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.476520+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.476740+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.477025+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.477262+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.477449+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.477651+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.477938+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/order/{order_id}/initiate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.478166+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/{payment_attempt_id}/confirm", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.478358+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.478668+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.478999+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.479299+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.479744+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.480137+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.480419+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.480740+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.481198+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.481626+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.482002+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.482423+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.482810+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:06:06.483027+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T16:06:06.483160+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T16:06:25.848473+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:25.906301+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:25.906679+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:25.909325+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:25.909668+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:25.911755+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:25.912212+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:25.914295+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:25.917007+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:25.917391+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00061s] {'email_1': 'test_1766937983.795562@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.145233+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.145670+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00090s] {'email': 'test_1766937983.795562@example.com', 'hashed_password': '$2b$12$80tp6cI797Q7En0LPe9RTukxYH68s0/MkBPfCaHzKlGVKTNCFZy4O', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.147775+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.153447+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.154766+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.155154+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'pk_1': 19}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.157863+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_registered with payload: {'user_id': 19, 'email': 'test_1766937983.795562@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.159307+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_registered to 1 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.183940+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.185448+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.185758+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'user_id_1': 19, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.189733+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.190126+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00062s] {'user_id': 19, 'name': None, 'email': 'test_1766937983.795562@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.192848+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.198206+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.199190+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.199587+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'pk_1': 19}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.201895+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: user.profile_created with payload: {'profile_id': 19, 'user_id': 19, 'email': 'test_1766937983.795562@example.com', 'name': None}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.202243+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.242941+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.event_bus", "message": "\u274c Event handler failed: auth.user_registered -> on_user_registered: asyncio.run() cannot be called from a running event loop", "module": "event_bus", "function": "_safe_invoke", "line": 43, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\event_bus.py\", line 40, in _safe_invoke\n    await handler(payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\user\\handlers.py\", line 19, in on_user_registered\n    profile_service.create_profile(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        db,\n        ^^^\n        user_id=user_id,\n        ^^^^^^^^^^^^^^^^\n        email=email,\n        ^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\user\\service.py\", line 41, in create_profile\n    publish_event(event[\"type\"], event[\"payload\"])\n    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 20, in publish_event\n    asyncio.run(event_bus.publish(event_type, payload))\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 191, in run\n    raise RuntimeError(\n        \"asyncio.run() cannot be called from a running event loop\")\nRuntimeError: asyncio.run() cannot be called from a running event loop"}
{"timestamp": "2025-12-28T16:06:26.248781+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.249237+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.3324s ago] {'email_1': 'test_1766937983.795562@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.461890+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 19, 'email': 'test_1766937983.795562@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.463067+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.463257+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.464652+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.616s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.465694+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "c00d27f8-b1a9-45a4-b450-5a31e4b60e6b"}
{"timestamp": "2025-12-28T16:06:26.467630+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "b79c3929-c9ac-4f00-a1b5-59a66a7499d1"}
{"timestamp": "2025-12-28T16:06:26.473727+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "b79c3929-c9ac-4f00-a1b5-59a66a7499d1"}
{"timestamp": "2025-12-28T16:06:26.474654+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b79c3929-c9ac-4f00-a1b5-59a66a7499d1"}
{"timestamp": "2025-12-28T16:06:26.475089+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.5583s ago] {'email_1': 'test_1766937983.795562@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "b79c3929-c9ac-4f00-a1b5-59a66a7499d1"}
{"timestamp": "2025-12-28T16:06:26.682239+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 19, 'email': 'test_1766937983.795562@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "b79c3929-c9ac-4f00-a1b5-59a66a7499d1"}
{"timestamp": "2025-12-28T16:06:26.683227+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "b79c3929-c9ac-4f00-a1b5-59a66a7499d1"}
{"timestamp": "2025-12-28T16:06:26.683400+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "b79c3929-c9ac-4f00-a1b5-59a66a7499d1"}
{"timestamp": "2025-12-28T16:06:26.684527+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.217s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "b79c3929-c9ac-4f00-a1b5-59a66a7499d1"}
{"timestamp": "2025-12-28T16:06:26.685405+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "b79c3929-c9ac-4f00-a1b5-59a66a7499d1"}
{"timestamp": "2025-12-28T16:06:26.686920+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "5494145e-8e36-4ad1-83ab-2892aba29b3f"}
{"timestamp": "2025-12-28T16:06:26.689605+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "5494145e-8e36-4ad1-83ab-2892aba29b3f"}
{"timestamp": "2025-12-28T16:06:26.692648+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5494145e-8e36-4ad1-83ab-2892aba29b3f"}
{"timestamp": "2025-12-28T16:06:26.693060+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00160s] {'pk_1': 19}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5494145e-8e36-4ad1-83ab-2892aba29b3f"}
{"timestamp": "2025-12-28T16:06:26.696080+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5494145e-8e36-4ad1-83ab-2892aba29b3f"}
{"timestamp": "2025-12-28T16:06:26.696306+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.5112s ago] {'user_id_1': 19, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5494145e-8e36-4ad1-83ab-2892aba29b3f"}
{"timestamp": "2025-12-28T16:06:26.698971+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.012s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "5494145e-8e36-4ad1-83ab-2892aba29b3f"}
{"timestamp": "2025-12-28T16:06:26.699888+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "5494145e-8e36-4ad1-83ab-2892aba29b3f"}
{"timestamp": "2025-12-28T16:06:26.702357+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "d631e9d2-7b2f-4680-8b21-2d6f190818f0"}
{"timestamp": "2025-12-28T16:06:26.705178+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "d631e9d2-7b2f-4680-8b21-2d6f190818f0"}
{"timestamp": "2025-12-28T16:06:26.706820+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d631e9d2-7b2f-4680-8b21-2d6f190818f0"}
{"timestamp": "2025-12-28T16:06:26.707253+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'title_1': 'The Matrix Reloaded 1766937986.700579'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d631e9d2-7b2f-4680-8b21-2d6f190818f0"}
{"timestamp": "2025-12-28T16:06:26.711336+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO movies (title, description, duration_minutes, release_date, poster_url, trailer_url, is_active, age_rating) VALUES (%(title)s, %(description)s, %(duration_minutes)s, %(release_date)s, %(poster_url)s, %(trailer_url)s, %(is_active)s, %(age_rating)s) RETURNING movies.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d631e9d2-7b2f-4680-8b21-2d6f190818f0"}
{"timestamp": "2025-12-28T16:06:26.711831+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00063s] {'title': 'The Matrix Reloaded 1766937986.700579', 'description': 'Test movie: The Matrix Reloaded 1766937986.700579', 'duration_minutes': 120, 'release_date': None, 'poster_url': None, 'trailer_url': None, 'is_active': True, 'age_rating': 'PG_13'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d631e9d2-7b2f-4680-8b21-2d6f190818f0"}
{"timestamp": "2025-12-28T16:06:26.713617+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "d631e9d2-7b2f-4680-8b21-2d6f190818f0"}
{"timestamp": "2025-12-28T16:06:26.717921+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "d631e9d2-7b2f-4680-8b21-2d6f190818f0"}
{"timestamp": "2025-12-28T16:06:26.719016+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d631e9d2-7b2f-4680-8b21-2d6f190818f0"}
{"timestamp": "2025-12-28T16:06:26.719295+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'pk_1': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d631e9d2-7b2f-4680-8b21-2d6f190818f0"}
{"timestamp": "2025-12-28T16:06:26.721516+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: movie.created with payload: {'movie_id': 16}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "d631e9d2-7b2f-4680-8b21-2d6f190818f0"}
{"timestamp": "2025-12-28T16:06:26.723063+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing movie.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "d631e9d2-7b2f-4680-8b21-2d6f190818f0"}
{"timestamp": "2025-12-28T16:06:26.723216+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: movie.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "d631e9d2-7b2f-4680-8b21-2d6f190818f0"}
{"timestamp": "2025-12-28T16:06:26.724602+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 200 (0.022s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "d631e9d2-7b2f-4680-8b21-2d6f190818f0"}
{"timestamp": "2025-12-28T16:06:26.725421+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "d631e9d2-7b2f-4680-8b21-2d6f190818f0"}
{"timestamp": "2025-12-28T16:06:26.727005+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/layouts", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "7be7c581-4fff-482e-9868-0256c408e6e4"}
{"timestamp": "2025-12-28T16:06:26.729301+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "7be7c581-4fff-482e-9868-0256c408e6e4"}
{"timestamp": "2025-12-28T16:06:26.730410+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.name = %(name_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7be7c581-4fff-482e-9868-0256c408e6e4"}
{"timestamp": "2025-12-28T16:06:26.730914+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00042s] {'name_1': 'Standard Layout 1766937986.72546'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7be7c581-4fff-482e-9868-0256c408e6e4"}
{"timestamp": "2025-12-28T16:06:26.734140+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_layouts (name, rows, seats_per_row, grid) VALUES (%(name)s, %(rows)s, %(seats_per_row)s, %(grid)s::JSON) RETURNING seat_layouts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7be7c581-4fff-482e-9868-0256c408e6e4"}
{"timestamp": "2025-12-28T16:06:26.734431+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00043s] {'name': 'Standard Layout 1766937986.72546', 'rows': 10, 'seats_per_row': 15, 'grid': 'null'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7be7c581-4fff-482e-9868-0256c408e6e4"}
{"timestamp": "2025-12-28T16:06:26.736208+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "7be7c581-4fff-482e-9868-0256c408e6e4"}
{"timestamp": "2025-12-28T16:06:26.740624+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "7be7c581-4fff-482e-9868-0256c408e6e4"}
{"timestamp": "2025-12-28T16:06:26.741822+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7be7c581-4fff-482e-9868-0256c408e6e4"}
{"timestamp": "2025-12-28T16:06:26.742420+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00072s] {'pk_1': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7be7c581-4fff-482e-9868-0256c408e6e4"}
{"timestamp": "2025-12-28T16:06:26.744674+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.layout_created with payload: {'layout_id': 15}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "7be7c581-4fff-482e-9868-0256c408e6e4"}
{"timestamp": "2025-12-28T16:06:26.745775+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.layout_created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "7be7c581-4fff-482e-9868-0256c408e6e4"}
{"timestamp": "2025-12-28T16:06:26.745916+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.layout_created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "7be7c581-4fff-482e-9868-0256c408e6e4"}
{"timestamp": "2025-12-28T16:06:26.747062+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/layouts \u2192 201 (0.020s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "7be7c581-4fff-482e-9868-0256c408e6e4"}
{"timestamp": "2025-12-28T16:06:26.747932+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "7be7c581-4fff-482e-9868-0256c408e6e4"}
{"timestamp": "2025-12-28T16:06:26.749587+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/screens", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "2bfdd7ce-f3d2-4d21-b266-518d07cc0a0c"}
{"timestamp": "2025-12-28T16:06:26.752057+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "2bfdd7ce-f3d2-4d21-b266-518d07cc0a0c"}
{"timestamp": "2025-12-28T16:06:26.753191+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.name = %(name_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2bfdd7ce-f3d2-4d21-b266-518d07cc0a0c"}
{"timestamp": "2025-12-28T16:06:26.753818+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00044s] {'name_1': 'Screen 1 1766937986.747717', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2bfdd7ce-f3d2-4d21-b266-518d07cc0a0c"}
{"timestamp": "2025-12-28T16:06:26.761586+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id AS seat_layouts_id, seat_layouts.name AS seat_layouts_name, seat_layouts.rows AS seat_layouts_rows, seat_layouts.seats_per_row AS seat_layouts_seats_per_row, seat_layouts.grid AS seat_layouts_grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2bfdd7ce-f3d2-4d21-b266-518d07cc0a0c"}
{"timestamp": "2025-12-28T16:06:26.761859+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'id_1': 15, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2bfdd7ce-f3d2-4d21-b266-518d07cc0a0c"}
{"timestamp": "2025-12-28T16:06:26.764331+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO screens (name, capacity, seat_layout_id) VALUES (%(name)s, %(capacity)s, %(seat_layout_id)s) RETURNING screens.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2bfdd7ce-f3d2-4d21-b266-518d07cc0a0c"}
{"timestamp": "2025-12-28T16:06:26.764635+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'name': 'Screen 1 1766937986.747717', 'capacity': 150, 'seat_layout_id': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2bfdd7ce-f3d2-4d21-b266-518d07cc0a0c"}
{"timestamp": "2025-12-28T16:06:26.766909+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "2bfdd7ce-f3d2-4d21-b266-518d07cc0a0c"}
{"timestamp": "2025-12-28T16:06:26.773004+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "2bfdd7ce-f3d2-4d21-b266-518d07cc0a0c"}
{"timestamp": "2025-12-28T16:06:26.774366+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id, screens.name, screens.capacity, screens.seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2bfdd7ce-f3d2-4d21-b266-518d07cc0a0c"}
{"timestamp": "2025-12-28T16:06:26.774828+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'pk_1': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2bfdd7ce-f3d2-4d21-b266-518d07cc0a0c"}
{"timestamp": "2025-12-28T16:06:26.777099+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.created with payload: {'screen_id': 15}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "2bfdd7ce-f3d2-4d21-b266-518d07cc0a0c"}
{"timestamp": "2025-12-28T16:06:26.778273+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "2bfdd7ce-f3d2-4d21-b266-518d07cc0a0c"}
{"timestamp": "2025-12-28T16:06:26.778453+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "2bfdd7ce-f3d2-4d21-b266-518d07cc0a0c"}
{"timestamp": "2025-12-28T16:06:26.779793+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/screens \u2192 201 (0.030s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "2bfdd7ce-f3d2-4d21-b266-518d07cc0a0c"}
{"timestamp": "2025-12-28T16:06:26.780694+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "2bfdd7ce-f3d2-4d21-b266-518d07cc0a0c"}
{"timestamp": "2025-12-28T16:06:26.782382+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /showtimes/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.784922+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.786398+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.786812+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'pk_1': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.789608+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.789876+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'pk_1': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.792930+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.screen_id = %(screen_id_1)s AND showtimes.start_time < %(start_time_1)s AND showtimes.end_time > %(end_time_1)s AND showtimes.is_active = true", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.793356+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'screen_id_1': 15, 'start_time_1': datetime.datetime(2025, 12, 29, 21, 0), 'end_time_1': datetime.datetime(2025, 12, 29, 19, 0)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.796198+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO showtimes (start_time, end_time, is_active, format, movie_id, screen_id) VALUES (%(start_time)s, %(end_time)s, %(is_active)s, %(format)s, %(movie_id)s, %(screen_id)s) RETURNING showtimes.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.796785+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00060s] {'start_time': datetime.datetime(2025, 12, 29, 19, 0), 'end_time': datetime.datetime(2025, 12, 29, 21, 0), 'is_active': True, 'format': 'TWO_D', 'movie_id': 16, 'screen_id': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.798928+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.803818+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.804962+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.805514+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'pk_1': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.809408+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.810047+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00069s] {'pk_1': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.813029+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.813421+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'pk_1': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.815103+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: showtime.created with payload: {'showtime_id': 12}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.816533+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing showtime.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.816822+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: showtime.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.818023+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /showtimes/ \u2192 201 (0.036s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.819106+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "5028a9d8-ae29-47cd-8640-374350ad8c33"}
{"timestamp": "2025-12-28T16:06:26.820672+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /seatavailability/grid/12", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "38df0760-face-4ea0-92c6-6df57ef6eea2"}
{"timestamp": "2025-12-28T16:06:26.823130+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "38df0760-face-4ea0-92c6-6df57ef6eea2"}
{"timestamp": "2025-12-28T16:06:26.824474+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "38df0760-face-4ea0-92c6-6df57ef6eea2"}
{"timestamp": "2025-12-28T16:06:26.824943+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'showtime_id_1': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "38df0760-face-4ea0-92c6-6df57ef6eea2"}
{"timestamp": "2025-12-28T16:06:26.827998+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /seatavailability/grid/12 \u2192 200 (0.007s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "38df0760-face-4ea0-92c6-6df57ef6eea2"}
{"timestamp": "2025-12-28T16:06:26.829052+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "38df0760-face-4ea0-92c6-6df57ef6eea2"}
{"timestamp": "2025-12-28T16:06:26.830785+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /reservations/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.834112+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.834959+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.835448+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.1439s ago] {'pk_1': 19}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.839595+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO reservations (user_id, showtime_id, seat_code, status, created_at, expires_at) VALUES (%(user_id)s, %(showtime_id)s, %(seat_code)s, %(status)s, %(created_at)s, %(expires_at)s) RETURNING reservations.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.840071+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'user_id': 19, 'showtime_id': 12, 'seat_code': 'R5-8', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 28, 16, 6, 26, 839131, tzinfo=datetime.timezone.utc), 'expires_at': datetime.datetime(2025, 12, 28, 16, 16, 26, 838140, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.842301+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.846221+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.847328+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT reservations.id, reservations.user_id, reservations.showtime_id, reservations.seat_code, reservations.status, reservations.created_at, reservations.expires_at \nFROM reservations \nWHERE reservations.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.847719+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00044s] {'pk_1': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.850526+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: reservation.created with payload: {'reservation_id': 11, 'user_id': 19, 'showtime_id': 12, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.851717+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing reservation.created to 3 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.854240+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.855359+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s AND seat_locks.seat_code = %(seat_code_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.855800+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'showtime_id_1': 12, 'seat_code_1': 'R5-8', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.859013+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_locks (seat_code, showtime_id, status, locked_by_user_id, lock_expires_at) VALUES (%(seat_code)s, %(showtime_id)s, %(status)s, %(locked_by_user_id)s, %(lock_expires_at)s) RETURNING seat_locks.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.859365+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'seat_code': 'R5-8', 'showtime_id': 12, 'status': 'AVAILABLE', 'locked_by_user_id': None, 'lock_expires_at': None}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.862381+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE seat_locks SET status=%(status)s, locked_by_user_id=%(locked_by_user_id)s, lock_expires_at=%(lock_expires_at)s WHERE seat_locks.id = %(seat_locks_id)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.862803+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00044s] {'status': 'LOCKED', 'locked_by_user_id': 19, 'lock_expires_at': datetime.datetime(2025, 12, 28, 16, 16, 26, 861221, tzinfo=datetime.timezone.utc), 'seat_locks_id': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.864991+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.869832+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.870954+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id, seat_locks.seat_code, seat_locks.showtime_id, seat_locks.status, seat_locks.locked_by_user_id, seat_locks.lock_expires_at \nFROM seat_locks \nWHERE seat_locks.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.871196+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'pk_1': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.873490+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: seat.locked with payload: {'showtime_id': 12, 'seat_code': 'R5-8', 'user_id': 19, 'expires_at': '2025-12-28T16:16:26.861221+00:00'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.873735+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.877550+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.event_bus", "message": "\u274c Event handler failed: reservation.created -> on_reservation_created: asyncio.run() cannot be called from a running event loop", "module": "event_bus", "function": "_safe_invoke", "line": 43, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\event_bus.py\", line 40, in _safe_invoke\n    await handler(payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\seat_availability\\handlers.py\", line 24, in on_reservation_created\n    seat_service.lock_seat(\n    ~~~~~~~~~~~~~~~~~~~~~~^\n        db,\n        ^^^\n    ...<2 lines>...\n        user_id=user_id,\n        ^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\seat_availability\\service.py\", line 62, in lock_seat\n    publish_event(\n    ~~~~~~~~~~~~~^\n        \"seat.locked\",\n        ^^^^^^^^^^^^^^\n    ...<5 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 20, in publish_event\n    asyncio.run(event_bus.publish(event_type, payload))\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 191, in run\n    raise RuntimeError(\n        \"asyncio.run() cannot be called from a running event loop\")\nRuntimeError: asyncio.run() cannot be called from a running event loop"}
{"timestamp": "2025-12-28T16:06:26.879820+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\ud83c\udfab Order handler received reservation.created: {'reservation_id': 11, 'user_id': 19, 'showtime_id': 12, 'seat_code': 'R5-8'}", "module": "handlers", "function": "on_reservation_created", "line": 21, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.880121+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "Creating order for reservation 11", "module": "handlers", "function": "on_reservation_created", "line": 33, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.882087+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.883248+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO orders (user_id, pricing_snapshot, final_amount, is_completed, reservation_id) VALUES (%(user_id)s, %(pricing_snapshot)s::JSON, %(final_amount)s, %(is_completed)s, %(reservation_id)s) RETURNING orders.id, orders.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.883467+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00042s] {'user_id': 19, 'pricing_snapshot': '{}', 'final_amount': 0, 'is_completed': False, 'reservation_id': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.885828+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.890037+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.891515+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.891905+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'pk_1': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.893863+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: order.created with payload: {'order_id': 11, 'reservation_id': 11, 'user_id': 19, 'showtime_id': 12, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.896845+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.contexts.order.handlers", "message": "Failed to create order from reservation: asyncio.run() cannot be called from a running event loop", "module": "handlers", "function": "on_reservation_created", "line": 43, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\order\\handlers.py\", line 34, in on_reservation_created\n    create_order_from_event(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        db,\n        ^^^\n    ...<3 lines>...\n        seat_code=seat_code,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\order\\service.py\", line 41, in create_order_from_event\n    publish_event(event[\"type\"], event[\"payload\"])\n    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 20, in publish_event\n    asyncio.run(event_bus.publish(event_type, payload))\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 191, in run\n    raise RuntimeError(\n        \"asyncio.run() cannot be called from a running event loop\")\nRuntimeError: asyncio.run() cannot be called from a running event loop"}
{"timestamp": "2025-12-28T16:06:26.899081+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.900303+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.901879+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.903282+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO audit_logs (actor_id, actor_type, action, target_id, target_type, payload, request_id, created_at) VALUES (%(actor_id)s, %(actor_type)s, %(action)s, %(target_id)s, %(target_type)s, %(payload)s::JSON, %(request_id)s, %(created_at)s) RETURNING audit_logs.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.903896+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00060s] {'actor_id': 19, 'actor_type': 'user', 'action': 'reservation.created', 'target_id': 11, 'target_type': 'reservation', 'payload': '{\"reservation_id\": 11, \"user_id\": 19, \"showtime_id\": 12, \"seat_code\": \"R5-8\"}', 'request_id': None, 'created_at': datetime.datetime(2025, 12, 28, 16, 6, 26, 902775, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.906319+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.910334+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.911627+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT audit_logs.id, audit_logs.actor_id, audit_logs.actor_type, audit_logs.action, audit_logs.target_id, audit_logs.target_type, audit_logs.payload, audit_logs.request_id, audit_logs.created_at \nFROM audit_logs \nWHERE audit_logs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.912004+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'pk_1': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.914071+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.915094+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.916564+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /reservations/ \u2192 200 (0.086s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.917394+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "1e652a68-c7c0-4243-b58b-1f4c1728efe9"}
{"timestamp": "2025-12-28T16:06:26.919237+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /orders/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "7a495309-8897-4921-875a-3b2508d2a4c6"}
{"timestamp": "2025-12-28T16:06:26.921608+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "7a495309-8897-4921-875a-3b2508d2a4c6"}
{"timestamp": "2025-12-28T16:06:26.922287+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7a495309-8897-4921-875a-3b2508d2a4c6"}
{"timestamp": "2025-12-28T16:06:26.922790+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2312s ago] {'pk_1': 19}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7a495309-8897-4921-875a-3b2508d2a4c6"}
{"timestamp": "2025-12-28T16:06:26.925973+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.user_id = %(user_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7a495309-8897-4921-875a-3b2508d2a4c6"}
{"timestamp": "2025-12-28T16:06:26.926664+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'user_id_1': 19}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7a495309-8897-4921-875a-3b2508d2a4c6"}
{"timestamp": "2025-12-28T16:06:26.929473+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /orders/ \u2192 200 (0.010s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "7a495309-8897-4921-875a-3b2508d2a4c6"}
{"timestamp": "2025-12-28T16:06:26.930589+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "7a495309-8897-4921-875a-3b2508d2a4c6"}
{"timestamp": "2025-12-28T16:06:26.932221+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /payments/order/11/initiate", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "446b5176-9819-41d6-bc1c-0dab7b8744d8"}
{"timestamp": "2025-12-28T16:06:26.934541+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "446b5176-9819-41d6-bc1c-0dab7b8744d8"}
{"timestamp": "2025-12-28T16:06:26.935153+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "446b5176-9819-41d6-bc1c-0dab7b8744d8"}
{"timestamp": "2025-12-28T16:06:26.935679+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.244s ago] {'pk_1': 19}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "446b5176-9819-41d6-bc1c-0dab7b8744d8"}
{"timestamp": "2025-12-28T16:06:26.939524+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO payment_attempts (order_id, amount_attempted, status, final_amount, failure_reason, provider_payment_id, created_at) VALUES (%(order_id)s, %(amount_attempted)s, %(status)s, %(final_amount)s, %(failure_reason)s, %(provider_payment_id)s, %(created_at)s) RETURNING payment_attempts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "446b5176-9819-41d6-bc1c-0dab7b8744d8"}
{"timestamp": "2025-12-28T16:06:26.939806+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'order_id': 11, 'amount_attempted': 10.0, 'status': 'PENDING', 'final_amount': 10.0, 'failure_reason': None, 'provider_payment_id': None, 'created_at': datetime.datetime(2025, 12, 28, 16, 6, 26, 939133, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "446b5176-9819-41d6-bc1c-0dab7b8744d8"}
{"timestamp": "2025-12-28T16:06:26.941931+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "446b5176-9819-41d6-bc1c-0dab7b8744d8"}
{"timestamp": "2025-12-28T16:06:26.946718+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "446b5176-9819-41d6-bc1c-0dab7b8744d8"}
{"timestamp": "2025-12-28T16:06:26.948350+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT payment_attempts.id, payment_attempts.order_id, payment_attempts.amount_attempted, payment_attempts.status, payment_attempts.final_amount, payment_attempts.failure_reason, payment_attempts.provider_payment_id, payment_attempts.created_at \nFROM payment_attempts \nWHERE payment_attempts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "446b5176-9819-41d6-bc1c-0dab7b8744d8"}
{"timestamp": "2025-12-28T16:06:26.948753+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00068s] {'pk_1': 4}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "446b5176-9819-41d6-bc1c-0dab7b8744d8"}
{"timestamp": "2025-12-28T16:06:26.952164+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: payment.pending with payload: {'payment_attempt_id': 4, 'order_id': 11, 'amount_attempted': 10.0, 'final_amount': 10.0}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "446b5176-9819-41d6-bc1c-0dab7b8744d8"}
{"timestamp": "2025-12-28T16:06:26.953957+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing payment.pending to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "446b5176-9819-41d6-bc1c-0dab7b8744d8"}
{"timestamp": "2025-12-28T16:06:26.954185+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: payment.pending", "module": "event_bus", "function": "publish", "line": 30, "request_id": "446b5176-9819-41d6-bc1c-0dab7b8744d8"}
{"timestamp": "2025-12-28T16:06:26.955793+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /payments/order/11/initiate \u2192 200 (0.024s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "446b5176-9819-41d6-bc1c-0dab7b8744d8"}
{"timestamp": "2025-12-28T16:06:26.957015+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "446b5176-9819-41d6-bc1c-0dab7b8744d8"}
{"timestamp": "2025-12-28T16:06:26.959529+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /payments/4/confirm", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "e76fa6eb-a6de-4e80-a8c8-baa5dd1668bb"}
{"timestamp": "2025-12-28T16:06:26.962882+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "e76fa6eb-a6de-4e80-a8c8-baa5dd1668bb"}
{"timestamp": "2025-12-28T16:06:26.963695+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e76fa6eb-a6de-4e80-a8c8-baa5dd1668bb"}
{"timestamp": "2025-12-28T16:06:26.964242+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2726s ago] {'pk_1': 19}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e76fa6eb-a6de-4e80-a8c8-baa5dd1668bb"}
{"timestamp": "2025-12-28T16:06:26.968394+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT payment_attempts.id AS payment_attempts_id, payment_attempts.order_id AS payment_attempts_order_id, payment_attempts.amount_attempted AS payment_attempts_amount_attempted, payment_attempts.status AS payment_attempts_status, payment_attempts.final_amount AS payment_attempts_final_amount, payment_attempts.failure_reason AS payment_attempts_failure_reason, payment_attempts.provider_payment_id AS payment_attempts_provider_payment_id, payment_attempts.created_at AS payment_attempts_created_at \nFROM payment_attempts \nWHERE payment_attempts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e76fa6eb-a6de-4e80-a8c8-baa5dd1668bb"}
{"timestamp": "2025-12-28T16:06:26.969130+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00062s] {'pk_1': 4}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e76fa6eb-a6de-4e80-a8c8-baa5dd1668bb"}
{"timestamp": "2025-12-28T16:06:26.972414+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id AS orders_id, orders.user_id AS orders_user_id, orders.pricing_snapshot AS orders_pricing_snapshot, orders.final_amount AS orders_final_amount, orders.is_completed AS orders_is_completed, orders.reservation_id AS orders_reservation_id, orders.created_at AS orders_created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e76fa6eb-a6de-4e80-a8c8-baa5dd1668bb"}
{"timestamp": "2025-12-28T16:06:26.973064+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00063s] {'pk_1': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e76fa6eb-a6de-4e80-a8c8-baa5dd1668bb"}
{"timestamp": "2025-12-28T16:06:26.976165+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "e76fa6eb-a6de-4e80-a8c8-baa5dd1668bb"}
{"timestamp": "2025-12-28T16:06:26.989483+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.middleware", "message": "\u2717 POST /payments/4/confirm \u2192 FAILED (0.018s)", "module": "middleware", "function": "dispatch", "line": 83, "request_id": "e76fa6eb-a6de-4e80-a8c8-baa5dd1668bb", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\middleware.py\", line 57, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 124, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 110, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 390, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\payment\\router.py\", line 50, in confirm_payment_route\n    return mark_payment_succeeded(\n        db=db,\n        payment_attempt_id=payment_attempt_id,\n        provider_payment_id=provider_payment_id\n    )\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\payment\\service.py\", line 66, in mark_payment_succeeded\n    raise ValidationError(\"Final amount not equal to order amount\")\napp.core.errors.ValidationError: Final amount not equal to order amount"}
{"timestamp": "2025-12-28T16:08:18.680331+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T16:08:20.683016+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T16:08:20.683384+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T16:08:20.683641+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.683837+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.684028+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.684226+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.684435+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.684621+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.684772+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.684919+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.685093+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.685273+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.685424+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.685600+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.685782+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.685954+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.686129+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.686320+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.686583+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.686754+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.687031+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.687252+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.687411+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.687614+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.687892+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.688123+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.688375+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.688611+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.688871+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.689180+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.689428+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.689610+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.689749+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.689944+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.690185+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.690365+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.690531+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.690767+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.690905+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.691058+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.691222+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.691358+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.691476+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.691589+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.691719+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.691834+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.691972+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.692122+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/order/{order_id}/initiate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.692382+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/{payment_attempt_id}/confirm", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.692925+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.693296+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.693502+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.693649+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.693901+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.694197+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.694467+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.694708+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.694910+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.695080+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.695235+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.695377+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.695538+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:08:20.695694+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T16:08:20.695904+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T16:08:38.455486+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.520371+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.520732+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.523185+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.523482+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.525641+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.526020+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.528636+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.531610+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.532191+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00077s] {'email_1': 'test_1766938116.39545@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.760230+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.760637+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'email': 'test_1766938116.39545@example.com', 'hashed_password': '$2b$12$6tj9wcwZQZyPc4Kx/UyezuxKTUUhN2DHoHx1oy3neLDzgr9W6ilje', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.763614+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.768828+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.770146+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.770590+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'pk_1': 20}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.772926+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_registered with payload: {'user_id': 20, 'email': 'test_1766938116.39545@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.774423+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_registered to 1 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.804852+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.806349+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.806793+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00058s] {'user_id_1': 20, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.811568+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.812194+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'user_id': 20, 'name': None, 'email': 'test_1766938116.39545@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.815487+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.820713+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.821809+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.822312+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00061s] {'pk_1': 20}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.825262+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: user.profile_created with payload: {'profile_id': 20, 'user_id': 20, 'email': 'test_1766938116.39545@example.com', 'name': None}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.826020+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.827258+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_user_registered completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.828761+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:38.829188+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2979s ago] {'email_1': 'test_1766938116.39545@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:39.042778+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 20, 'email': 'test_1766938116.39545@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:39.044169+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:39.044421+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:39.045795+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.590s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:39.046786+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "be5262b4-1c6f-4575-b82f-2ba0810b5b90"}
{"timestamp": "2025-12-28T16:08:39.049019+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "c1f3184f-d7c9-4d62-aaa4-45f93a48d47b"}
{"timestamp": "2025-12-28T16:08:39.054271+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c1f3184f-d7c9-4d62-aaa4-45f93a48d47b"}
{"timestamp": "2025-12-28T16:08:39.055014+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c1f3184f-d7c9-4d62-aaa4-45f93a48d47b"}
{"timestamp": "2025-12-28T16:08:39.055615+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.5242s ago] {'email_1': 'test_1766938116.39545@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c1f3184f-d7c9-4d62-aaa4-45f93a48d47b"}
{"timestamp": "2025-12-28T16:08:39.262267+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 20, 'email': 'test_1766938116.39545@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "c1f3184f-d7c9-4d62-aaa4-45f93a48d47b"}
{"timestamp": "2025-12-28T16:08:39.263662+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "c1f3184f-d7c9-4d62-aaa4-45f93a48d47b"}
{"timestamp": "2025-12-28T16:08:39.263884+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "c1f3184f-d7c9-4d62-aaa4-45f93a48d47b"}
{"timestamp": "2025-12-28T16:08:39.265065+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.216s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "c1f3184f-d7c9-4d62-aaa4-45f93a48d47b"}
{"timestamp": "2025-12-28T16:08:39.266003+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "c1f3184f-d7c9-4d62-aaa4-45f93a48d47b"}
{"timestamp": "2025-12-28T16:08:39.267543+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "9c42ad53-d26f-4f42-9516-aa24706637a7"}
{"timestamp": "2025-12-28T16:08:39.270331+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "9c42ad53-d26f-4f42-9516-aa24706637a7"}
{"timestamp": "2025-12-28T16:08:39.271542+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9c42ad53-d26f-4f42-9516-aa24706637a7"}
{"timestamp": "2025-12-28T16:08:39.271950+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00062s] {'pk_1': 20}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9c42ad53-d26f-4f42-9516-aa24706637a7"}
{"timestamp": "2025-12-28T16:08:39.275049+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9c42ad53-d26f-4f42-9516-aa24706637a7"}
{"timestamp": "2025-12-28T16:08:39.275404+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.4693s ago] {'user_id_1': 20, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "9c42ad53-d26f-4f42-9516-aa24706637a7"}
{"timestamp": "2025-12-28T16:08:39.278182+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.011s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "9c42ad53-d26f-4f42-9516-aa24706637a7"}
{"timestamp": "2025-12-28T16:08:39.279058+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "9c42ad53-d26f-4f42-9516-aa24706637a7"}
{"timestamp": "2025-12-28T16:08:39.281784+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "2c099304-e361-4365-b4e1-e0de56ade1ca"}
{"timestamp": "2025-12-28T16:08:39.285551+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "2c099304-e361-4365-b4e1-e0de56ade1ca"}
{"timestamp": "2025-12-28T16:08:39.287367+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2c099304-e361-4365-b4e1-e0de56ade1ca"}
{"timestamp": "2025-12-28T16:08:39.287779+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00058s] {'title_1': 'The Matrix Reloaded 1766938119.27991'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2c099304-e361-4365-b4e1-e0de56ade1ca"}
{"timestamp": "2025-12-28T16:08:39.293446+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO movies (title, description, duration_minutes, release_date, poster_url, trailer_url, is_active, age_rating) VALUES (%(title)s, %(description)s, %(duration_minutes)s, %(release_date)s, %(poster_url)s, %(trailer_url)s, %(is_active)s, %(age_rating)s) RETURNING movies.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2c099304-e361-4365-b4e1-e0de56ade1ca"}
{"timestamp": "2025-12-28T16:08:39.294245+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00091s] {'title': 'The Matrix Reloaded 1766938119.27991', 'description': 'Test movie: The Matrix Reloaded 1766938119.27991', 'duration_minutes': 120, 'release_date': None, 'poster_url': None, 'trailer_url': None, 'is_active': True, 'age_rating': 'PG_13'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2c099304-e361-4365-b4e1-e0de56ade1ca"}
{"timestamp": "2025-12-28T16:08:39.296513+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "2c099304-e361-4365-b4e1-e0de56ade1ca"}
{"timestamp": "2025-12-28T16:08:39.302040+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "2c099304-e361-4365-b4e1-e0de56ade1ca"}
{"timestamp": "2025-12-28T16:08:39.303496+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2c099304-e361-4365-b4e1-e0de56ade1ca"}
{"timestamp": "2025-12-28T16:08:39.303925+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00060s] {'pk_1': 17}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "2c099304-e361-4365-b4e1-e0de56ade1ca"}
{"timestamp": "2025-12-28T16:08:39.306889+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: movie.created with payload: {'movie_id': 17}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "2c099304-e361-4365-b4e1-e0de56ade1ca"}
{"timestamp": "2025-12-28T16:08:39.308824+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing movie.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "2c099304-e361-4365-b4e1-e0de56ade1ca"}
{"timestamp": "2025-12-28T16:08:39.309005+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: movie.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "2c099304-e361-4365-b4e1-e0de56ade1ca"}
{"timestamp": "2025-12-28T16:08:39.310254+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 200 (0.029s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "2c099304-e361-4365-b4e1-e0de56ade1ca"}
{"timestamp": "2025-12-28T16:08:39.311177+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "2c099304-e361-4365-b4e1-e0de56ade1ca"}
{"timestamp": "2025-12-28T16:08:39.313139+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/layouts", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "bf3f1559-c67c-424e-a6fc-9254df43baf6"}
{"timestamp": "2025-12-28T16:08:39.315915+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "bf3f1559-c67c-424e-a6fc-9254df43baf6"}
{"timestamp": "2025-12-28T16:08:39.317220+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.name = %(name_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bf3f1559-c67c-424e-a6fc-9254df43baf6"}
{"timestamp": "2025-12-28T16:08:39.317579+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'name_1': 'Standard Layout 1766938119.311268'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bf3f1559-c67c-424e-a6fc-9254df43baf6"}
{"timestamp": "2025-12-28T16:08:39.320874+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_layouts (name, rows, seats_per_row, grid) VALUES (%(name)s, %(rows)s, %(seats_per_row)s, %(grid)s::JSON) RETURNING seat_layouts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bf3f1559-c67c-424e-a6fc-9254df43baf6"}
{"timestamp": "2025-12-28T16:08:39.321571+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00065s] {'name': 'Standard Layout 1766938119.311268', 'rows': 10, 'seats_per_row': 15, 'grid': 'null'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bf3f1559-c67c-424e-a6fc-9254df43baf6"}
{"timestamp": "2025-12-28T16:08:39.323693+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "bf3f1559-c67c-424e-a6fc-9254df43baf6"}
{"timestamp": "2025-12-28T16:08:39.329264+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "bf3f1559-c67c-424e-a6fc-9254df43baf6"}
{"timestamp": "2025-12-28T16:08:39.330394+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bf3f1559-c67c-424e-a6fc-9254df43baf6"}
{"timestamp": "2025-12-28T16:08:39.330709+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'pk_1': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bf3f1559-c67c-424e-a6fc-9254df43baf6"}
{"timestamp": "2025-12-28T16:08:39.333135+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.layout_created with payload: {'layout_id': 16}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "bf3f1559-c67c-424e-a6fc-9254df43baf6"}
{"timestamp": "2025-12-28T16:08:39.334309+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.layout_created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "bf3f1559-c67c-424e-a6fc-9254df43baf6"}
{"timestamp": "2025-12-28T16:08:39.334487+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.layout_created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "bf3f1559-c67c-424e-a6fc-9254df43baf6"}
{"timestamp": "2025-12-28T16:08:39.336092+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/layouts \u2192 201 (0.023s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "bf3f1559-c67c-424e-a6fc-9254df43baf6"}
{"timestamp": "2025-12-28T16:08:39.337344+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "bf3f1559-c67c-424e-a6fc-9254df43baf6"}
{"timestamp": "2025-12-28T16:08:39.343738+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/screens", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "04eca1a0-6f53-4377-836a-47f640c348ff"}
{"timestamp": "2025-12-28T16:08:39.346655+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "04eca1a0-6f53-4377-836a-47f640c348ff"}
{"timestamp": "2025-12-28T16:08:39.348002+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.name = %(name_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "04eca1a0-6f53-4377-836a-47f640c348ff"}
{"timestamp": "2025-12-28T16:08:39.348632+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00064s] {'name_1': 'Screen 1 1766938119.337034', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "04eca1a0-6f53-4377-836a-47f640c348ff"}
{"timestamp": "2025-12-28T16:08:39.352947+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id AS seat_layouts_id, seat_layouts.name AS seat_layouts_name, seat_layouts.rows AS seat_layouts_rows, seat_layouts.seats_per_row AS seat_layouts_seats_per_row, seat_layouts.grid AS seat_layouts_grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "04eca1a0-6f53-4377-836a-47f640c348ff"}
{"timestamp": "2025-12-28T16:08:39.353617+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00099s] {'id_1': 16, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "04eca1a0-6f53-4377-836a-47f640c348ff"}
{"timestamp": "2025-12-28T16:08:39.356504+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO screens (name, capacity, seat_layout_id) VALUES (%(name)s, %(capacity)s, %(seat_layout_id)s) RETURNING screens.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "04eca1a0-6f53-4377-836a-47f640c348ff"}
{"timestamp": "2025-12-28T16:08:39.356983+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00060s] {'name': 'Screen 1 1766938119.337034', 'capacity': 150, 'seat_layout_id': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "04eca1a0-6f53-4377-836a-47f640c348ff"}
{"timestamp": "2025-12-28T16:08:39.359078+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "04eca1a0-6f53-4377-836a-47f640c348ff"}
{"timestamp": "2025-12-28T16:08:39.363684+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "04eca1a0-6f53-4377-836a-47f640c348ff"}
{"timestamp": "2025-12-28T16:08:39.364643+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id, screens.name, screens.capacity, screens.seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "04eca1a0-6f53-4377-836a-47f640c348ff"}
{"timestamp": "2025-12-28T16:08:39.365199+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'pk_1': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "04eca1a0-6f53-4377-836a-47f640c348ff"}
{"timestamp": "2025-12-28T16:08:39.367739+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.created with payload: {'screen_id': 16}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "04eca1a0-6f53-4377-836a-47f640c348ff"}
{"timestamp": "2025-12-28T16:08:39.369318+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "04eca1a0-6f53-4377-836a-47f640c348ff"}
{"timestamp": "2025-12-28T16:08:39.369492+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "04eca1a0-6f53-4377-836a-47f640c348ff"}
{"timestamp": "2025-12-28T16:08:39.370840+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/screens \u2192 201 (0.027s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "04eca1a0-6f53-4377-836a-47f640c348ff"}
{"timestamp": "2025-12-28T16:08:39.371829+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "04eca1a0-6f53-4377-836a-47f640c348ff"}
{"timestamp": "2025-12-28T16:08:39.373736+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /showtimes/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.376095+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.377425+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.377755+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00058s] {'pk_1': 17}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.380453+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.380797+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'pk_1': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.384825+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.screen_id = %(screen_id_1)s AND showtimes.start_time < %(start_time_1)s AND showtimes.end_time > %(end_time_1)s AND showtimes.is_active = true", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.385373+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00107s] {'screen_id_1': 16, 'start_time_1': datetime.datetime(2025, 12, 29, 21, 0), 'end_time_1': datetime.datetime(2025, 12, 29, 19, 0)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.389174+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO showtimes (start_time, end_time, is_active, format, movie_id, screen_id) VALUES (%(start_time)s, %(end_time)s, %(is_active)s, %(format)s, %(movie_id)s, %(screen_id)s) RETURNING showtimes.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.389721+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00076s] {'start_time': datetime.datetime(2025, 12, 29, 19, 0), 'end_time': datetime.datetime(2025, 12, 29, 21, 0), 'is_active': True, 'format': 'TWO_D', 'movie_id': 17, 'screen_id': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.392091+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.396266+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.397313+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.397602+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'pk_1': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.402673+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.403384+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00077s] {'pk_1': 17}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.406497+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.406958+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00061s] {'pk_1': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.408646+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: showtime.created with payload: {'showtime_id': 13}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.410157+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing showtime.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.410362+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: showtime.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.411949+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /showtimes/ \u2192 201 (0.038s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.412897+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "6c7ffcc5-01ca-4bc7-a662-7532a324f06d"}
{"timestamp": "2025-12-28T16:08:39.414606+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /seatavailability/grid/13", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "6d9b1c06-55a1-4152-8501-4369f3be5094"}
{"timestamp": "2025-12-28T16:08:39.418922+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "6d9b1c06-55a1-4152-8501-4369f3be5094"}
{"timestamp": "2025-12-28T16:08:39.420911+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6d9b1c06-55a1-4152-8501-4369f3be5094"}
{"timestamp": "2025-12-28T16:08:39.421616+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00071s] {'showtime_id_1': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6d9b1c06-55a1-4152-8501-4369f3be5094"}
{"timestamp": "2025-12-28T16:08:39.426502+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /seatavailability/grid/13 \u2192 200 (0.012s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "6d9b1c06-55a1-4152-8501-4369f3be5094"}
{"timestamp": "2025-12-28T16:08:39.427750+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "6d9b1c06-55a1-4152-8501-4369f3be5094"}
{"timestamp": "2025-12-28T16:08:39.429613+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /reservations/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.432838+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.433813+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.434213+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.163s ago] {'pk_1': 20}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.437733+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO reservations (user_id, showtime_id, seat_code, status, created_at, expires_at) VALUES (%(user_id)s, %(showtime_id)s, %(seat_code)s, %(status)s, %(created_at)s, %(expires_at)s) RETURNING reservations.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.438108+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'user_id': 20, 'showtime_id': 13, 'seat_code': 'R5-8', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 28, 16, 8, 39, 437327, tzinfo=datetime.timezone.utc), 'expires_at': datetime.datetime(2025, 12, 28, 16, 18, 39, 436459, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.441011+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.445699+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.446896+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT reservations.id, reservations.user_id, reservations.showtime_id, reservations.seat_code, reservations.status, reservations.created_at, reservations.expires_at \nFROM reservations \nWHERE reservations.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.447403+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'pk_1': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.450209+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: reservation.created with payload: {'reservation_id': 12, 'user_id': 20, 'showtime_id': 13, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.451253+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing reservation.created to 3 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.453823+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.455129+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s AND seat_locks.seat_code = %(seat_code_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.455493+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'showtime_id_1': 13, 'seat_code_1': 'R5-8', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.458911+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_locks (seat_code, showtime_id, status, locked_by_user_id, lock_expires_at) VALUES (%(seat_code)s, %(showtime_id)s, %(status)s, %(locked_by_user_id)s, %(lock_expires_at)s) RETURNING seat_locks.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.459269+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'seat_code': 'R5-8', 'showtime_id': 13, 'status': 'AVAILABLE', 'locked_by_user_id': None, 'lock_expires_at': None}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.462411+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE seat_locks SET status=%(status)s, locked_by_user_id=%(locked_by_user_id)s, lock_expires_at=%(lock_expires_at)s WHERE seat_locks.id = %(seat_locks_id)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.463218+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'status': 'LOCKED', 'locked_by_user_id': 20, 'lock_expires_at': datetime.datetime(2025, 12, 28, 16, 18, 39, 461199, tzinfo=datetime.timezone.utc), 'seat_locks_id': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.465861+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.470802+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.471886+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id, seat_locks.seat_code, seat_locks.showtime_id, seat_locks.status, seat_locks.locked_by_user_id, seat_locks.lock_expires_at \nFROM seat_locks \nWHERE seat_locks.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.472403+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'pk_1': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.475166+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: seat.locked with payload: {'showtime_id': 13, 'seat_code': 'R5-8', 'user_id': 20, 'expires_at': '2025-12-28T16:18:39.461199+00:00'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.475818+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.477005+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.477457+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\ud83c\udfab Order handler received reservation.created: {'reservation_id': 12, 'user_id': 20, 'showtime_id': 13, 'seat_code': 'R5-8'}", "module": "handlers", "function": "on_reservation_created", "line": 21, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.477792+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "Creating order for reservation 12", "module": "handlers", "function": "on_reservation_created", "line": 33, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.479653+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.480954+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO orders (user_id, pricing_snapshot, final_amount, is_completed, reservation_id) VALUES (%(user_id)s, %(pricing_snapshot)s::JSON, %(final_amount)s, %(is_completed)s, %(reservation_id)s) RETURNING orders.id, orders.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.481503+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'user_id': 20, 'pricing_snapshot': '{}', 'final_amount': 0, 'is_completed': False, 'reservation_id': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.484645+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.488790+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.489959+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.490362+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'pk_1': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.492541+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: order.created with payload: {'order_id': 12, 'reservation_id': 12, 'user_id': 20, 'showtime_id': 13, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.492850+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\u2713 Order created successfully for reservation 12", "module": "handlers", "function": "on_reservation_created", "line": 41, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.493113+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.494308+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.496601+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.498017+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO audit_logs (actor_id, actor_type, action, target_id, target_type, payload, request_id, created_at) VALUES (%(actor_id)s, %(actor_type)s, %(action)s, %(target_id)s, %(target_type)s, %(payload)s::JSON, %(request_id)s, %(created_at)s) RETURNING audit_logs.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.498404+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00062s] {'actor_id': 20, 'actor_type': 'user', 'action': 'reservation.created', 'target_id': 12, 'target_type': 'reservation', 'payload': '{\"reservation_id\": 12, \"user_id\": 20, \"showtime_id\": 13, \"seat_code\": \"R5-8\"}', 'request_id': None, 'created_at': datetime.datetime(2025, 12, 28, 16, 8, 39, 497473, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.500850+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.504799+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.506025+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT audit_logs.id, audit_logs.actor_id, audit_logs.actor_type, audit_logs.action, audit_logs.target_id, audit_logs.target_type, audit_logs.payload, audit_logs.request_id, audit_logs.created_at \nFROM audit_logs \nWHERE audit_logs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.506342+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'pk_1': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.508458+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.509612+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.511247+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /reservations/ \u2192 200 (0.082s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.512368+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "a0c5d5f0-0f87-4c7f-b24a-3669ba4ff1fd"}
{"timestamp": "2025-12-28T16:08:39.513910+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /orders/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "f2da50c0-aeb9-47db-af36-32a9e9a62706"}
{"timestamp": "2025-12-28T16:08:39.516824+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f2da50c0-aeb9-47db-af36-32a9e9a62706"}
{"timestamp": "2025-12-28T16:08:39.517658+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f2da50c0-aeb9-47db-af36-32a9e9a62706"}
{"timestamp": "2025-12-28T16:08:39.517957+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2467s ago] {'pk_1': 20}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f2da50c0-aeb9-47db-af36-32a9e9a62706"}
{"timestamp": "2025-12-28T16:08:39.520976+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.user_id = %(user_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f2da50c0-aeb9-47db-af36-32a9e9a62706"}
{"timestamp": "2025-12-28T16:08:39.521240+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'user_id_1': 20}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f2da50c0-aeb9-47db-af36-32a9e9a62706"}
{"timestamp": "2025-12-28T16:08:39.523442+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /orders/ \u2192 200 (0.010s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "f2da50c0-aeb9-47db-af36-32a9e9a62706"}
{"timestamp": "2025-12-28T16:08:39.524431+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "f2da50c0-aeb9-47db-af36-32a9e9a62706"}
{"timestamp": "2025-12-28T16:08:39.526475+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /payments/order/12/initiate", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "bbd1fdd1-aec7-42c6-8ab9-642b74c765ec"}
{"timestamp": "2025-12-28T16:08:39.528966+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "bbd1fdd1-aec7-42c6-8ab9-642b74c765ec"}
{"timestamp": "2025-12-28T16:08:39.529637+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bbd1fdd1-aec7-42c6-8ab9-642b74c765ec"}
{"timestamp": "2025-12-28T16:08:39.530111+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2587s ago] {'pk_1': 20}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bbd1fdd1-aec7-42c6-8ab9-642b74c765ec"}
{"timestamp": "2025-12-28T16:08:39.533414+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO payment_attempts (order_id, amount_attempted, status, final_amount, failure_reason, provider_payment_id, created_at) VALUES (%(order_id)s, %(amount_attempted)s, %(status)s, %(final_amount)s, %(failure_reason)s, %(provider_payment_id)s, %(created_at)s) RETURNING payment_attempts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bbd1fdd1-aec7-42c6-8ab9-642b74c765ec"}
{"timestamp": "2025-12-28T16:08:39.533749+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'order_id': 12, 'amount_attempted': 10.0, 'status': 'PENDING', 'final_amount': 10.0, 'failure_reason': None, 'provider_payment_id': None, 'created_at': datetime.datetime(2025, 12, 28, 16, 8, 39, 533030, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bbd1fdd1-aec7-42c6-8ab9-642b74c765ec"}
{"timestamp": "2025-12-28T16:08:39.536225+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "bbd1fdd1-aec7-42c6-8ab9-642b74c765ec"}
{"timestamp": "2025-12-28T16:08:39.540512+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "bbd1fdd1-aec7-42c6-8ab9-642b74c765ec"}
{"timestamp": "2025-12-28T16:08:39.542048+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT payment_attempts.id, payment_attempts.order_id, payment_attempts.amount_attempted, payment_attempts.status, payment_attempts.final_amount, payment_attempts.failure_reason, payment_attempts.provider_payment_id, payment_attempts.created_at \nFROM payment_attempts \nWHERE payment_attempts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bbd1fdd1-aec7-42c6-8ab9-642b74c765ec"}
{"timestamp": "2025-12-28T16:08:39.542495+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00060s] {'pk_1': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bbd1fdd1-aec7-42c6-8ab9-642b74c765ec"}
{"timestamp": "2025-12-28T16:08:39.544928+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: payment.pending with payload: {'payment_attempt_id': 5, 'order_id': 12, 'amount_attempted': 10.0, 'final_amount': 10.0}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "bbd1fdd1-aec7-42c6-8ab9-642b74c765ec"}
{"timestamp": "2025-12-28T16:08:39.546136+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing payment.pending to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "bbd1fdd1-aec7-42c6-8ab9-642b74c765ec"}
{"timestamp": "2025-12-28T16:08:39.546370+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: payment.pending", "module": "event_bus", "function": "publish", "line": 30, "request_id": "bbd1fdd1-aec7-42c6-8ab9-642b74c765ec"}
{"timestamp": "2025-12-28T16:08:39.547598+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /payments/order/12/initiate \u2192 200 (0.021s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "bbd1fdd1-aec7-42c6-8ab9-642b74c765ec"}
{"timestamp": "2025-12-28T16:08:39.548475+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "bbd1fdd1-aec7-42c6-8ab9-642b74c765ec"}
{"timestamp": "2025-12-28T16:08:39.550283+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /payments/5/confirm", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "f6a8eacb-f289-41cf-8393-a9c91099e819"}
{"timestamp": "2025-12-28T16:08:39.553116+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f6a8eacb-f289-41cf-8393-a9c91099e819"}
{"timestamp": "2025-12-28T16:08:39.553865+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f6a8eacb-f289-41cf-8393-a9c91099e819"}
{"timestamp": "2025-12-28T16:08:39.554283+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.283s ago] {'pk_1': 20}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f6a8eacb-f289-41cf-8393-a9c91099e819"}
{"timestamp": "2025-12-28T16:08:39.558314+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT payment_attempts.id AS payment_attempts_id, payment_attempts.order_id AS payment_attempts_order_id, payment_attempts.amount_attempted AS payment_attempts_amount_attempted, payment_attempts.status AS payment_attempts_status, payment_attempts.final_amount AS payment_attempts_final_amount, payment_attempts.failure_reason AS payment_attempts_failure_reason, payment_attempts.provider_payment_id AS payment_attempts_provider_payment_id, payment_attempts.created_at AS payment_attempts_created_at \nFROM payment_attempts \nWHERE payment_attempts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f6a8eacb-f289-41cf-8393-a9c91099e819"}
{"timestamp": "2025-12-28T16:08:39.558860+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00061s] {'pk_1': 5}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f6a8eacb-f289-41cf-8393-a9c91099e819"}
{"timestamp": "2025-12-28T16:08:39.561868+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id AS orders_id, orders.user_id AS orders_user_id, orders.pricing_snapshot AS orders_pricing_snapshot, orders.final_amount AS orders_final_amount, orders.is_completed AS orders_is_completed, orders.reservation_id AS orders_reservation_id, orders.created_at AS orders_created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f6a8eacb-f289-41cf-8393-a9c91099e819"}
{"timestamp": "2025-12-28T16:08:39.562162+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'pk_1': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f6a8eacb-f289-41cf-8393-a9c91099e819"}
{"timestamp": "2025-12-28T16:08:39.564079+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "f6a8eacb-f289-41cf-8393-a9c91099e819"}
{"timestamp": "2025-12-28T16:08:39.575364+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.middleware", "message": "\u2717 POST /payments/5/confirm \u2192 FAILED (0.016s)", "module": "middleware", "function": "dispatch", "line": 83, "request_id": "f6a8eacb-f289-41cf-8393-a9c91099e819", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\middleware.py\", line 57, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 124, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 110, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 390, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\payment\\router.py\", line 50, in confirm_payment_route\n    return mark_payment_succeeded(\n        db=db,\n        payment_attempt_id=payment_attempt_id,\n        provider_payment_id=provider_payment_id\n    )\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\payment\\service.py\", line 66, in mark_payment_succeeded\n    raise ValidationError(\"Final amount not equal to order amount\")\napp.core.errors.ValidationError: Final amount not equal to order amount"}
{"timestamp": "2025-12-28T16:11:37.968836+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T16:11:40.363147+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T16:11:40.363400+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T16:11:40.363601+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.363883+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.364161+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.364399+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.364634+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.364883+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.365136+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.365290+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.365421+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.365609+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.365784+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.365940+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.366081+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.366235+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.366378+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.366503+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.366653+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.366898+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.367229+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.367458+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.367687+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.368128+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.368438+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.368709+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.368984+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.369259+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.369462+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.369606+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.369766+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.369979+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.370173+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.370335+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.370501+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.370664+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.370812+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.370949+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.371124+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.371310+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.371643+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.371941+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.372284+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.372637+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.373050+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.373475+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.373837+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.374275+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/order/{order_id}/initiate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.374672+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/{payment_attempt_id}/confirm", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.374971+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.375225+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.375519+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.375889+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.376269+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.376613+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.377021+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.377372+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.377738+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.378118+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.378445+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.378868+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.379247+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:11:40.379455+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T16:11:40.379637+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T16:11:53.365394+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.424389+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.424737+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.426892+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.427229+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.429134+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.429490+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.432040+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.434898+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.435420+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00062s] {'email_1': 'test_1766938311.339521@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.663696+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.664432+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00100s] {'email': 'test_1766938311.339521@example.com', 'hashed_password': '$2b$12$m5Rjfaea2WDDCPkFU7fl3O3oQliQWn1/5HfqJks3N1AWqZXOQNBue', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.667213+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.673879+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.675193+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.675586+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'pk_1': 21}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.677840+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_registered with payload: {'user_id': 21, 'email': 'test_1766938311.339521@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.679534+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_registered to 1 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.716209+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.718127+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.718625+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00089s] {'user_id_1': 21, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.723280+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.723785+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'user_id': 21, 'name': None, 'email': 'test_1766938311.339521@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.726465+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.730876+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.732249+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.732786+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00064s] {'pk_1': 21}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.735186+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: user.profile_created with payload: {'profile_id': 21, 'user_id': 21, 'email': 'test_1766938311.339521@example.com', 'name': None}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.735826+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.737387+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_user_registered completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.738751+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.739113+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.3045s ago] {'email_1': 'test_1766938311.339521@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.950147+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 21, 'email': 'test_1766938311.339521@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.951675+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.952048+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.953601+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.588s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.954717+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "7f71ec8f-1bf0-4a7c-9c2f-d34f485277a5"}
{"timestamp": "2025-12-28T16:11:53.957052+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "88a49a4a-2312-4173-8a10-e492bac54af3"}
{"timestamp": "2025-12-28T16:11:53.962421+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "88a49a4a-2312-4173-8a10-e492bac54af3"}
{"timestamp": "2025-12-28T16:11:53.963142+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88a49a4a-2312-4173-8a10-e492bac54af3"}
{"timestamp": "2025-12-28T16:11:53.963571+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.5289s ago] {'email_1': 'test_1766938311.339521@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "88a49a4a-2312-4173-8a10-e492bac54af3"}
{"timestamp": "2025-12-28T16:11:54.174839+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 21, 'email': 'test_1766938311.339521@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "88a49a4a-2312-4173-8a10-e492bac54af3"}
{"timestamp": "2025-12-28T16:11:54.176104+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "88a49a4a-2312-4173-8a10-e492bac54af3"}
{"timestamp": "2025-12-28T16:11:54.176281+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "88a49a4a-2312-4173-8a10-e492bac54af3"}
{"timestamp": "2025-12-28T16:11:54.177291+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.220s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "88a49a4a-2312-4173-8a10-e492bac54af3"}
{"timestamp": "2025-12-28T16:11:54.178125+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "88a49a4a-2312-4173-8a10-e492bac54af3"}
{"timestamp": "2025-12-28T16:11:54.179548+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "421cffda-0c03-4aa7-8461-a4acda6efef9"}
{"timestamp": "2025-12-28T16:11:54.182723+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "421cffda-0c03-4aa7-8461-a4acda6efef9"}
{"timestamp": "2025-12-28T16:11:54.183980+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "421cffda-0c03-4aa7-8461-a4acda6efef9"}
{"timestamp": "2025-12-28T16:11:54.184281+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'pk_1': 21}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "421cffda-0c03-4aa7-8461-a4acda6efef9"}
{"timestamp": "2025-12-28T16:11:54.187426+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "421cffda-0c03-4aa7-8461-a4acda6efef9"}
{"timestamp": "2025-12-28T16:11:54.188000+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.4702s ago] {'user_id_1': 21, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "421cffda-0c03-4aa7-8461-a4acda6efef9"}
{"timestamp": "2025-12-28T16:11:54.191030+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.012s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "421cffda-0c03-4aa7-8461-a4acda6efef9"}
{"timestamp": "2025-12-28T16:11:54.191967+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "421cffda-0c03-4aa7-8461-a4acda6efef9"}
{"timestamp": "2025-12-28T16:11:54.194851+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "84001aa6-0918-427d-a03a-fce0a3534173"}
{"timestamp": "2025-12-28T16:11:54.197856+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "84001aa6-0918-427d-a03a-fce0a3534173"}
{"timestamp": "2025-12-28T16:11:54.199439+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "84001aa6-0918-427d-a03a-fce0a3534173"}
{"timestamp": "2025-12-28T16:11:54.199893+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'title_1': 'The Matrix Reloaded 1766938314.19246'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "84001aa6-0918-427d-a03a-fce0a3534173"}
{"timestamp": "2025-12-28T16:11:54.203858+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO movies (title, description, duration_minutes, release_date, poster_url, trailer_url, is_active, age_rating) VALUES (%(title)s, %(description)s, %(duration_minutes)s, %(release_date)s, %(poster_url)s, %(trailer_url)s, %(is_active)s, %(age_rating)s) RETURNING movies.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "84001aa6-0918-427d-a03a-fce0a3534173"}
{"timestamp": "2025-12-28T16:11:54.204344+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'title': 'The Matrix Reloaded 1766938314.19246', 'description': 'Test movie: The Matrix Reloaded 1766938314.19246', 'duration_minutes': 120, 'release_date': None, 'poster_url': None, 'trailer_url': None, 'is_active': True, 'age_rating': 'PG_13'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "84001aa6-0918-427d-a03a-fce0a3534173"}
{"timestamp": "2025-12-28T16:11:54.206249+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "84001aa6-0918-427d-a03a-fce0a3534173"}
{"timestamp": "2025-12-28T16:11:54.210658+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "84001aa6-0918-427d-a03a-fce0a3534173"}
{"timestamp": "2025-12-28T16:11:54.211767+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "84001aa6-0918-427d-a03a-fce0a3534173"}
{"timestamp": "2025-12-28T16:11:54.212092+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'pk_1': 18}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "84001aa6-0918-427d-a03a-fce0a3534173"}
{"timestamp": "2025-12-28T16:11:54.214466+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: movie.created with payload: {'movie_id': 18}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "84001aa6-0918-427d-a03a-fce0a3534173"}
{"timestamp": "2025-12-28T16:11:54.215652+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing movie.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "84001aa6-0918-427d-a03a-fce0a3534173"}
{"timestamp": "2025-12-28T16:11:54.215813+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: movie.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "84001aa6-0918-427d-a03a-fce0a3534173"}
{"timestamp": "2025-12-28T16:11:54.217016+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 200 (0.022s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "84001aa6-0918-427d-a03a-fce0a3534173"}
{"timestamp": "2025-12-28T16:11:54.218019+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "84001aa6-0918-427d-a03a-fce0a3534173"}
{"timestamp": "2025-12-28T16:11:54.220436+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/layouts", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "3eac326d-1dab-4379-adef-faf17ca8b4d7"}
{"timestamp": "2025-12-28T16:11:54.223511+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "3eac326d-1dab-4379-adef-faf17ca8b4d7"}
{"timestamp": "2025-12-28T16:11:54.224778+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.name = %(name_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3eac326d-1dab-4379-adef-faf17ca8b4d7"}
{"timestamp": "2025-12-28T16:11:54.225155+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'name_1': 'Standard Layout 1766938314.218238'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3eac326d-1dab-4379-adef-faf17ca8b4d7"}
{"timestamp": "2025-12-28T16:11:54.228058+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_layouts (name, rows, seats_per_row, grid) VALUES (%(name)s, %(rows)s, %(seats_per_row)s, %(grid)s::JSON) RETURNING seat_layouts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3eac326d-1dab-4379-adef-faf17ca8b4d7"}
{"timestamp": "2025-12-28T16:11:54.228358+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'name': 'Standard Layout 1766938314.218238', 'rows': 10, 'seats_per_row': 15, 'grid': 'null'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3eac326d-1dab-4379-adef-faf17ca8b4d7"}
{"timestamp": "2025-12-28T16:11:54.230113+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "3eac326d-1dab-4379-adef-faf17ca8b4d7"}
{"timestamp": "2025-12-28T16:11:54.234548+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "3eac326d-1dab-4379-adef-faf17ca8b4d7"}
{"timestamp": "2025-12-28T16:11:54.235626+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3eac326d-1dab-4379-adef-faf17ca8b4d7"}
{"timestamp": "2025-12-28T16:11:54.236097+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'pk_1': 17}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3eac326d-1dab-4379-adef-faf17ca8b4d7"}
{"timestamp": "2025-12-28T16:11:54.238258+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.layout_created with payload: {'layout_id': 17}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "3eac326d-1dab-4379-adef-faf17ca8b4d7"}
{"timestamp": "2025-12-28T16:11:54.239532+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.layout_created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "3eac326d-1dab-4379-adef-faf17ca8b4d7"}
{"timestamp": "2025-12-28T16:11:54.239707+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.layout_created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "3eac326d-1dab-4379-adef-faf17ca8b4d7"}
{"timestamp": "2025-12-28T16:11:54.240997+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/layouts \u2192 201 (0.021s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "3eac326d-1dab-4379-adef-faf17ca8b4d7"}
{"timestamp": "2025-12-28T16:11:54.242983+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "3eac326d-1dab-4379-adef-faf17ca8b4d7"}
{"timestamp": "2025-12-28T16:11:54.253262+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/screens", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "f25a51ec-413c-4405-a942-606361964893"}
{"timestamp": "2025-12-28T16:11:54.256488+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f25a51ec-413c-4405-a942-606361964893"}
{"timestamp": "2025-12-28T16:11:54.257889+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.name = %(name_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f25a51ec-413c-4405-a942-606361964893"}
{"timestamp": "2025-12-28T16:11:54.258302+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00061s] {'name_1': 'Screen 1 1766938314.242138', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f25a51ec-413c-4405-a942-606361964893"}
{"timestamp": "2025-12-28T16:11:54.262151+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id AS seat_layouts_id, seat_layouts.name AS seat_layouts_name, seat_layouts.rows AS seat_layouts_rows, seat_layouts.seats_per_row AS seat_layouts_seats_per_row, seat_layouts.grid AS seat_layouts_grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f25a51ec-413c-4405-a942-606361964893"}
{"timestamp": "2025-12-28T16:11:54.262580+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00067s] {'id_1': 17, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f25a51ec-413c-4405-a942-606361964893"}
{"timestamp": "2025-12-28T16:11:54.265715+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO screens (name, capacity, seat_layout_id) VALUES (%(name)s, %(capacity)s, %(seat_layout_id)s) RETURNING screens.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f25a51ec-413c-4405-a942-606361964893"}
{"timestamp": "2025-12-28T16:11:54.266210+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00064s] {'name': 'Screen 1 1766938314.242138', 'capacity': 150, 'seat_layout_id': 17}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f25a51ec-413c-4405-a942-606361964893"}
{"timestamp": "2025-12-28T16:11:54.268195+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "f25a51ec-413c-4405-a942-606361964893"}
{"timestamp": "2025-12-28T16:11:54.272322+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f25a51ec-413c-4405-a942-606361964893"}
{"timestamp": "2025-12-28T16:11:54.273311+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id, screens.name, screens.capacity, screens.seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f25a51ec-413c-4405-a942-606361964893"}
{"timestamp": "2025-12-28T16:11:54.273678+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'pk_1': 17}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f25a51ec-413c-4405-a942-606361964893"}
{"timestamp": "2025-12-28T16:11:54.275881+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.created with payload: {'screen_id': 17}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "f25a51ec-413c-4405-a942-606361964893"}
{"timestamp": "2025-12-28T16:11:54.295973+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "f25a51ec-413c-4405-a942-606361964893"}
{"timestamp": "2025-12-28T16:11:54.296313+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "f25a51ec-413c-4405-a942-606361964893"}
{"timestamp": "2025-12-28T16:11:54.298275+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/screens \u2192 201 (0.053s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "f25a51ec-413c-4405-a942-606361964893"}
{"timestamp": "2025-12-28T16:11:54.299579+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "f25a51ec-413c-4405-a942-606361964893"}
{"timestamp": "2025-12-28T16:11:54.301750+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /showtimes/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.305820+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.307179+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.307654+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'pk_1': 18}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.310369+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.310685+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'pk_1': 17}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.314569+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.screen_id = %(screen_id_1)s AND showtimes.start_time < %(start_time_1)s AND showtimes.end_time > %(end_time_1)s AND showtimes.is_active = true", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.315063+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00062s] {'screen_id_1': 17, 'start_time_1': datetime.datetime(2025, 12, 29, 21, 0), 'end_time_1': datetime.datetime(2025, 12, 29, 19, 0)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.317987+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO showtimes (start_time, end_time, is_active, format, movie_id, screen_id) VALUES (%(start_time)s, %(end_time)s, %(is_active)s, %(format)s, %(movie_id)s, %(screen_id)s) RETURNING showtimes.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.318425+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'start_time': datetime.datetime(2025, 12, 29, 19, 0), 'end_time': datetime.datetime(2025, 12, 29, 21, 0), 'is_active': True, 'format': 'TWO_D', 'movie_id': 18, 'screen_id': 17}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.320591+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.324955+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.326141+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.326527+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'pk_1': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.330481+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.330955+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'pk_1': 18}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.333508+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.333942+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'pk_1': 17}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.335490+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: showtime.created with payload: {'showtime_id': 14}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.336750+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing showtime.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.336945+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: showtime.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.338106+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /showtimes/ \u2192 201 (0.036s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.338953+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "c8256b56-1f54-4de6-bb84-dc2a442e54d0"}
{"timestamp": "2025-12-28T16:11:54.340909+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /seatavailability/grid/14", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "7d12d1ab-3220-4eda-83ec-6aea282d2b00"}
{"timestamp": "2025-12-28T16:11:54.344191+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "7d12d1ab-3220-4eda-83ec-6aea282d2b00"}
{"timestamp": "2025-12-28T16:11:54.346005+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7d12d1ab-3220-4eda-83ec-6aea282d2b00"}
{"timestamp": "2025-12-28T16:11:54.346576+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00071s] {'showtime_id_1': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7d12d1ab-3220-4eda-83ec-6aea282d2b00"}
{"timestamp": "2025-12-28T16:11:54.350285+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /seatavailability/grid/14 \u2192 200 (0.009s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "7d12d1ab-3220-4eda-83ec-6aea282d2b00"}
{"timestamp": "2025-12-28T16:11:54.351628+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "7d12d1ab-3220-4eda-83ec-6aea282d2b00"}
{"timestamp": "2025-12-28T16:11:54.354078+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /reservations/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.357679+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.358632+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.359081+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.1752s ago] {'pk_1': 21}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.364359+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO reservations (user_id, showtime_id, seat_code, status, created_at, expires_at) VALUES (%(user_id)s, %(showtime_id)s, %(seat_code)s, %(status)s, %(created_at)s, %(expires_at)s) RETURNING reservations.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.365510+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00083s] {'user_id': 21, 'showtime_id': 14, 'seat_code': 'R5-8', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 28, 16, 11, 54, 363797, tzinfo=datetime.timezone.utc), 'expires_at': datetime.datetime(2025, 12, 28, 16, 21, 54, 362698, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.369244+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.375333+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.377384+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT reservations.id, reservations.user_id, reservations.showtime_id, reservations.seat_code, reservations.status, reservations.created_at, reservations.expires_at \nFROM reservations \nWHERE reservations.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.378140+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00097s] {'pk_1': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.382034+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: reservation.created with payload: {'reservation_id': 13, 'user_id': 21, 'showtime_id': 14, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.384043+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing reservation.created to 3 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.387679+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.389532+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s AND seat_locks.seat_code = %(seat_code_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.390096+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00083s] {'showtime_id_1': 14, 'seat_code_1': 'R5-8', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.394104+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_locks (seat_code, showtime_id, status, locked_by_user_id, lock_expires_at) VALUES (%(seat_code)s, %(showtime_id)s, %(status)s, %(locked_by_user_id)s, %(lock_expires_at)s) RETURNING seat_locks.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.394557+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'seat_code': 'R5-8', 'showtime_id': 14, 'status': 'AVAILABLE', 'locked_by_user_id': None, 'lock_expires_at': None}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.398362+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE seat_locks SET status=%(status)s, locked_by_user_id=%(locked_by_user_id)s, lock_expires_at=%(lock_expires_at)s WHERE seat_locks.id = %(seat_locks_id)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.398899+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00074s] {'status': 'LOCKED', 'locked_by_user_id': 21, 'lock_expires_at': datetime.datetime(2025, 12, 28, 16, 21, 54, 396731, tzinfo=datetime.timezone.utc), 'seat_locks_id': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.401250+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.406022+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.407178+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id, seat_locks.seat_code, seat_locks.showtime_id, seat_locks.status, seat_locks.locked_by_user_id, seat_locks.lock_expires_at \nFROM seat_locks \nWHERE seat_locks.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.407603+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'pk_1': 10}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.410397+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: seat.locked with payload: {'showtime_id': 14, 'seat_code': 'R5-8', 'user_id': 21, 'expires_at': '2025-12-28T16:21:54.396731+00:00'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.411256+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.412476+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.413248+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\ud83c\udfab Order handler received reservation.created: {'reservation_id': 13, 'user_id': 21, 'showtime_id': 14, 'seat_code': 'R5-8'}", "module": "handlers", "function": "on_reservation_created", "line": 21, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.413504+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "Creating order for reservation 13", "module": "handlers", "function": "on_reservation_created", "line": 33, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.415080+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.416372+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO orders (user_id, pricing_snapshot, final_amount, is_completed, reservation_id) VALUES (%(user_id)s, %(pricing_snapshot)s::JSON, %(final_amount)s, %(is_completed)s, %(reservation_id)s) RETURNING orders.id, orders.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.416766+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'user_id': 21, 'pricing_snapshot': '{}', 'final_amount': 0, 'is_completed': False, 'reservation_id': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.419547+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.424874+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.426356+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.426802+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00062s] {'pk_1': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.429275+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: order.created with payload: {'order_id': 13, 'reservation_id': 13, 'user_id': 21, 'showtime_id': 14, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.429853+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\u2713 Order created successfully for reservation 13", "module": "handlers", "function": "on_reservation_created", "line": 41, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.430344+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.431511+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.433321+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.434710+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO audit_logs (actor_id, actor_type, action, target_id, target_type, payload, request_id, created_at) VALUES (%(actor_id)s, %(actor_type)s, %(action)s, %(target_id)s, %(target_type)s, %(payload)s::JSON, %(request_id)s, %(created_at)s) RETURNING audit_logs.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.435342+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'actor_id': 21, 'actor_type': 'user', 'action': 'reservation.created', 'target_id': 13, 'target_type': 'reservation', 'payload': '{\"reservation_id\": 13, \"user_id\": 21, \"showtime_id\": 14, \"seat_code\": \"R5-8\"}', 'request_id': None, 'created_at': datetime.datetime(2025, 12, 28, 16, 11, 54, 434264, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.438518+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.442638+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.444103+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT audit_logs.id, audit_logs.actor_id, audit_logs.actor_type, audit_logs.action, audit_logs.target_id, audit_logs.target_type, audit_logs.payload, audit_logs.request_id, audit_logs.created_at \nFROM audit_logs \nWHERE audit_logs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.444478+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'pk_1': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.446529+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.447497+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.448906+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /reservations/ \u2192 200 (0.095s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.450068+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "ae5bd0da-1340-47d3-8620-ced367d5e717"}
{"timestamp": "2025-12-28T16:11:54.451803+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /orders/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "e46d7104-ff0f-4b8d-807c-4e54c4093f72"}
{"timestamp": "2025-12-28T16:11:54.454467+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "e46d7104-ff0f-4b8d-807c-4e54c4093f72"}
{"timestamp": "2025-12-28T16:11:54.455071+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e46d7104-ff0f-4b8d-807c-4e54c4093f72"}
{"timestamp": "2025-12-28T16:11:54.455504+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2717s ago] {'pk_1': 21}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e46d7104-ff0f-4b8d-807c-4e54c4093f72"}
{"timestamp": "2025-12-28T16:11:54.458483+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.user_id = %(user_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e46d7104-ff0f-4b8d-807c-4e54c4093f72"}
{"timestamp": "2025-12-28T16:11:54.458832+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'user_id_1': 21}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e46d7104-ff0f-4b8d-807c-4e54c4093f72"}
{"timestamp": "2025-12-28T16:11:54.460839+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /orders/ \u2192 200 (0.009s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "e46d7104-ff0f-4b8d-807c-4e54c4093f72"}
{"timestamp": "2025-12-28T16:11:54.461720+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "e46d7104-ff0f-4b8d-807c-4e54c4093f72"}
{"timestamp": "2025-12-28T16:11:54.463771+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /payments/order/13/initiate", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "e9f1c143-3660-4f91-8055-e7f2855f8fe4"}
{"timestamp": "2025-12-28T16:11:54.466452+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "e9f1c143-3660-4f91-8055-e7f2855f8fe4"}
{"timestamp": "2025-12-28T16:11:54.467455+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e9f1c143-3660-4f91-8055-e7f2855f8fe4"}
{"timestamp": "2025-12-28T16:11:54.467979+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2841s ago] {'pk_1': 21}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e9f1c143-3660-4f91-8055-e7f2855f8fe4"}
{"timestamp": "2025-12-28T16:11:54.471385+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO payment_attempts (order_id, amount_attempted, status, final_amount, failure_reason, provider_payment_id, created_at) VALUES (%(order_id)s, %(amount_attempted)s, %(status)s, %(final_amount)s, %(failure_reason)s, %(provider_payment_id)s, %(created_at)s) RETURNING payment_attempts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e9f1c143-3660-4f91-8055-e7f2855f8fe4"}
{"timestamp": "2025-12-28T16:11:54.471820+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'order_id': 13, 'amount_attempted': 10.0, 'status': 'PENDING', 'final_amount': 10.0, 'failure_reason': None, 'provider_payment_id': None, 'created_at': datetime.datetime(2025, 12, 28, 16, 11, 54, 470975, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e9f1c143-3660-4f91-8055-e7f2855f8fe4"}
{"timestamp": "2025-12-28T16:11:54.474114+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "e9f1c143-3660-4f91-8055-e7f2855f8fe4"}
{"timestamp": "2025-12-28T16:11:54.478360+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "e9f1c143-3660-4f91-8055-e7f2855f8fe4"}
{"timestamp": "2025-12-28T16:11:54.479667+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT payment_attempts.id, payment_attempts.order_id, payment_attempts.amount_attempted, payment_attempts.status, payment_attempts.final_amount, payment_attempts.failure_reason, payment_attempts.provider_payment_id, payment_attempts.created_at \nFROM payment_attempts \nWHERE payment_attempts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e9f1c143-3660-4f91-8055-e7f2855f8fe4"}
{"timestamp": "2025-12-28T16:11:54.479965+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'pk_1': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e9f1c143-3660-4f91-8055-e7f2855f8fe4"}
{"timestamp": "2025-12-28T16:11:54.482230+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: payment.pending with payload: {'payment_attempt_id': 6, 'order_id': 13, 'amount_attempted': 10.0, 'final_amount': 10.0}", "module": "event_publisher", "function": "publish_event", "line": 20, "request_id": "e9f1c143-3660-4f91-8055-e7f2855f8fe4"}
{"timestamp": "2025-12-28T16:11:54.484097+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing payment.pending to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "e9f1c143-3660-4f91-8055-e7f2855f8fe4"}
{"timestamp": "2025-12-28T16:11:54.484347+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: payment.pending", "module": "event_bus", "function": "publish", "line": 30, "request_id": "e9f1c143-3660-4f91-8055-e7f2855f8fe4"}
{"timestamp": "2025-12-28T16:11:54.485846+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /payments/order/13/initiate \u2192 200 (0.022s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "e9f1c143-3660-4f91-8055-e7f2855f8fe4"}
{"timestamp": "2025-12-28T16:11:54.486869+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "e9f1c143-3660-4f91-8055-e7f2855f8fe4"}
{"timestamp": "2025-12-28T16:11:54.488661+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /payments/6/confirm", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "32f394cb-93b3-4668-ad30-45f4b6519f79"}
{"timestamp": "2025-12-28T16:11:54.491115+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "32f394cb-93b3-4668-ad30-45f4b6519f79"}
{"timestamp": "2025-12-28T16:11:54.491674+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32f394cb-93b3-4668-ad30-45f4b6519f79"}
{"timestamp": "2025-12-28T16:11:54.491960+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.3083s ago] {'pk_1': 21}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32f394cb-93b3-4668-ad30-45f4b6519f79"}
{"timestamp": "2025-12-28T16:11:54.495884+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT payment_attempts.id AS payment_attempts_id, payment_attempts.order_id AS payment_attempts_order_id, payment_attempts.amount_attempted AS payment_attempts_amount_attempted, payment_attempts.status AS payment_attempts_status, payment_attempts.final_amount AS payment_attempts_final_amount, payment_attempts.failure_reason AS payment_attempts_failure_reason, payment_attempts.provider_payment_id AS payment_attempts_provider_payment_id, payment_attempts.created_at AS payment_attempts_created_at \nFROM payment_attempts \nWHERE payment_attempts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32f394cb-93b3-4668-ad30-45f4b6519f79"}
{"timestamp": "2025-12-28T16:11:54.496342+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00065s] {'pk_1': 6}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32f394cb-93b3-4668-ad30-45f4b6519f79"}
{"timestamp": "2025-12-28T16:11:54.499266+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id AS orders_id, orders.user_id AS orders_user_id, orders.pricing_snapshot AS orders_pricing_snapshot, orders.final_amount AS orders_final_amount, orders.is_completed AS orders_is_completed, orders.reservation_id AS orders_reservation_id, orders.created_at AS orders_created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32f394cb-93b3-4668-ad30-45f4b6519f79"}
{"timestamp": "2025-12-28T16:11:54.499737+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'pk_1': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "32f394cb-93b3-4668-ad30-45f4b6519f79"}
{"timestamp": "2025-12-28T16:11:54.501633+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "32f394cb-93b3-4668-ad30-45f4b6519f79"}
{"timestamp": "2025-12-28T16:11:54.512058+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.middleware", "message": "\u2717 POST /payments/6/confirm \u2192 FAILED (0.014s)", "module": "middleware", "function": "dispatch", "line": 83, "request_id": "32f394cb-93b3-4668-ad30-45f4b6519f79", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\middleware.py\", line 57, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 124, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 110, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 390, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\payment\\router.py\", line 50, in confirm_payment_route\n    return mark_payment_succeeded(\n        db=db,\n        payment_attempt_id=payment_attempt_id,\n        provider_payment_id=provider_payment_id\n    )\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\payment\\service.py\", line 66, in mark_payment_succeeded\n    raise ValidationError(\"Final amount not equal to order amount\")\napp.core.errors.ValidationError: Final amount not equal to order amount"}
{"timestamp": "2025-12-28T16:12:29.934660+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T16:12:31.656398+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T16:12:31.656630+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T16:12:31.656865+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.657083+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.657284+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.657508+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.657729+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.657934+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.658126+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.658426+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.658639+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.658814+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.658959+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.659107+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.659308+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.659598+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.659800+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.659973+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.660189+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.660398+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.660579+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.660785+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.660966+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.661211+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.661524+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.661847+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.662135+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.662452+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.662731+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.663077+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.663309+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.663531+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.663788+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.664165+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.664588+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.664889+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.665110+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.665271+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.665408+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.665543+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.665676+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.665831+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.666046+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.666345+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.666691+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.667077+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.667425+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.667742+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/order/{order_id}/initiate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.668012+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/{payment_attempt_id}/confirm", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.668256+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.668440+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.668587+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.668728+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.669052+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.669331+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.669528+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.669749+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.669970+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.670142+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.670337+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.670531+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.670699+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:12:31.670878+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T16:12:31.671005+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T16:12:56.112815+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.169603+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.170085+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.172428+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.172784+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.174676+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.175010+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.177406+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.179969+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.180367+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'email_1': 'test_1766938374.061777@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.409427+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.409848+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'email': 'test_1766938374.061777@example.com', 'hashed_password': '$2b$12$3KZDcEG7spu60DjdNp3Q7OB0OzafJ8.A6hUcGMRVX/ZMNuv5XcHJi', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.412067+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.417762+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.419313+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.419721+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'pk_1': 22}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.422013+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_registered with payload: {'user_id': 22, 'email': 'test_1766938374.061777@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.423276+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_registered to 1 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.439919+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.441630+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.442038+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00062s] {'user_id_1': 22, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.445732+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.446164+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'user_id': 22, 'name': None, 'email': 'test_1766938374.061777@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.448686+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.453700+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.454799+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.455098+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'pk_1': 22}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:12:56.457074+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: user.profile_created with payload: {'profile_id': 22, 'user_id': 22, 'email': 'test_1766938374.061777@example.com', 'name': None}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:13:06.459914+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:13:06.484206+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.event_bus", "message": "\u274c Event handler failed: auth.user_registered -> on_user_registered: ", "module": "event_bus", "function": "_safe_invoke", "line": 43, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 21, in publish_event\n    loop = asyncio.get_running_loop()\nRuntimeError: no running event loop\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\event_bus.py\", line 40, in _safe_invoke\n    await handler(payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\user\\handlers.py\", line 19, in on_user_registered\n    profile_service.create_profile(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        db,\n        ^^^\n        user_id=user_id,\n        ^^^^^^^^^^^^^^^^\n        email=email,\n        ^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\user\\service.py\", line 41, in create_profile\n    publish_event(event[\"type\"], event[\"payload\"])\n    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 34, in publish_event\n    future.result(timeout=10.0)  # 10 second timeout\n    ~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\concurrent\\futures\\_base.py\", line 458, in result\n    raise TimeoutError()\nTimeoutError"}
{"timestamp": "2025-12-28T16:13:06.487133+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing user.profile_created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:13:06.487387+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: user.profile_created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:13:06.488908+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:13:06.489523+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 10.31s ago] {'email_1': 'test_1766938374.061777@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:13:06.703338+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 22, 'email': 'test_1766938374.061777@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:13:06.704774+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:13:06.705029+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:13:06.706353+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (10.594s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:13:06.707372+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "f9eb86a2-ba4a-471b-b65f-28dc19d104b6"}
{"timestamp": "2025-12-28T16:13:06.709714+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "ad74d2e1-fbd1-4571-8fdc-42435b9a36ad"}
{"timestamp": "2025-12-28T16:13:06.717540+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "ad74d2e1-fbd1-4571-8fdc-42435b9a36ad"}
{"timestamp": "2025-12-28T16:13:06.718375+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ad74d2e1-fbd1-4571-8fdc-42435b9a36ad"}
{"timestamp": "2025-12-28T16:13:06.718815+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 10.54s ago] {'email_1': 'test_1766938374.061777@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ad74d2e1-fbd1-4571-8fdc-42435b9a36ad"}
{"timestamp": "2025-12-28T16:13:06.928828+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 22, 'email': 'test_1766938374.061777@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "ad74d2e1-fbd1-4571-8fdc-42435b9a36ad"}
{"timestamp": "2025-12-28T16:13:06.930553+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "ad74d2e1-fbd1-4571-8fdc-42435b9a36ad"}
{"timestamp": "2025-12-28T16:13:06.930818+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "ad74d2e1-fbd1-4571-8fdc-42435b9a36ad"}
{"timestamp": "2025-12-28T16:13:06.931963+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.222s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "ad74d2e1-fbd1-4571-8fdc-42435b9a36ad"}
{"timestamp": "2025-12-28T16:13:06.932905+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "ad74d2e1-fbd1-4571-8fdc-42435b9a36ad"}
{"timestamp": "2025-12-28T16:13:06.934876+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "c385b4b4-b819-424d-9877-6e7b5fbb75d0"}
{"timestamp": "2025-12-28T16:13:06.937704+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c385b4b4-b819-424d-9877-6e7b5fbb75d0"}
{"timestamp": "2025-12-28T16:13:06.939168+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c385b4b4-b819-424d-9877-6e7b5fbb75d0"}
{"timestamp": "2025-12-28T16:13:06.939897+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00073s] {'pk_1': 22}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c385b4b4-b819-424d-9877-6e7b5fbb75d0"}
{"timestamp": "2025-12-28T16:13:06.943722+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c385b4b4-b819-424d-9877-6e7b5fbb75d0"}
{"timestamp": "2025-12-28T16:13:06.945765+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 10.5s ago] {'user_id_1': 22, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c385b4b4-b819-424d-9877-6e7b5fbb75d0"}
{"timestamp": "2025-12-28T16:13:06.949838+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.015s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "c385b4b4-b819-424d-9877-6e7b5fbb75d0"}
{"timestamp": "2025-12-28T16:13:06.951646+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "c385b4b4-b819-424d-9877-6e7b5fbb75d0"}
{"timestamp": "2025-12-28T16:13:06.954392+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "767acaa0-366c-470c-8ab6-2f96a3990fe9"}
{"timestamp": "2025-12-28T16:13:06.957588+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "767acaa0-366c-470c-8ab6-2f96a3990fe9"}
{"timestamp": "2025-12-28T16:13:06.960658+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "767acaa0-366c-470c-8ab6-2f96a3990fe9"}
{"timestamp": "2025-12-28T16:13:06.961280+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00075s] {'title_1': 'The Matrix Reloaded 1766938386.952234'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "767acaa0-366c-470c-8ab6-2f96a3990fe9"}
{"timestamp": "2025-12-28T16:13:06.965388+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO movies (title, description, duration_minutes, release_date, poster_url, trailer_url, is_active, age_rating) VALUES (%(title)s, %(description)s, %(duration_minutes)s, %(release_date)s, %(poster_url)s, %(trailer_url)s, %(is_active)s, %(age_rating)s) RETURNING movies.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "767acaa0-366c-470c-8ab6-2f96a3990fe9"}
{"timestamp": "2025-12-28T16:13:06.966279+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00078s] {'title': 'The Matrix Reloaded 1766938386.952234', 'description': 'Test movie: The Matrix Reloaded 1766938386.952234', 'duration_minutes': 120, 'release_date': None, 'poster_url': None, 'trailer_url': None, 'is_active': True, 'age_rating': 'PG_13'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "767acaa0-366c-470c-8ab6-2f96a3990fe9"}
{"timestamp": "2025-12-28T16:13:06.968350+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "767acaa0-366c-470c-8ab6-2f96a3990fe9"}
{"timestamp": "2025-12-28T16:13:06.974378+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "767acaa0-366c-470c-8ab6-2f96a3990fe9"}
{"timestamp": "2025-12-28T16:13:06.976299+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "767acaa0-366c-470c-8ab6-2f96a3990fe9"}
{"timestamp": "2025-12-28T16:13:06.977018+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00086s] {'pk_1': 19}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "767acaa0-366c-470c-8ab6-2f96a3990fe9"}
{"timestamp": "2025-12-28T16:13:06.980891+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: movie.created with payload: {'movie_id': 19}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "767acaa0-366c-470c-8ab6-2f96a3990fe9"}
{"timestamp": "2025-12-28T16:13:06.983012+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing movie.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "767acaa0-366c-470c-8ab6-2f96a3990fe9"}
{"timestamp": "2025-12-28T16:13:06.983322+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: movie.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "767acaa0-366c-470c-8ab6-2f96a3990fe9"}
{"timestamp": "2025-12-28T16:13:06.984692+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 200 (0.030s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "767acaa0-366c-470c-8ab6-2f96a3990fe9"}
{"timestamp": "2025-12-28T16:13:06.985700+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "767acaa0-366c-470c-8ab6-2f96a3990fe9"}
{"timestamp": "2025-12-28T16:13:06.987964+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/layouts", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "98e24c3d-993d-4922-9e94-699e630bcf72"}
{"timestamp": "2025-12-28T16:13:06.991147+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "98e24c3d-993d-4922-9e94-699e630bcf72"}
{"timestamp": "2025-12-28T16:13:06.992696+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.name = %(name_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "98e24c3d-993d-4922-9e94-699e630bcf72"}
{"timestamp": "2025-12-28T16:13:06.993002+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'name_1': 'Standard Layout 1766938386.985831'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "98e24c3d-993d-4922-9e94-699e630bcf72"}
{"timestamp": "2025-12-28T16:13:06.996428+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_layouts (name, rows, seats_per_row, grid) VALUES (%(name)s, %(rows)s, %(seats_per_row)s, %(grid)s::JSON) RETURNING seat_layouts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "98e24c3d-993d-4922-9e94-699e630bcf72"}
{"timestamp": "2025-12-28T16:13:06.996993+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00058s] {'name': 'Standard Layout 1766938386.985831', 'rows': 10, 'seats_per_row': 15, 'grid': 'null'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "98e24c3d-993d-4922-9e94-699e630bcf72"}
{"timestamp": "2025-12-28T16:13:06.998970+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "98e24c3d-993d-4922-9e94-699e630bcf72"}
{"timestamp": "2025-12-28T16:13:07.003897+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "98e24c3d-993d-4922-9e94-699e630bcf72"}
{"timestamp": "2025-12-28T16:13:07.005149+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "98e24c3d-993d-4922-9e94-699e630bcf72"}
{"timestamp": "2025-12-28T16:13:07.005656+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00058s] {'pk_1': 18}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "98e24c3d-993d-4922-9e94-699e630bcf72"}
{"timestamp": "2025-12-28T16:13:07.009104+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.layout_created with payload: {'layout_id': 18}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "98e24c3d-993d-4922-9e94-699e630bcf72"}
{"timestamp": "2025-12-28T16:13:07.011065+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.layout_created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "98e24c3d-993d-4922-9e94-699e630bcf72"}
{"timestamp": "2025-12-28T16:13:07.011425+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.layout_created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "98e24c3d-993d-4922-9e94-699e630bcf72"}
{"timestamp": "2025-12-28T16:13:07.013032+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/layouts \u2192 201 (0.025s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "98e24c3d-993d-4922-9e94-699e630bcf72"}
{"timestamp": "2025-12-28T16:13:07.014424+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "98e24c3d-993d-4922-9e94-699e630bcf72"}
{"timestamp": "2025-12-28T16:13:07.016438+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/screens", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "ab35256f-bdc8-4f19-9fa3-f7165bbc7063"}
{"timestamp": "2025-12-28T16:13:07.019977+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "ab35256f-bdc8-4f19-9fa3-f7165bbc7063"}
{"timestamp": "2025-12-28T16:13:07.021534+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.name = %(name_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ab35256f-bdc8-4f19-9fa3-f7165bbc7063"}
{"timestamp": "2025-12-28T16:13:07.022147+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00066s] {'name_1': 'Screen 1 1766938387.013955', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ab35256f-bdc8-4f19-9fa3-f7165bbc7063"}
{"timestamp": "2025-12-28T16:13:07.026369+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id AS seat_layouts_id, seat_layouts.name AS seat_layouts_name, seat_layouts.rows AS seat_layouts_rows, seat_layouts.seats_per_row AS seat_layouts_seats_per_row, seat_layouts.grid AS seat_layouts_grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ab35256f-bdc8-4f19-9fa3-f7165bbc7063"}
{"timestamp": "2025-12-28T16:13:07.027067+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00073s] {'id_1': 18, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ab35256f-bdc8-4f19-9fa3-f7165bbc7063"}
{"timestamp": "2025-12-28T16:13:07.030129+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO screens (name, capacity, seat_layout_id) VALUES (%(name)s, %(capacity)s, %(seat_layout_id)s) RETURNING screens.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ab35256f-bdc8-4f19-9fa3-f7165bbc7063"}
{"timestamp": "2025-12-28T16:13:07.030778+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00060s] {'name': 'Screen 1 1766938387.013955', 'capacity': 150, 'seat_layout_id': 18}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ab35256f-bdc8-4f19-9fa3-f7165bbc7063"}
{"timestamp": "2025-12-28T16:13:07.032914+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "ab35256f-bdc8-4f19-9fa3-f7165bbc7063"}
{"timestamp": "2025-12-28T16:13:07.038267+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "ab35256f-bdc8-4f19-9fa3-f7165bbc7063"}
{"timestamp": "2025-12-28T16:13:07.045871+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id, screens.name, screens.capacity, screens.seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ab35256f-bdc8-4f19-9fa3-f7165bbc7063"}
{"timestamp": "2025-12-28T16:13:07.046354+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'pk_1': 18}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "ab35256f-bdc8-4f19-9fa3-f7165bbc7063"}
{"timestamp": "2025-12-28T16:13:07.049787+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.created with payload: {'screen_id': 18}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "ab35256f-bdc8-4f19-9fa3-f7165bbc7063"}
{"timestamp": "2025-12-28T16:13:07.051480+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "ab35256f-bdc8-4f19-9fa3-f7165bbc7063"}
{"timestamp": "2025-12-28T16:13:07.051896+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "ab35256f-bdc8-4f19-9fa3-f7165bbc7063"}
{"timestamp": "2025-12-28T16:13:07.053568+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/screens \u2192 201 (0.037s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "ab35256f-bdc8-4f19-9fa3-f7165bbc7063"}
{"timestamp": "2025-12-28T16:13:07.054895+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "ab35256f-bdc8-4f19-9fa3-f7165bbc7063"}
{"timestamp": "2025-12-28T16:13:07.057389+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /showtimes/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.060813+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.062216+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.062643+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00062s] {'pk_1': 19}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.065586+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.065941+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'pk_1': 18}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.069123+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.screen_id = %(screen_id_1)s AND showtimes.start_time < %(start_time_1)s AND showtimes.end_time > %(end_time_1)s AND showtimes.is_active = true", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.069756+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00064s] {'screen_id_1': 18, 'start_time_1': datetime.datetime(2025, 12, 29, 21, 0), 'end_time_1': datetime.datetime(2025, 12, 29, 19, 0)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.073121+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO showtimes (start_time, end_time, is_active, format, movie_id, screen_id) VALUES (%(start_time)s, %(end_time)s, %(is_active)s, %(format)s, %(movie_id)s, %(screen_id)s) RETURNING showtimes.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.073680+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'start_time': datetime.datetime(2025, 12, 29, 19, 0), 'end_time': datetime.datetime(2025, 12, 29, 21, 0), 'is_active': True, 'format': 'TWO_D', 'movie_id': 19, 'screen_id': 18}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.076572+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.081287+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.082713+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.083175+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00064s] {'pk_1': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.087098+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.087644+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00061s] {'pk_1': 19}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.089981+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.090300+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'pk_1': 18}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.091803+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: showtime.created with payload: {'showtime_id': 15}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.093185+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing showtime.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.093417+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: showtime.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.094806+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /showtimes/ \u2192 201 (0.037s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.095932+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "e7e01e8c-8661-4990-95ea-7ccf59c5b224"}
{"timestamp": "2025-12-28T16:13:07.097800+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /seatavailability/grid/15", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "a1a062eb-834a-4f2c-b929-564d464f9577"}
{"timestamp": "2025-12-28T16:13:07.100268+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "a1a062eb-834a-4f2c-b929-564d464f9577"}
{"timestamp": "2025-12-28T16:13:07.102200+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a1a062eb-834a-4f2c-b929-564d464f9577"}
{"timestamp": "2025-12-28T16:13:07.102585+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'showtime_id_1': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "a1a062eb-834a-4f2c-b929-564d464f9577"}
{"timestamp": "2025-12-28T16:13:07.105789+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /seatavailability/grid/15 \u2192 200 (0.008s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "a1a062eb-834a-4f2c-b929-564d464f9577"}
{"timestamp": "2025-12-28T16:13:07.107043+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "a1a062eb-834a-4f2c-b929-564d464f9577"}
{"timestamp": "2025-12-28T16:13:07.108774+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /reservations/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.111418+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.112332+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.112858+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.174s ago] {'pk_1': 22}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.117501+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO reservations (user_id, showtime_id, seat_code, status, created_at, expires_at) VALUES (%(user_id)s, %(showtime_id)s, %(seat_code)s, %(status)s, %(created_at)s, %(expires_at)s) RETURNING reservations.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.118269+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00071s] {'user_id': 22, 'showtime_id': 15, 'seat_code': 'R5-8', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 28, 16, 13, 7, 116913, tzinfo=datetime.timezone.utc), 'expires_at': datetime.datetime(2025, 12, 28, 16, 23, 7, 115463, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.121108+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.125362+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.126499+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT reservations.id, reservations.user_id, reservations.showtime_id, reservations.seat_code, reservations.status, reservations.created_at, reservations.expires_at \nFROM reservations \nWHERE reservations.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.126910+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'pk_1': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.129074+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: reservation.created with payload: {'reservation_id': 14, 'user_id': 22, 'showtime_id': 15, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.130264+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing reservation.created to 3 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.133713+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.134971+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s AND seat_locks.seat_code = %(seat_code_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.135614+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00066s] {'showtime_id_1': 15, 'seat_code_1': 'R5-8', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.139003+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_locks (seat_code, showtime_id, status, locked_by_user_id, lock_expires_at) VALUES (%(seat_code)s, %(showtime_id)s, %(status)s, %(locked_by_user_id)s, %(lock_expires_at)s) RETURNING seat_locks.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.139421+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'seat_code': 'R5-8', 'showtime_id': 15, 'status': 'AVAILABLE', 'locked_by_user_id': None, 'lock_expires_at': None}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.142644+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE seat_locks SET status=%(status)s, locked_by_user_id=%(locked_by_user_id)s, lock_expires_at=%(lock_expires_at)s WHERE seat_locks.id = %(seat_locks_id)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.143095+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'status': 'LOCKED', 'locked_by_user_id': 22, 'lock_expires_at': datetime.datetime(2025, 12, 28, 16, 23, 7, 141470, tzinfo=datetime.timezone.utc), 'seat_locks_id': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.144988+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.149820+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.150961+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id, seat_locks.seat_code, seat_locks.showtime_id, seat_locks.status, seat_locks.locked_by_user_id, seat_locks.lock_expires_at \nFROM seat_locks \nWHERE seat_locks.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.151340+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00067s] {'pk_1': 11}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:07.153730+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: seat.locked with payload: {'showtime_id': 15, 'seat_code': 'R5-8', 'user_id': 22, 'expires_at': '2025-12-28T16:23:07.141470+00:00'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:17.160447+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:17.164962+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.event_bus", "message": "\u274c Event handler failed: reservation.created -> on_reservation_created: ", "module": "event_bus", "function": "_safe_invoke", "line": 43, "request_id": "457739ff-de95-4512-9985-26010b443e87", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 21, in publish_event\n    loop = asyncio.get_running_loop()\nRuntimeError: no running event loop\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\event_bus.py\", line 40, in _safe_invoke\n    await handler(payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\seat_availability\\handlers.py\", line 24, in on_reservation_created\n    seat_service.lock_seat(\n    ~~~~~~~~~~~~~~~~~~~~~~^\n        db,\n        ^^^\n    ...<2 lines>...\n        user_id=user_id,\n        ^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\seat_availability\\service.py\", line 62, in lock_seat\n    publish_event(\n    ~~~~~~~~~~~~~^\n        \"seat.locked\",\n        ^^^^^^^^^^^^^^\n    ...<5 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 34, in publish_event\n    future.result(timeout=10.0)  # 10 second timeout\n    ~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\concurrent\\futures\\_base.py\", line 458, in result\n    raise TimeoutError()\nTimeoutError"}
{"timestamp": "2025-12-28T16:13:17.167364+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\ud83c\udfab Order handler received reservation.created: {'reservation_id': 14, 'user_id': 22, 'showtime_id': 15, 'seat_code': 'R5-8'}", "module": "handlers", "function": "on_reservation_created", "line": 21, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:17.167589+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "Creating order for reservation 14", "module": "handlers", "function": "on_reservation_created", "line": 33, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:17.169389+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:17.170807+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO orders (user_id, pricing_snapshot, final_amount, is_completed, reservation_id) VALUES (%(user_id)s, %(pricing_snapshot)s::JSON, %(final_amount)s, %(is_completed)s, %(reservation_id)s) RETURNING orders.id, orders.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:17.171263+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00064s] {'user_id': 22, 'pricing_snapshot': '{}', 'final_amount': 0, 'is_completed': False, 'reservation_id': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:17.174329+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:17.179438+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:17.180844+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:17.181350+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00058s] {'pk_1': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:17.183947+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: order.created with payload: {'order_id': 14, 'reservation_id': 14, 'user_id': 22, 'showtime_id': 15, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:27.189362+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.contexts.order.handlers", "message": "Failed to create order from reservation: ", "module": "handlers", "function": "on_reservation_created", "line": 43, "request_id": "457739ff-de95-4512-9985-26010b443e87", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 21, in publish_event\n    loop = asyncio.get_running_loop()\nRuntimeError: no running event loop\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\order\\handlers.py\", line 34, in on_reservation_created\n    create_order_from_event(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        db,\n        ^^^\n    ...<3 lines>...\n        seat_code=seat_code,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\order\\service.py\", line 41, in create_order_from_event\n    publish_event(event[\"type\"], event[\"payload\"])\n    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 34, in publish_event\n    future.result(timeout=10.0)  # 10 second timeout\n    ~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\concurrent\\futures\\_base.py\", line 458, in result\n    raise TimeoutError()\nTimeoutError"}
{"timestamp": "2025-12-28T16:13:27.191587+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:27.192963+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:27.194935+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:27.196701+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO audit_logs (actor_id, actor_type, action, target_id, target_type, payload, request_id, created_at) VALUES (%(actor_id)s, %(actor_type)s, %(action)s, %(target_id)s, %(target_type)s, %(payload)s::JSON, %(request_id)s, %(created_at)s) RETURNING audit_logs.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:27.197205+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00061s] {'actor_id': 22, 'actor_type': 'user', 'action': 'reservation.created', 'target_id': 14, 'target_type': 'reservation', 'payload': '{\"reservation_id\": 14, \"user_id\": 22, \"showtime_id\": 15, \"seat_code\": \"R5-8\"}', 'request_id': None, 'created_at': datetime.datetime(2025, 12, 28, 16, 13, 27, 196187, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:27.199556+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:27.205447+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:27.206815+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT audit_logs.id, audit_logs.actor_id, audit_logs.actor_type, audit_logs.action, audit_logs.target_id, audit_logs.target_type, audit_logs.payload, audit_logs.request_id, audit_logs.created_at \nFROM audit_logs \nWHERE audit_logs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:27.207301+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'pk_1': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:27.209649+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:27.210894+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:27.211294+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing seat.locked to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:27.211452+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: seat.locked", "module": "event_bus", "function": "publish", "line": 30, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:27.211629+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing order.created to 1 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:27.213827+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:27.215004+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT price_modifiers.id, price_modifiers.name, price_modifiers.modifier_type, price_modifiers.amount, price_modifiers.is_active, price_modifiers.applies_to \nFROM price_modifiers \nWHERE price_modifiers.is_active = true", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:27.215446+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:27.222174+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: pricing.snapshot_created with payload: {'order_id': 14, 'snapshot': {'base_price': 1000.0, 'final_price': 1000.0, 'modifiers_applied': []}}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:37.229121+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:37.232961+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.event_bus", "message": "\u274c Event handler failed: order.created -> on_order_created: ", "module": "event_bus", "function": "_safe_invoke", "line": 43, "request_id": "457739ff-de95-4512-9985-26010b443e87", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 21, in publish_event\n    loop = asyncio.get_running_loop()\nRuntimeError: no running event loop\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\event_bus.py\", line 40, in _safe_invoke\n    await handler(payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\pricing\\handlers.py\", line 23, in on_order_created\n    create_snapshot_from_event(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        db=db,\n        ^^^^^^\n        order_id=order_id,\n        ^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\pricing\\service.py\", line 53, in create_snapshot_from_event\n    publish_event(event[\"type\"], event[\"payload\"])\n    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 34, in publish_event\n    future.result(timeout=10.0)  # 10 second timeout\n    ~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\concurrent\\futures\\_base.py\", line 458, in result\n    raise TimeoutError()\nTimeoutError"}
{"timestamp": "2025-12-28T16:13:37.236055+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /reservations/ \u2192 200 (30.127s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:37.237054+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "457739ff-de95-4512-9985-26010b443e87"}
{"timestamp": "2025-12-28T16:13:37.238953+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /orders/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "3b01c161-6ac4-4b20-ba01-d059cf0a33a8"}
{"timestamp": "2025-12-28T16:13:37.241464+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "3b01c161-6ac4-4b20-ba01-d059cf0a33a8"}
{"timestamp": "2025-12-28T16:13:37.242107+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3b01c161-6ac4-4b20-ba01-d059cf0a33a8"}
{"timestamp": "2025-12-28T16:13:37.242552+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 30.31s ago] {'pk_1': 22}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3b01c161-6ac4-4b20-ba01-d059cf0a33a8"}
{"timestamp": "2025-12-28T16:13:37.246536+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.user_id = %(user_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3b01c161-6ac4-4b20-ba01-d059cf0a33a8"}
{"timestamp": "2025-12-28T16:13:37.246944+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00061s] {'user_id_1': 22}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3b01c161-6ac4-4b20-ba01-d059cf0a33a8"}
{"timestamp": "2025-12-28T16:13:37.249278+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /orders/ \u2192 200 (0.010s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "3b01c161-6ac4-4b20-ba01-d059cf0a33a8"}
{"timestamp": "2025-12-28T16:13:37.250185+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "3b01c161-6ac4-4b20-ba01-d059cf0a33a8"}
{"timestamp": "2025-12-28T16:13:37.252032+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /payments/order/14/initiate", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "bffe6478-1970-423a-8b04-6e265071a5df"}
{"timestamp": "2025-12-28T16:13:37.254606+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "bffe6478-1970-423a-8b04-6e265071a5df"}
{"timestamp": "2025-12-28T16:13:37.255377+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bffe6478-1970-423a-8b04-6e265071a5df"}
{"timestamp": "2025-12-28T16:13:37.255825+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 30.32s ago] {'pk_1': 22}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bffe6478-1970-423a-8b04-6e265071a5df"}
{"timestamp": "2025-12-28T16:13:37.259519+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO payment_attempts (order_id, amount_attempted, status, final_amount, failure_reason, provider_payment_id, created_at) VALUES (%(order_id)s, %(amount_attempted)s, %(status)s, %(final_amount)s, %(failure_reason)s, %(provider_payment_id)s, %(created_at)s) RETURNING payment_attempts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bffe6478-1970-423a-8b04-6e265071a5df"}
{"timestamp": "2025-12-28T16:13:37.260119+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'order_id': 14, 'amount_attempted': 10.0, 'status': 'PENDING', 'final_amount': 10.0, 'failure_reason': None, 'provider_payment_id': None, 'created_at': datetime.datetime(2025, 12, 28, 16, 13, 37, 259012, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bffe6478-1970-423a-8b04-6e265071a5df"}
{"timestamp": "2025-12-28T16:13:37.262716+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "bffe6478-1970-423a-8b04-6e265071a5df"}
{"timestamp": "2025-12-28T16:13:37.268307+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "bffe6478-1970-423a-8b04-6e265071a5df"}
{"timestamp": "2025-12-28T16:13:37.269757+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT payment_attempts.id, payment_attempts.order_id, payment_attempts.amount_attempted, payment_attempts.status, payment_attempts.final_amount, payment_attempts.failure_reason, payment_attempts.provider_payment_id, payment_attempts.created_at \nFROM payment_attempts \nWHERE payment_attempts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bffe6478-1970-423a-8b04-6e265071a5df"}
{"timestamp": "2025-12-28T16:13:37.270126+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'pk_1': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "bffe6478-1970-423a-8b04-6e265071a5df"}
{"timestamp": "2025-12-28T16:13:37.272479+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: payment.pending with payload: {'payment_attempt_id': 7, 'order_id': 14, 'amount_attempted': 10.0, 'final_amount': 10.0}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "bffe6478-1970-423a-8b04-6e265071a5df"}
{"timestamp": "2025-12-28T16:13:37.273976+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing payment.pending to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "bffe6478-1970-423a-8b04-6e265071a5df"}
{"timestamp": "2025-12-28T16:13:37.274138+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: payment.pending", "module": "event_bus", "function": "publish", "line": 30, "request_id": "bffe6478-1970-423a-8b04-6e265071a5df"}
{"timestamp": "2025-12-28T16:13:37.275892+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /payments/order/14/initiate \u2192 200 (0.024s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "bffe6478-1970-423a-8b04-6e265071a5df"}
{"timestamp": "2025-12-28T16:13:37.277330+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "bffe6478-1970-423a-8b04-6e265071a5df"}
{"timestamp": "2025-12-28T16:13:37.279159+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /payments/7/confirm", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "7bb3456f-774f-4eb4-81b7-87fed8262ad5"}
{"timestamp": "2025-12-28T16:13:37.282146+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "7bb3456f-774f-4eb4-81b7-87fed8262ad5"}
{"timestamp": "2025-12-28T16:13:37.283116+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7bb3456f-774f-4eb4-81b7-87fed8262ad5"}
{"timestamp": "2025-12-28T16:13:37.283696+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 30.35s ago] {'pk_1': 22}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7bb3456f-774f-4eb4-81b7-87fed8262ad5"}
{"timestamp": "2025-12-28T16:13:37.288460+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT payment_attempts.id AS payment_attempts_id, payment_attempts.order_id AS payment_attempts_order_id, payment_attempts.amount_attempted AS payment_attempts_amount_attempted, payment_attempts.status AS payment_attempts_status, payment_attempts.final_amount AS payment_attempts_final_amount, payment_attempts.failure_reason AS payment_attempts_failure_reason, payment_attempts.provider_payment_id AS payment_attempts_provider_payment_id, payment_attempts.created_at AS payment_attempts_created_at \nFROM payment_attempts \nWHERE payment_attempts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7bb3456f-774f-4eb4-81b7-87fed8262ad5"}
{"timestamp": "2025-12-28T16:13:37.289095+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00068s] {'pk_1': 7}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7bb3456f-774f-4eb4-81b7-87fed8262ad5"}
{"timestamp": "2025-12-28T16:13:37.292726+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id AS orders_id, orders.user_id AS orders_user_id, orders.pricing_snapshot AS orders_pricing_snapshot, orders.final_amount AS orders_final_amount, orders.is_completed AS orders_is_completed, orders.reservation_id AS orders_reservation_id, orders.created_at AS orders_created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7bb3456f-774f-4eb4-81b7-87fed8262ad5"}
{"timestamp": "2025-12-28T16:13:37.293288+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'pk_1': 14}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "7bb3456f-774f-4eb4-81b7-87fed8262ad5"}
{"timestamp": "2025-12-28T16:13:37.295799+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "7bb3456f-774f-4eb4-81b7-87fed8262ad5"}
{"timestamp": "2025-12-28T16:13:37.325715+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "asyncio", "message": "Task was destroyed but it is pending!\ntask: <Task pending name='Task-52' coro=<EventBus.publish() running at C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\event_bus.py:24> cb=[_chain_future.<locals>._call_set_state() at C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py:391]>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "request_id": "7bb3456f-774f-4eb4-81b7-87fed8262ad5"}
{"timestamp": "2025-12-28T16:13:37.331095+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.middleware", "message": "\u2717 POST /payments/7/confirm \u2192 FAILED (0.018s)", "module": "middleware", "function": "dispatch", "line": 83, "request_id": "7bb3456f-774f-4eb4-81b7-87fed8262ad5", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\middleware.py\", line 57, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 124, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 110, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 390, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\payment\\router.py\", line 50, in confirm_payment_route\n    return mark_payment_succeeded(\n        db=db,\n        payment_attempt_id=payment_attempt_id,\n        provider_payment_id=provider_payment_id\n    )\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\payment\\service.py\", line 66, in mark_payment_succeeded\n    raise ValidationError(\"Final amount not equal to order amount\")\napp.core.errors.ValidationError: Final amount not equal to order amount"}
{"timestamp": "2025-12-28T16:20:29.589714+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T16:20:31.620114+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T16:20:31.620403+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T16:20:31.620743+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.621025+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.621231+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.621462+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.621635+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.621818+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.622041+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.622192+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.622305+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.622417+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.622527+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.622727+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.622925+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.623048+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.623168+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.623286+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.623402+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.623515+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.623624+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.623733+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.623921+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.624035+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.624145+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.624294+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.624467+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.624751+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.625090+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.625350+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.625529+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.625690+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.625825+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.625996+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.626166+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.626302+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.626421+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.626533+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.626643+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.626787+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.626942+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.627069+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.627184+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.627296+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.627408+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.627519+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.627628+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.627737+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/order/{order_id}/initiate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.627845+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/{payment_attempt_id}/confirm", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.627954+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.628062+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.628170+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.628280+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.628389+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.628497+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.628605+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.628758+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.628950+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.629105+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.629221+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.629498+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.629721+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:20:31.630007+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T16:20:31.630187+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T16:21:10.678057+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T16:21:12.536777+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T16:21:12.537618+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T16:21:12.538047+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.538408+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.538728+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.539035+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.539290+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.539565+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.540130+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.540796+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.541240+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.541707+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.542130+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.542458+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.542836+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.543152+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.543366+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.543701+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.544009+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.544308+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.544641+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.544935+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.545342+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.545882+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.546787+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.547535+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.548072+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.548643+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.549398+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.549945+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.550699+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.551213+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.551785+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.552381+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.552947+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.553451+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.554132+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.554602+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.555020+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.555450+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.556319+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.557032+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.557463+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.557844+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.558393+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.558770+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.559126+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.559420+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/order/{order_id}/initiate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.559663+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/{payment_attempt_id}/confirm", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.559953+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.560327+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.560768+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.561246+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.561615+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.561931+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.562353+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.562751+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.563163+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.563592+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.564089+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.564633+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.565054+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:21:12.565630+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T16:21:12.566276+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T16:21:30.058615+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.116973+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.117356+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.120067+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.120402+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.122276+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.122784+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.124951+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.127637+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.128009+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00065s] {'email_1': 'test_1766938888.001488@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.354059+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.354342+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'email': 'test_1766938888.001488@example.com', 'hashed_password': '$2b$12$ZaUAYtor/NzAduT6fe7K0..vI2CZh1EhGHLWItdkJRjGAlZcB8jPe', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.356454+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.362069+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.363501+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.363781+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'pk_1': 23}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.366179+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_registered with payload: {'user_id': 23, 'email': 'test_1766938888.001488@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.367498+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_registered to 1 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.391630+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.393113+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.393341+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'user_id_1': 23, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.397568+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.398078+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00053s] {'user_id': 23, 'name': None, 'email': 'test_1766938888.001488@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.400704+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.405140+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.406100+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.406362+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'pk_1': 23}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:30.408654+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: user.profile_created with payload: {'profile_id': 23, 'user_id': 23, 'email': 'test_1766938888.001488@example.com', 'name': None}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:40.417139+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:40.424626+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.event_bus", "message": "\u274c Event handler failed: auth.user_registered -> on_user_registered: ", "module": "event_bus", "function": "_safe_invoke", "line": 43, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 21, in publish_event\n    loop = asyncio.get_running_loop()\nRuntimeError: no running event loop\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\event_bus.py\", line 40, in _safe_invoke\n    await handler(payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\user\\handlers.py\", line 19, in on_user_registered\n    profile_service.create_profile(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        db,\n        ^^^\n        user_id=user_id,\n        ^^^^^^^^^^^^^^^^\n        email=email,\n        ^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\user\\service.py\", line 41, in create_profile\n    publish_event(event[\"type\"], event[\"payload\"])\n    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 34, in publish_event\n    future.result(timeout=10.0)  # 10 second timeout\n    ~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\concurrent\\futures\\_base.py\", line 458, in result\n    raise TimeoutError()\nTimeoutError"}
{"timestamp": "2025-12-28T16:21:40.426963+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing user.profile_created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:40.427172+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: user.profile_created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:40.428242+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:40.428593+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 10.3s ago] {'email_1': 'test_1766938888.001488@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:40.643609+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 23, 'email': 'test_1766938888.001488@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:40.644910+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:40.645083+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:40.646212+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (10.588s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:40.647223+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "8f3a40df-b3ed-4cd2-a9a1-74ae6a85fb1d"}
{"timestamp": "2025-12-28T16:21:40.649456+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "fe9d8238-8eda-44d6-bc7f-ae09325138f5"}
{"timestamp": "2025-12-28T16:21:40.655644+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "fe9d8238-8eda-44d6-bc7f-ae09325138f5"}
{"timestamp": "2025-12-28T16:21:40.656394+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "fe9d8238-8eda-44d6-bc7f-ae09325138f5"}
{"timestamp": "2025-12-28T16:21:40.656718+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 10.53s ago] {'email_1': 'test_1766938888.001488@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "fe9d8238-8eda-44d6-bc7f-ae09325138f5"}
{"timestamp": "2025-12-28T16:21:40.863723+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 23, 'email': 'test_1766938888.001488@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "fe9d8238-8eda-44d6-bc7f-ae09325138f5"}
{"timestamp": "2025-12-28T16:21:40.864968+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "fe9d8238-8eda-44d6-bc7f-ae09325138f5"}
{"timestamp": "2025-12-28T16:21:40.865218+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "fe9d8238-8eda-44d6-bc7f-ae09325138f5"}
{"timestamp": "2025-12-28T16:21:40.866353+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.217s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "fe9d8238-8eda-44d6-bc7f-ae09325138f5"}
{"timestamp": "2025-12-28T16:21:40.867320+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "fe9d8238-8eda-44d6-bc7f-ae09325138f5"}
{"timestamp": "2025-12-28T16:21:40.868940+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "fda39e7a-7c27-4392-a28e-49e7b3439358"}
{"timestamp": "2025-12-28T16:21:40.871521+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "fda39e7a-7c27-4392-a28e-49e7b3439358"}
{"timestamp": "2025-12-28T16:21:40.873072+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "fda39e7a-7c27-4392-a28e-49e7b3439358"}
{"timestamp": "2025-12-28T16:21:40.873604+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00065s] {'pk_1': 23}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "fda39e7a-7c27-4392-a28e-49e7b3439358"}
{"timestamp": "2025-12-28T16:21:40.877458+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "fda39e7a-7c27-4392-a28e-49e7b3439358"}
{"timestamp": "2025-12-28T16:21:40.877937+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 10.49s ago] {'user_id_1': 23, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "fda39e7a-7c27-4392-a28e-49e7b3439358"}
{"timestamp": "2025-12-28T16:21:40.880928+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.012s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "fda39e7a-7c27-4392-a28e-49e7b3439358"}
{"timestamp": "2025-12-28T16:21:40.882059+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "fda39e7a-7c27-4392-a28e-49e7b3439358"}
{"timestamp": "2025-12-28T16:21:40.884318+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "6724acb8-8a74-491d-85bb-8a8c6b2424c5"}
{"timestamp": "2025-12-28T16:21:40.887110+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "6724acb8-8a74-491d-85bb-8a8c6b2424c5"}
{"timestamp": "2025-12-28T16:21:40.889728+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6724acb8-8a74-491d-85bb-8a8c6b2424c5"}
{"timestamp": "2025-12-28T16:21:40.890257+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00068s] {'title_1': 'The Matrix Reloaded 1766938900.882426'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6724acb8-8a74-491d-85bb-8a8c6b2424c5"}
{"timestamp": "2025-12-28T16:21:40.894152+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO movies (title, description, duration_minutes, release_date, poster_url, trailer_url, is_active, age_rating) VALUES (%(title)s, %(description)s, %(duration_minutes)s, %(release_date)s, %(poster_url)s, %(trailer_url)s, %(is_active)s, %(age_rating)s) RETURNING movies.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6724acb8-8a74-491d-85bb-8a8c6b2424c5"}
{"timestamp": "2025-12-28T16:21:40.894685+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'title': 'The Matrix Reloaded 1766938900.882426', 'description': 'Test movie: The Matrix Reloaded 1766938900.882426', 'duration_minutes': 120, 'release_date': None, 'poster_url': None, 'trailer_url': None, 'is_active': True, 'age_rating': 'PG_13'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6724acb8-8a74-491d-85bb-8a8c6b2424c5"}
{"timestamp": "2025-12-28T16:21:40.896883+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "6724acb8-8a74-491d-85bb-8a8c6b2424c5"}
{"timestamp": "2025-12-28T16:21:40.902247+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "6724acb8-8a74-491d-85bb-8a8c6b2424c5"}
{"timestamp": "2025-12-28T16:21:40.903396+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6724acb8-8a74-491d-85bb-8a8c6b2424c5"}
{"timestamp": "2025-12-28T16:21:40.903946+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'pk_1': 20}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6724acb8-8a74-491d-85bb-8a8c6b2424c5"}
{"timestamp": "2025-12-28T16:21:40.907032+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: movie.created with payload: {'movie_id': 20}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "6724acb8-8a74-491d-85bb-8a8c6b2424c5"}
{"timestamp": "2025-12-28T16:21:40.908655+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing movie.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "6724acb8-8a74-491d-85bb-8a8c6b2424c5"}
{"timestamp": "2025-12-28T16:21:40.908942+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: movie.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "6724acb8-8a74-491d-85bb-8a8c6b2424c5"}
{"timestamp": "2025-12-28T16:21:40.910293+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 200 (0.026s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "6724acb8-8a74-491d-85bb-8a8c6b2424c5"}
{"timestamp": "2025-12-28T16:21:40.911092+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "6724acb8-8a74-491d-85bb-8a8c6b2424c5"}
{"timestamp": "2025-12-28T16:21:40.912925+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/layouts", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "4da21445-e697-4f46-bee8-3f49254f029b"}
{"timestamp": "2025-12-28T16:21:40.915836+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "4da21445-e697-4f46-bee8-3f49254f029b"}
{"timestamp": "2025-12-28T16:21:40.917239+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.name = %(name_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4da21445-e697-4f46-bee8-3f49254f029b"}
{"timestamp": "2025-12-28T16:21:40.917673+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'name_1': 'Standard Layout 1766938900.911157'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4da21445-e697-4f46-bee8-3f49254f029b"}
{"timestamp": "2025-12-28T16:21:40.921611+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_layouts (name, rows, seats_per_row, grid) VALUES (%(name)s, %(rows)s, %(seats_per_row)s, %(grid)s::JSON) RETURNING seat_layouts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4da21445-e697-4f46-bee8-3f49254f029b"}
{"timestamp": "2025-12-28T16:21:40.922272+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'name': 'Standard Layout 1766938900.911157', 'rows': 10, 'seats_per_row': 15, 'grid': 'null'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4da21445-e697-4f46-bee8-3f49254f029b"}
{"timestamp": "2025-12-28T16:21:40.924921+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "4da21445-e697-4f46-bee8-3f49254f029b"}
{"timestamp": "2025-12-28T16:21:40.929023+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "4da21445-e697-4f46-bee8-3f49254f029b"}
{"timestamp": "2025-12-28T16:21:40.930138+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4da21445-e697-4f46-bee8-3f49254f029b"}
{"timestamp": "2025-12-28T16:21:40.930504+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'pk_1': 19}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "4da21445-e697-4f46-bee8-3f49254f029b"}
{"timestamp": "2025-12-28T16:21:40.932636+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.layout_created with payload: {'layout_id': 19}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "4da21445-e697-4f46-bee8-3f49254f029b"}
{"timestamp": "2025-12-28T16:21:40.933680+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.layout_created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "4da21445-e697-4f46-bee8-3f49254f029b"}
{"timestamp": "2025-12-28T16:21:40.933811+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.layout_created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "4da21445-e697-4f46-bee8-3f49254f029b"}
{"timestamp": "2025-12-28T16:21:40.934950+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/layouts \u2192 201 (0.022s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "4da21445-e697-4f46-bee8-3f49254f029b"}
{"timestamp": "2025-12-28T16:21:40.936291+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "4da21445-e697-4f46-bee8-3f49254f029b"}
{"timestamp": "2025-12-28T16:21:40.937704+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/screens", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "07fe7190-ea8f-4b27-8860-51f36d706f68"}
{"timestamp": "2025-12-28T16:21:40.940186+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "07fe7190-ea8f-4b27-8860-51f36d706f68"}
{"timestamp": "2025-12-28T16:21:40.941357+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.name = %(name_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "07fe7190-ea8f-4b27-8860-51f36d706f68"}
{"timestamp": "2025-12-28T16:21:40.941734+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00044s] {'name_1': 'Screen 1 1766938900.935816', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "07fe7190-ea8f-4b27-8860-51f36d706f68"}
{"timestamp": "2025-12-28T16:21:40.944868+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id AS seat_layouts_id, seat_layouts.name AS seat_layouts_name, seat_layouts.rows AS seat_layouts_rows, seat_layouts.seats_per_row AS seat_layouts_seats_per_row, seat_layouts.grid AS seat_layouts_grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "07fe7190-ea8f-4b27-8860-51f36d706f68"}
{"timestamp": "2025-12-28T16:21:40.945270+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'id_1': 19, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "07fe7190-ea8f-4b27-8860-51f36d706f68"}
{"timestamp": "2025-12-28T16:21:40.947526+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO screens (name, capacity, seat_layout_id) VALUES (%(name)s, %(capacity)s, %(seat_layout_id)s) RETURNING screens.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "07fe7190-ea8f-4b27-8860-51f36d706f68"}
{"timestamp": "2025-12-28T16:21:40.947853+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00042s] {'name': 'Screen 1 1766938900.935816', 'capacity': 150, 'seat_layout_id': 19}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "07fe7190-ea8f-4b27-8860-51f36d706f68"}
{"timestamp": "2025-12-28T16:21:40.949954+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "07fe7190-ea8f-4b27-8860-51f36d706f68"}
{"timestamp": "2025-12-28T16:21:40.954676+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "07fe7190-ea8f-4b27-8860-51f36d706f68"}
{"timestamp": "2025-12-28T16:21:40.960017+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id, screens.name, screens.capacity, screens.seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "07fe7190-ea8f-4b27-8860-51f36d706f68"}
{"timestamp": "2025-12-28T16:21:40.960453+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'pk_1': 19}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "07fe7190-ea8f-4b27-8860-51f36d706f68"}
{"timestamp": "2025-12-28T16:21:40.962737+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.created with payload: {'screen_id': 19}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "07fe7190-ea8f-4b27-8860-51f36d706f68"}
{"timestamp": "2025-12-28T16:21:40.963989+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "07fe7190-ea8f-4b27-8860-51f36d706f68"}
{"timestamp": "2025-12-28T16:21:40.964157+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "07fe7190-ea8f-4b27-8860-51f36d706f68"}
{"timestamp": "2025-12-28T16:21:40.965343+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/screens \u2192 201 (0.028s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "07fe7190-ea8f-4b27-8860-51f36d706f68"}
{"timestamp": "2025-12-28T16:21:40.966308+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "07fe7190-ea8f-4b27-8860-51f36d706f68"}
{"timestamp": "2025-12-28T16:21:40.968260+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /showtimes/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:40.970606+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:40.971826+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:40.972144+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'pk_1': 20}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:40.974770+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:40.974995+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'pk_1': 19}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:40.977737+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.screen_id = %(screen_id_1)s AND showtimes.start_time < %(start_time_1)s AND showtimes.end_time > %(end_time_1)s AND showtimes.is_active = true", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:40.978190+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'screen_id_1': 19, 'start_time_1': datetime.datetime(2025, 12, 29, 21, 0), 'end_time_1': datetime.datetime(2025, 12, 29, 19, 0)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:40.980763+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO showtimes (start_time, end_time, is_active, format, movie_id, screen_id) VALUES (%(start_time)s, %(end_time)s, %(is_active)s, %(format)s, %(movie_id)s, %(screen_id)s) RETURNING showtimes.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:40.981096+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00043s] {'start_time': datetime.datetime(2025, 12, 29, 19, 0), 'end_time': datetime.datetime(2025, 12, 29, 21, 0), 'is_active': True, 'format': 'TWO_D', 'movie_id': 20, 'screen_id': 19}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:40.984009+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:40.988348+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:40.989237+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:40.989455+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00040s] {'pk_1': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:40.992517+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:40.992750+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'pk_1': 20}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:40.994790+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:40.995006+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00038s] {'pk_1': 19}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:40.996504+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: showtime.created with payload: {'showtime_id': 16}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:40.997570+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing showtime.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:40.997698+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: showtime.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:40.999091+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /showtimes/ \u2192 201 (0.031s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:41.000052+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "c178bda8-45df-4d9c-a5b2-4ee57ada653c"}
{"timestamp": "2025-12-28T16:21:41.001721+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /seatavailability/grid/16", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "09ef6669-5a9e-4f32-bc0d-a1a976aa7af6"}
{"timestamp": "2025-12-28T16:21:41.003955+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "09ef6669-5a9e-4f32-bc0d-a1a976aa7af6"}
{"timestamp": "2025-12-28T16:21:41.005569+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "09ef6669-5a9e-4f32-bc0d-a1a976aa7af6"}
{"timestamp": "2025-12-28T16:21:41.005981+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'showtime_id_1': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "09ef6669-5a9e-4f32-bc0d-a1a976aa7af6"}
{"timestamp": "2025-12-28T16:21:41.008656+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /seatavailability/grid/16 \u2192 200 (0.007s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "09ef6669-5a9e-4f32-bc0d-a1a976aa7af6"}
{"timestamp": "2025-12-28T16:21:41.009442+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "09ef6669-5a9e-4f32-bc0d-a1a976aa7af6"}
{"timestamp": "2025-12-28T16:21:41.011140+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /reservations/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.013709+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.014632+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.015137+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.1422s ago] {'pk_1': 23}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.019350+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO reservations (user_id, showtime_id, seat_code, status, created_at, expires_at) VALUES (%(user_id)s, %(showtime_id)s, %(seat_code)s, %(status)s, %(created_at)s, %(expires_at)s) RETURNING reservations.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.020077+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'user_id': 23, 'showtime_id': 16, 'seat_code': 'R5-8', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 28, 16, 21, 41, 18857, tzinfo=datetime.timezone.utc), 'expires_at': datetime.datetime(2025, 12, 28, 16, 31, 41, 17882, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.022775+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.026924+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.028201+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT reservations.id, reservations.user_id, reservations.showtime_id, reservations.seat_code, reservations.status, reservations.created_at, reservations.expires_at \nFROM reservations \nWHERE reservations.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.028554+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00044s] {'pk_1': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.030970+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: reservation.created with payload: {'reservation_id': 15, 'user_id': 23, 'showtime_id': 16, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.032390+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing reservation.created to 3 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.035351+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.036475+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s AND seat_locks.seat_code = %(seat_code_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.036721+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'showtime_id_1': 16, 'seat_code_1': 'R5-8', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.039870+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_locks (seat_code, showtime_id, status, locked_by_user_id, lock_expires_at) VALUES (%(seat_code)s, %(showtime_id)s, %(status)s, %(locked_by_user_id)s, %(lock_expires_at)s) RETURNING seat_locks.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.040351+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'seat_code': 'R5-8', 'showtime_id': 16, 'status': 'AVAILABLE', 'locked_by_user_id': None, 'lock_expires_at': None}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.043419+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE seat_locks SET status=%(status)s, locked_by_user_id=%(locked_by_user_id)s, lock_expires_at=%(lock_expires_at)s WHERE seat_locks.id = %(seat_locks_id)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.043702+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00044s] {'status': 'LOCKED', 'locked_by_user_id': 23, 'lock_expires_at': datetime.datetime(2025, 12, 28, 16, 31, 41, 42227, tzinfo=datetime.timezone.utc), 'seat_locks_id': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.045626+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.051017+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.052082+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id, seat_locks.seat_code, seat_locks.showtime_id, seat_locks.status, seat_locks.locked_by_user_id, seat_locks.lock_expires_at \nFROM seat_locks \nWHERE seat_locks.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.052379+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'pk_1': 12}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:41.054708+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: seat.locked with payload: {'showtime_id': 16, 'seat_code': 'R5-8', 'user_id': 23, 'expires_at': '2025-12-28T16:31:41.042227+00:00'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:51.059524+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:51.064564+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.event_bus", "message": "\u274c Event handler failed: reservation.created -> on_reservation_created: ", "module": "event_bus", "function": "_safe_invoke", "line": 43, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 21, in publish_event\n    loop = asyncio.get_running_loop()\nRuntimeError: no running event loop\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\event_bus.py\", line 40, in _safe_invoke\n    await handler(payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\seat_availability\\handlers.py\", line 24, in on_reservation_created\n    seat_service.lock_seat(\n    ~~~~~~~~~~~~~~~~~~~~~~^\n        db,\n        ^^^\n    ...<2 lines>...\n        user_id=user_id,\n        ^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\seat_availability\\service.py\", line 62, in lock_seat\n    publish_event(\n    ~~~~~~~~~~~~~^\n        \"seat.locked\",\n        ^^^^^^^^^^^^^^\n    ...<5 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 34, in publish_event\n    future.result(timeout=10.0)  # 10 second timeout\n    ~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\concurrent\\futures\\_base.py\", line 458, in result\n    raise TimeoutError()\nTimeoutError"}
{"timestamp": "2025-12-28T16:21:51.066980+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\ud83c\udfab Order handler received reservation.created: {'reservation_id': 15, 'user_id': 23, 'showtime_id': 16, 'seat_code': 'R5-8'}", "module": "handlers", "function": "on_reservation_created", "line": 21, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:51.067216+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "Creating order for reservation 15", "module": "handlers", "function": "on_reservation_created", "line": 33, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:51.069173+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:51.070497+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO orders (user_id, pricing_snapshot, final_amount, is_completed, reservation_id) VALUES (%(user_id)s, %(pricing_snapshot)s::JSON, %(final_amount)s, %(is_completed)s, %(reservation_id)s) RETURNING orders.id, orders.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:51.070850+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'user_id': 23, 'pricing_snapshot': '{}', 'final_amount': 0, 'is_completed': False, 'reservation_id': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:51.073603+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:51.078509+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:51.079657+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:51.079967+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00044s] {'pk_1': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:21:51.082300+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: order.created with payload: {'order_id': 15, 'reservation_id': 15, 'user_id': 23, 'showtime_id': 16, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:01.095413+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.contexts.order.handlers", "message": "Failed to create order from reservation: ", "module": "handlers", "function": "on_reservation_created", "line": 43, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 21, in publish_event\n    loop = asyncio.get_running_loop()\nRuntimeError: no running event loop\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\order\\handlers.py\", line 34, in on_reservation_created\n    create_order_from_event(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        db,\n        ^^^\n    ...<3 lines>...\n        seat_code=seat_code,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\order\\service.py\", line 41, in create_order_from_event\n    publish_event(event[\"type\"], event[\"payload\"])\n    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 34, in publish_event\n    future.result(timeout=10.0)  # 10 second timeout\n    ~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\concurrent\\futures\\_base.py\", line 458, in result\n    raise TimeoutError()\nTimeoutError"}
{"timestamp": "2025-12-28T16:22:01.097546+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:01.098732+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:01.100608+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:01.102206+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO audit_logs (actor_id, actor_type, action, target_id, target_type, payload, request_id, created_at) VALUES (%(actor_id)s, %(actor_type)s, %(action)s, %(target_id)s, %(target_type)s, %(payload)s::JSON, %(request_id)s, %(created_at)s) RETURNING audit_logs.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:01.102619+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'actor_id': 23, 'actor_type': 'user', 'action': 'reservation.created', 'target_id': 15, 'target_type': 'reservation', 'payload': '{\"reservation_id\": 15, \"user_id\": 23, \"showtime_id\": 16, \"seat_code\": \"R5-8\"}', 'request_id': None, 'created_at': datetime.datetime(2025, 12, 28, 16, 22, 1, 101809, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:01.105325+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:01.111308+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:01.112942+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT audit_logs.id, audit_logs.actor_id, audit_logs.actor_type, audit_logs.action, audit_logs.target_id, audit_logs.target_type, audit_logs.payload, audit_logs.request_id, audit_logs.created_at \nFROM audit_logs \nWHERE audit_logs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:01.113347+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00063s] {'pk_1': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:01.115564+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:01.116616+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:01.117198+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing seat.locked to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:01.117493+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: seat.locked", "module": "event_bus", "function": "publish", "line": 30, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:01.117765+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing order.created to 1 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:01.118813+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.pricing.handlers", "message": "\ud83d\udcb0 Pricing handler received order.created for order 15", "module": "handlers", "function": "on_order_created", "line": 25, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:01.120307+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:01.121586+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT price_modifiers.id, price_modifiers.name, price_modifiers.modifier_type, price_modifiers.amount, price_modifiers.is_active, price_modifiers.applies_to \nFROM price_modifiers \nWHERE price_modifiers.is_active = true", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:01.121810+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00044s] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:01.124496+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: pricing.snapshot_created with payload: {'order_id': 15, 'snapshot': {'base_price': 1000.0, 'final_price': 1000.0, 'modifiers_applied': []}}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:11.131767+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.contexts.pricing.handlers", "message": "\u274c Failed to create pricing snapshot for order 15: ", "module": "handlers", "function": "on_order_created", "line": 36, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:11.132283+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:11.135936+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.event_bus", "message": "\u274c Event handler failed: order.created -> on_order_created: ", "module": "event_bus", "function": "_safe_invoke", "line": 43, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 21, in publish_event\n    loop = asyncio.get_running_loop()\nRuntimeError: no running event loop\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\event_bus.py\", line 40, in _safe_invoke\n    await handler(payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\pricing\\handlers.py\", line 30, in on_order_created\n    result = await create_snapshot_from_event(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\pricing\\service.py\", line 62, in create_snapshot_from_event\n    publish_event(event[\"type\"], event[\"payload\"])\n    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 34, in publish_event\n    future.result(timeout=10.0)  # 10 second timeout\n    ~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\concurrent\\futures\\_base.py\", line 458, in result\n    raise TimeoutError()\nTimeoutError"}
{"timestamp": "2025-12-28T16:22:11.138971+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /reservations/ \u2192 200 (30.128s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:11.140178+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "02eec0a4-fe5d-4c48-83c1-a5fdbc75b2af"}
{"timestamp": "2025-12-28T16:22:11.142063+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /orders/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "5d4bf10d-31f7-4368-ad1f-4dde9e098355"}
{"timestamp": "2025-12-28T16:22:11.144396+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "5d4bf10d-31f7-4368-ad1f-4dde9e098355"}
{"timestamp": "2025-12-28T16:22:11.145040+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5d4bf10d-31f7-4368-ad1f-4dde9e098355"}
{"timestamp": "2025-12-28T16:22:11.145503+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 30.27s ago] {'pk_1': 23}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5d4bf10d-31f7-4368-ad1f-4dde9e098355"}
{"timestamp": "2025-12-28T16:22:11.148953+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.user_id = %(user_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5d4bf10d-31f7-4368-ad1f-4dde9e098355"}
{"timestamp": "2025-12-28T16:22:11.149241+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'user_id_1': 23}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "5d4bf10d-31f7-4368-ad1f-4dde9e098355"}
{"timestamp": "2025-12-28T16:22:11.151616+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /orders/ \u2192 200 (0.010s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "5d4bf10d-31f7-4368-ad1f-4dde9e098355"}
{"timestamp": "2025-12-28T16:22:11.152630+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "5d4bf10d-31f7-4368-ad1f-4dde9e098355"}
{"timestamp": "2025-12-28T16:22:11.154182+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /payments/order/15/initiate", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "f2fe8f6f-f156-41d3-8f0b-ca146e2c55c8"}
{"timestamp": "2025-12-28T16:22:11.156405+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f2fe8f6f-f156-41d3-8f0b-ca146e2c55c8"}
{"timestamp": "2025-12-28T16:22:11.156966+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f2fe8f6f-f156-41d3-8f0b-ca146e2c55c8"}
{"timestamp": "2025-12-28T16:22:11.157393+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 30.29s ago] {'pk_1': 23}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f2fe8f6f-f156-41d3-8f0b-ca146e2c55c8"}
{"timestamp": "2025-12-28T16:22:11.160847+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO payment_attempts (order_id, amount_attempted, status, final_amount, failure_reason, provider_payment_id, created_at) VALUES (%(order_id)s, %(amount_attempted)s, %(status)s, %(final_amount)s, %(failure_reason)s, %(provider_payment_id)s, %(created_at)s) RETURNING payment_attempts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f2fe8f6f-f156-41d3-8f0b-ca146e2c55c8"}
{"timestamp": "2025-12-28T16:22:11.161131+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'order_id': 15, 'amount_attempted': 10.0, 'status': 'PENDING', 'final_amount': 10.0, 'failure_reason': None, 'provider_payment_id': None, 'created_at': datetime.datetime(2025, 12, 28, 16, 22, 11, 160444, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f2fe8f6f-f156-41d3-8f0b-ca146e2c55c8"}
{"timestamp": "2025-12-28T16:22:11.163562+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "f2fe8f6f-f156-41d3-8f0b-ca146e2c55c8"}
{"timestamp": "2025-12-28T16:22:11.168722+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "f2fe8f6f-f156-41d3-8f0b-ca146e2c55c8"}
{"timestamp": "2025-12-28T16:22:11.169940+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT payment_attempts.id, payment_attempts.order_id, payment_attempts.amount_attempted, payment_attempts.status, payment_attempts.final_amount, payment_attempts.failure_reason, payment_attempts.provider_payment_id, payment_attempts.created_at \nFROM payment_attempts \nWHERE payment_attempts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f2fe8f6f-f156-41d3-8f0b-ca146e2c55c8"}
{"timestamp": "2025-12-28T16:22:11.170189+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'pk_1': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "f2fe8f6f-f156-41d3-8f0b-ca146e2c55c8"}
{"timestamp": "2025-12-28T16:22:11.172763+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: payment.pending with payload: {'payment_attempt_id': 8, 'order_id': 15, 'amount_attempted': 10.0, 'final_amount': 10.0}", "module": "event_publisher", "function": "publish_event", "line": 17, "request_id": "f2fe8f6f-f156-41d3-8f0b-ca146e2c55c8"}
{"timestamp": "2025-12-28T16:22:11.174749+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing payment.pending to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "f2fe8f6f-f156-41d3-8f0b-ca146e2c55c8"}
{"timestamp": "2025-12-28T16:22:11.175145+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: payment.pending", "module": "event_bus", "function": "publish", "line": 30, "request_id": "f2fe8f6f-f156-41d3-8f0b-ca146e2c55c8"}
{"timestamp": "2025-12-28T16:22:11.176798+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /payments/order/15/initiate \u2192 200 (0.023s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "f2fe8f6f-f156-41d3-8f0b-ca146e2c55c8"}
{"timestamp": "2025-12-28T16:22:11.177741+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "f2fe8f6f-f156-41d3-8f0b-ca146e2c55c8"}
{"timestamp": "2025-12-28T16:22:11.179750+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /payments/8/confirm", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "68e05875-1dba-4efc-a225-78340f364c7b"}
{"timestamp": "2025-12-28T16:22:11.182887+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "68e05875-1dba-4efc-a225-78340f364c7b"}
{"timestamp": "2025-12-28T16:22:11.183627+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "68e05875-1dba-4efc-a225-78340f364c7b"}
{"timestamp": "2025-12-28T16:22:11.184116+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 30.31s ago] {'pk_1': 23}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "68e05875-1dba-4efc-a225-78340f364c7b"}
{"timestamp": "2025-12-28T16:22:11.187823+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT payment_attempts.id AS payment_attempts_id, payment_attempts.order_id AS payment_attempts_order_id, payment_attempts.amount_attempted AS payment_attempts_amount_attempted, payment_attempts.status AS payment_attempts_status, payment_attempts.final_amount AS payment_attempts_final_amount, payment_attempts.failure_reason AS payment_attempts_failure_reason, payment_attempts.provider_payment_id AS payment_attempts_provider_payment_id, payment_attempts.created_at AS payment_attempts_created_at \nFROM payment_attempts \nWHERE payment_attempts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "68e05875-1dba-4efc-a225-78340f364c7b"}
{"timestamp": "2025-12-28T16:22:11.188296+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'pk_1': 8}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "68e05875-1dba-4efc-a225-78340f364c7b"}
{"timestamp": "2025-12-28T16:22:11.190966+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id AS orders_id, orders.user_id AS orders_user_id, orders.pricing_snapshot AS orders_pricing_snapshot, orders.final_amount AS orders_final_amount, orders.is_completed AS orders_is_completed, orders.reservation_id AS orders_reservation_id, orders.created_at AS orders_created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "68e05875-1dba-4efc-a225-78340f364c7b"}
{"timestamp": "2025-12-28T16:22:11.191399+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00054s] {'pk_1': 15}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "68e05875-1dba-4efc-a225-78340f364c7b"}
{"timestamp": "2025-12-28T16:22:11.193651+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "68e05875-1dba-4efc-a225-78340f364c7b"}
{"timestamp": "2025-12-28T16:22:11.218168+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "asyncio", "message": "Task was destroyed but it is pending!\ntask: <Task pending name='Task-52' coro=<EventBus.publish() running at C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\event_bus.py:24> cb=[_chain_future.<locals>._call_set_state() at C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py:391]>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "request_id": "68e05875-1dba-4efc-a225-78340f364c7b"}
{"timestamp": "2025-12-28T16:22:11.233808+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.middleware", "message": "\u2717 POST /payments/8/confirm \u2192 FAILED (0.016s)", "module": "middleware", "function": "dispatch", "line": 83, "request_id": "68e05875-1dba-4efc-a225-78340f364c7b", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\middleware.py\", line 57, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 124, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 110, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 390, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\payment\\router.py\", line 50, in confirm_payment_route\n    return mark_payment_succeeded(\n        db=db,\n        payment_attempt_id=payment_attempt_id,\n        provider_payment_id=provider_payment_id\n    )\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\payment\\service.py\", line 66, in mark_payment_succeeded\n    raise ValidationError(\"Final amount not equal to order amount\")\napp.core.errors.ValidationError: Final amount not equal to order amount"}
{"timestamp": "2025-12-28T16:24:26.507646+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T16:24:28.502927+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T16:24:28.503161+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T16:24:28.503329+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.503463+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.503704+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.503871+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  HEAD,GET   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.504031+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.504170+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.504320+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.504485+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.504644+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.504803+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.504962+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.505104+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.505283+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.505424+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.505564+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.505701+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.505814+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.505925+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.506034+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.506146+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.506256+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.506365+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.506582+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.506701+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.506900+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.507124+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.507377+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.507682+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.507859+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.507977+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.508090+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.508199+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.508307+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.508414+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.508522+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.508630+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.508775+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.508885+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.509109+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.509452+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.509812+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.510207+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.510429+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.510634+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.510927+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.511189+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/order/{order_id}/initiate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.511356+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/{payment_attempt_id}/confirm", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.511473+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.511582+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.512054+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.512313+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.512546+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.512850+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.512998+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.513109+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.513262+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.513372+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.513480+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.513589+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.513702+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:24:28.513820+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T16:24:28.513926+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T16:25:36.674920+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Cinema Booking System shutting down...", "module": "main", "function": "shutdown_event", "line": 90}
{"timestamp": "2025-12-28T16:25:38.813000+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "\ud83c\udfac Cinema Booking System starting up...", "module": "main", "function": "startup_event", "line": 75}
{"timestamp": "2025-12-28T16:25:38.813247+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "Registered routes:", "module": "main", "function": "startup_event", "line": 76}
{"timestamp": "2025-12-28T16:25:38.813500+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /openapi.json", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.813702+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.813943+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /docs/oauth2-redirect", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.814156+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET,HEAD   /redoc", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.814366+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/register", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.814547+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/login", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.814759+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /auth/refresh", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.814987+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.815231+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /profiles/me", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.815438+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.815652+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.815837+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.816013+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.816186+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /movies/{movie_id}/deactivate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.816344+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /movies/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.816667+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.816909+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.817124+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.817431+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.817765+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/screens/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.818125+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.818451+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.818669+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.818899+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.819189+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /screen/layouts/{layout_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.819492+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.819774+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.819996+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.820217+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/movie/{movie_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.820469+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /showtimes/screen/{screen_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.820698+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PUT        /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.820914+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /showtimes/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.821151+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/lock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.821384+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /seatavailability/unlock", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.821820+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /seatavailability/grid/{showtime_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.822116+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.822303+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.822608+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /reservations/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.822898+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.823220+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /orders/", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.823454+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.823723+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.823979+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.824266+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.824570+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /pricing/modifiers/{modifier_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.824879+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/order/{order_id}/initiate", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.825643+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /payments/{payment_attempt_id}/confirm", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.826034+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/order/{order_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.826375+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /payments/{payment_attempt_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.826572+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/{refund_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.826729+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /refunds/reservation/{reservation_id}", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.826879+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/reservations/{reservation_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.827242+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/orders/{order_id}/cancel", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.827611+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/payments/{payment_attempt_id}/fail", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.827975+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  POST       /admin/refunds/force", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.828213+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.828429+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  PATCH      /admin/users/{user_id}/type", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.828692+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  DELETE     /admin/users/{user_id}/profile", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.828908+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.829132+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "  GET        /health", "module": "main", "function": "startup_event", "line": 81}
{"timestamp": "2025-12-28T16:25:38.829336+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "All event handlers registered", "module": "main", "function": "startup_event", "line": 83}
{"timestamp": "2025-12-28T16:25:38.829531+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "main", "message": "System ready to accept requests", "module": "main", "function": "startup_event", "line": 84}
{"timestamp": "2025-12-28T16:26:05.891400+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/register", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:05.949062+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:05.949558+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:05.952287+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:05.952571+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:05.954591+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:05.954912+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:05.957161+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:05.959889+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:05.960345+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00061s] {'email_1': 'test_1766939163.841812@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.186764+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_credentials (email, hashed_password, is_active, token_version, user_type) VALUES (%(email)s, %(hashed_password)s, %(is_active)s, %(token_version)s, %(user_type)s) RETURNING user_credentials.id, user_credentials.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.187114+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'email': 'test_1766939163.841812@example.com', 'hashed_password': '$2b$12$5HAPekqAi9GxSp4GzsE8GexGhd/iUMfo74HaE29XYRpjKvLWT84tC', 'is_active': True, 'token_version': 0, 'user_type': 'user'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.189225+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.194299+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.195492+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id, user_credentials.email, user_credentials.hashed_password, user_credentials.created_at, user_credentials.is_active, user_credentials.token_version, user_credentials.user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.195753+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00049s] {'pk_1': 24}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.198618+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_registered with payload: {'user_id': 24, 'email': 'test_1766939163.841812@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 16, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.199905+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_registered to 1 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.222180+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.223873+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.224191+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'user_id_1': 24, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.228141+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO user_profiles (user_id, name, email, user_type) VALUES (%(user_id)s, %(name)s, %(email)s, %(user_type)s) RETURNING user_profiles.id, user_profiles.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.228590+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00071s] {'user_id': 24, 'name': None, 'email': 'test_1766939163.841812@example.com', 'user_type': 'USER'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.231313+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.235777+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.236820+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id, user_profiles.user_id, user_profiles.name, user_profiles.email, user_profiles.user_type, user_profiles.created_at \nFROM user_profiles \nWHERE user_profiles.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.237167+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00056s] {'pk_1': 24}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.238980+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: user.profile_created with payload: {'profile_id': 24, 'user_id': 24, 'email': 'test_1766939163.841812@example.com', 'name': None}", "module": "event_publisher", "function": "publish_event", "line": 16, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.239317+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.243831+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.event_bus", "message": "\u274c Event handler failed: auth.user_registered -> on_user_registered: asyncio.run() cannot be called from a running event loop", "module": "event_bus", "function": "_safe_invoke", "line": 43, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\event_bus.py\", line 40, in _safe_invoke\n    await handler(payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\user\\handlers.py\", line 19, in on_user_registered\n    profile_service.create_profile(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        db,\n        ^^^\n        user_id=user_id,\n        ^^^^^^^^^^^^^^^^\n        email=email,\n        ^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\user\\service.py\", line 41, in create_profile\n    publish_event(event[\"type\"], event[\"payload\"])\n    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 17, in publish_event\n    asyncio.run(event_bus.publish(event_type, payload))\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 191, in run\n    raise RuntimeError(\n        \"asyncio.run() cannot be called from a running event loop\")\nRuntimeError: asyncio.run() cannot be called from a running event loop"}
{"timestamp": "2025-12-28T16:26:06.248408+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.248903+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2891s ago] {'email_1': 'test_1766939163.841812@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.460074+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 24, 'email': 'test_1766939163.841812@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 16, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.461132+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.461328+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.462596+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/register \u2192 201 (0.571s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.463783+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "1f8836eb-0ce9-4d43-a6f9-a9b8ee1b7241"}
{"timestamp": "2025-12-28T16:26:06.465758+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /auth/login", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "d15c1de4-4d4e-46ae-87fb-aa7a4ed34327"}
{"timestamp": "2025-12-28T16:26:06.471664+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "d15c1de4-4d4e-46ae-87fb-aa7a4ed34327"}
{"timestamp": "2025-12-28T16:26:06.472409+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.email = %(email_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d15c1de4-4d4e-46ae-87fb-aa7a4ed34327"}
{"timestamp": "2025-12-28T16:26:06.472833+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.5132s ago] {'email_1': 'test_1766939163.841812@example.com', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "d15c1de4-4d4e-46ae-87fb-aa7a4ed34327"}
{"timestamp": "2025-12-28T16:26:06.679360+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: auth.user_logged_in with payload: {'user_id': 24, 'email': 'test_1766939163.841812@example.com'}", "module": "event_publisher", "function": "publish_event", "line": 16, "request_id": "d15c1de4-4d4e-46ae-87fb-aa7a4ed34327"}
{"timestamp": "2025-12-28T16:26:06.680438+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing auth.user_logged_in to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "d15c1de4-4d4e-46ae-87fb-aa7a4ed34327"}
{"timestamp": "2025-12-28T16:26:06.680621+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: auth.user_logged_in", "module": "event_bus", "function": "publish", "line": 30, "request_id": "d15c1de4-4d4e-46ae-87fb-aa7a4ed34327"}
{"timestamp": "2025-12-28T16:26:06.681664+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /auth/login \u2192 200 (0.216s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "d15c1de4-4d4e-46ae-87fb-aa7a4ed34327"}
{"timestamp": "2025-12-28T16:26:06.682994+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "d15c1de4-4d4e-46ae-87fb-aa7a4ed34327"}
{"timestamp": "2025-12-28T16:26:06.684044+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /profiles/me", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "e6a54f8a-a750-413a-80a6-e1dc28acd10e"}
{"timestamp": "2025-12-28T16:26:06.687156+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "e6a54f8a-a750-413a-80a6-e1dc28acd10e"}
{"timestamp": "2025-12-28T16:26:06.688757+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6a54f8a-a750-413a-80a6-e1dc28acd10e"}
{"timestamp": "2025-12-28T16:26:06.689212+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00067s] {'pk_1': 24}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6a54f8a-a750-413a-80a6-e1dc28acd10e"}
{"timestamp": "2025-12-28T16:26:06.692239+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_profiles.id AS user_profiles_id, user_profiles.user_id AS user_profiles_user_id, user_profiles.name AS user_profiles_name, user_profiles.email AS user_profiles_email, user_profiles.user_type AS user_profiles_user_type, user_profiles.created_at AS user_profiles_created_at \nFROM user_profiles \nWHERE user_profiles.user_id = %(user_id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6a54f8a-a750-413a-80a6-e1dc28acd10e"}
{"timestamp": "2025-12-28T16:26:06.692642+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.4689s ago] {'user_id_1': 24, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "e6a54f8a-a750-413a-80a6-e1dc28acd10e"}
{"timestamp": "2025-12-28T16:26:06.695286+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /profiles/me \u2192 200 (0.011s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "e6a54f8a-a750-413a-80a6-e1dc28acd10e"}
{"timestamp": "2025-12-28T16:26:06.696099+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "e6a54f8a-a750-413a-80a6-e1dc28acd10e"}
{"timestamp": "2025-12-28T16:26:06.699168+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /movies/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "3fd49e54-61f2-4e98-ae86-ec9a23cad660"}
{"timestamp": "2025-12-28T16:26:06.702296+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "3fd49e54-61f2-4e98-ae86-ec9a23cad660"}
{"timestamp": "2025-12-28T16:26:06.703965+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.title = %(title_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3fd49e54-61f2-4e98-ae86-ec9a23cad660"}
{"timestamp": "2025-12-28T16:26:06.704274+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00058s] {'title_1': 'The Matrix Reloaded 1766939166.696763'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3fd49e54-61f2-4e98-ae86-ec9a23cad660"}
{"timestamp": "2025-12-28T16:26:06.707731+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO movies (title, description, duration_minutes, release_date, poster_url, trailer_url, is_active, age_rating) VALUES (%(title)s, %(description)s, %(duration_minutes)s, %(release_date)s, %(poster_url)s, %(trailer_url)s, %(is_active)s, %(age_rating)s) RETURNING movies.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3fd49e54-61f2-4e98-ae86-ec9a23cad660"}
{"timestamp": "2025-12-28T16:26:06.708151+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'title': 'The Matrix Reloaded 1766939166.696763', 'description': 'Test movie: The Matrix Reloaded 1766939166.696763', 'duration_minutes': 120, 'release_date': None, 'poster_url': None, 'trailer_url': None, 'is_active': True, 'age_rating': 'PG_13'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3fd49e54-61f2-4e98-ae86-ec9a23cad660"}
{"timestamp": "2025-12-28T16:26:06.710107+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "3fd49e54-61f2-4e98-ae86-ec9a23cad660"}
{"timestamp": "2025-12-28T16:26:06.716201+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "3fd49e54-61f2-4e98-ae86-ec9a23cad660"}
{"timestamp": "2025-12-28T16:26:06.717109+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id, movies.title, movies.description, movies.duration_minutes, movies.release_date, movies.poster_url, movies.trailer_url, movies.is_active, movies.age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3fd49e54-61f2-4e98-ae86-ec9a23cad660"}
{"timestamp": "2025-12-28T16:26:06.717457+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00042s] {'pk_1': 21}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3fd49e54-61f2-4e98-ae86-ec9a23cad660"}
{"timestamp": "2025-12-28T16:26:06.719717+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: movie.created with payload: {'movie_id': 21}", "module": "event_publisher", "function": "publish_event", "line": 16, "request_id": "3fd49e54-61f2-4e98-ae86-ec9a23cad660"}
{"timestamp": "2025-12-28T16:26:06.720910+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing movie.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "3fd49e54-61f2-4e98-ae86-ec9a23cad660"}
{"timestamp": "2025-12-28T16:26:06.721223+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: movie.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "3fd49e54-61f2-4e98-ae86-ec9a23cad660"}
{"timestamp": "2025-12-28T16:26:06.722514+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /movies/ \u2192 200 (0.024s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "3fd49e54-61f2-4e98-ae86-ec9a23cad660"}
{"timestamp": "2025-12-28T16:26:06.723341+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "3fd49e54-61f2-4e98-ae86-ec9a23cad660"}
{"timestamp": "2025-12-28T16:26:06.724980+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/layouts", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "0ee24b4a-daf6-4641-b13d-9f473a7c6f41"}
{"timestamp": "2025-12-28T16:26:06.727513+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "0ee24b4a-daf6-4641-b13d-9f473a7c6f41"}
{"timestamp": "2025-12-28T16:26:06.728850+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.name = %(name_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0ee24b4a-daf6-4641-b13d-9f473a7c6f41"}
{"timestamp": "2025-12-28T16:26:06.729315+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00058s] {'name_1': 'Standard Layout 1766939166.72343'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0ee24b4a-daf6-4641-b13d-9f473a7c6f41"}
{"timestamp": "2025-12-28T16:26:06.732324+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_layouts (name, rows, seats_per_row, grid) VALUES (%(name)s, %(rows)s, %(seats_per_row)s, %(grid)s::JSON) RETURNING seat_layouts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0ee24b4a-daf6-4641-b13d-9f473a7c6f41"}
{"timestamp": "2025-12-28T16:26:06.732659+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00042s] {'name': 'Standard Layout 1766939166.72343', 'rows': 10, 'seats_per_row': 15, 'grid': 'null'}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0ee24b4a-daf6-4641-b13d-9f473a7c6f41"}
{"timestamp": "2025-12-28T16:26:06.734569+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "0ee24b4a-daf6-4641-b13d-9f473a7c6f41"}
{"timestamp": "2025-12-28T16:26:06.738827+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "0ee24b4a-daf6-4641-b13d-9f473a7c6f41"}
{"timestamp": "2025-12-28T16:26:06.739612+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id, seat_layouts.name, seat_layouts.rows, seat_layouts.seats_per_row, seat_layouts.grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0ee24b4a-daf6-4641-b13d-9f473a7c6f41"}
{"timestamp": "2025-12-28T16:26:06.739982+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00034s] {'pk_1': 20}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "0ee24b4a-daf6-4641-b13d-9f473a7c6f41"}
{"timestamp": "2025-12-28T16:26:06.742338+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.layout_created with payload: {'layout_id': 20}", "module": "event_publisher", "function": "publish_event", "line": 16, "request_id": "0ee24b4a-daf6-4641-b13d-9f473a7c6f41"}
{"timestamp": "2025-12-28T16:26:06.743228+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.layout_created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "0ee24b4a-daf6-4641-b13d-9f473a7c6f41"}
{"timestamp": "2025-12-28T16:26:06.743363+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.layout_created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "0ee24b4a-daf6-4641-b13d-9f473a7c6f41"}
{"timestamp": "2025-12-28T16:26:06.744711+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/layouts \u2192 201 (0.020s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "0ee24b4a-daf6-4641-b13d-9f473a7c6f41"}
{"timestamp": "2025-12-28T16:26:06.745615+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "0ee24b4a-daf6-4641-b13d-9f473a7c6f41"}
{"timestamp": "2025-12-28T16:26:06.747020+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /screen/screens", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "55d79692-ddb1-4c63-8118-1c2f9cbd343c"}
{"timestamp": "2025-12-28T16:26:06.749597+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "55d79692-ddb1-4c63-8118-1c2f9cbd343c"}
{"timestamp": "2025-12-28T16:26:06.750853+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.name = %(name_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "55d79692-ddb1-4c63-8118-1c2f9cbd343c"}
{"timestamp": "2025-12-28T16:26:06.751224+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'name_1': 'Screen 1 1766939166.745392', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "55d79692-ddb1-4c63-8118-1c2f9cbd343c"}
{"timestamp": "2025-12-28T16:26:06.757991+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_layouts.id AS seat_layouts_id, seat_layouts.name AS seat_layouts_name, seat_layouts.rows AS seat_layouts_rows, seat_layouts.seats_per_row AS seat_layouts_seats_per_row, seat_layouts.grid AS seat_layouts_grid \nFROM seat_layouts \nWHERE seat_layouts.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "55d79692-ddb1-4c63-8118-1c2f9cbd343c"}
{"timestamp": "2025-12-28T16:26:06.758281+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'id_1': 20, 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "55d79692-ddb1-4c63-8118-1c2f9cbd343c"}
{"timestamp": "2025-12-28T16:26:06.760918+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO screens (name, capacity, seat_layout_id) VALUES (%(name)s, %(capacity)s, %(seat_layout_id)s) RETURNING screens.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "55d79692-ddb1-4c63-8118-1c2f9cbd343c"}
{"timestamp": "2025-12-28T16:26:06.761397+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'name': 'Screen 1 1766939166.745392', 'capacity': 150, 'seat_layout_id': 20}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "55d79692-ddb1-4c63-8118-1c2f9cbd343c"}
{"timestamp": "2025-12-28T16:26:06.763486+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "55d79692-ddb1-4c63-8118-1c2f9cbd343c"}
{"timestamp": "2025-12-28T16:26:06.767574+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "55d79692-ddb1-4c63-8118-1c2f9cbd343c"}
{"timestamp": "2025-12-28T16:26:06.768553+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id, screens.name, screens.capacity, screens.seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "55d79692-ddb1-4c63-8118-1c2f9cbd343c"}
{"timestamp": "2025-12-28T16:26:06.768830+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'pk_1': 20}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "55d79692-ddb1-4c63-8118-1c2f9cbd343c"}
{"timestamp": "2025-12-28T16:26:06.771242+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: screen.created with payload: {'screen_id': 20}", "module": "event_publisher", "function": "publish_event", "line": 16, "request_id": "55d79692-ddb1-4c63-8118-1c2f9cbd343c"}
{"timestamp": "2025-12-28T16:26:06.772204+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing screen.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "55d79692-ddb1-4c63-8118-1c2f9cbd343c"}
{"timestamp": "2025-12-28T16:26:06.772348+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: screen.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "55d79692-ddb1-4c63-8118-1c2f9cbd343c"}
{"timestamp": "2025-12-28T16:26:06.773590+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /screen/screens \u2192 201 (0.027s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "55d79692-ddb1-4c63-8118-1c2f9cbd343c"}
{"timestamp": "2025-12-28T16:26:06.774532+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "55d79692-ddb1-4c63-8118-1c2f9cbd343c"}
{"timestamp": "2025-12-28T16:26:06.776611+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /showtimes/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.778865+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.779917+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.780144+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'pk_1': 21}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.782999+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.783230+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00044s] {'pk_1': 20}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.786283+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.screen_id = %(screen_id_1)s AND showtimes.start_time < %(start_time_1)s AND showtimes.end_time > %(end_time_1)s AND showtimes.is_active = true", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.786731+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00055s] {'screen_id_1': 20, 'start_time_1': datetime.datetime(2025, 12, 29, 21, 0), 'end_time_1': datetime.datetime(2025, 12, 29, 19, 0)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.790244+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO showtimes (start_time, end_time, is_active, format, movie_id, screen_id) VALUES (%(start_time)s, %(end_time)s, %(is_active)s, %(format)s, %(movie_id)s, %(screen_id)s) RETURNING showtimes.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.790974+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00064s] {'start_time': datetime.datetime(2025, 12, 29, 19, 0), 'end_time': datetime.datetime(2025, 12, 29, 21, 0), 'is_active': True, 'format': 'TWO_D', 'movie_id': 21, 'screen_id': 20}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.793420+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.798211+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.799156+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT showtimes.id, showtimes.start_time, showtimes.end_time, showtimes.is_active, showtimes.format, showtimes.movie_id, showtimes.screen_id \nFROM showtimes \nWHERE showtimes.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.799633+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00048s] {'pk_1': 17}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.802768+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT movies.id AS movies_id, movies.title AS movies_title, movies.description AS movies_description, movies.duration_minutes AS movies_duration_minutes, movies.release_date AS movies_release_date, movies.poster_url AS movies_poster_url, movies.trailer_url AS movies_trailer_url, movies.is_active AS movies_is_active, movies.age_rating AS movies_age_rating \nFROM movies \nWHERE movies.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.803216+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'pk_1': 21}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.805765+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT screens.id AS screens_id, screens.name AS screens_name, screens.capacity AS screens_capacity, screens.seat_layout_id AS screens_seat_layout_id \nFROM screens \nWHERE screens.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.806196+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00045s] {'pk_1': 20}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.807891+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: showtime.created with payload: {'showtime_id': 17}", "module": "event_publisher", "function": "publish_event", "line": 16, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.808925+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing showtime.created to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.809101+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: showtime.created", "module": "event_bus", "function": "publish", "line": 30, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.810592+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /showtimes/ \u2192 201 (0.034s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.811623+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "c8abd5d4-ee55-4bdf-8c28-7a1c9ae142a4"}
{"timestamp": "2025-12-28T16:26:06.813371+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /seatavailability/grid/17", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "3f17e16d-b849-47d8-bbfc-aae1177eb0ec"}
{"timestamp": "2025-12-28T16:26:06.815833+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "3f17e16d-b849-47d8-bbfc-aae1177eb0ec"}
{"timestamp": "2025-12-28T16:26:06.817396+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3f17e16d-b849-47d8-bbfc-aae1177eb0ec"}
{"timestamp": "2025-12-28T16:26:06.817678+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'showtime_id_1': 17}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "3f17e16d-b849-47d8-bbfc-aae1177eb0ec"}
{"timestamp": "2025-12-28T16:26:06.820968+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /seatavailability/grid/17 \u2192 200 (0.008s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "3f17e16d-b849-47d8-bbfc-aae1177eb0ec"}
{"timestamp": "2025-12-28T16:26:06.822418+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "3f17e16d-b849-47d8-bbfc-aae1177eb0ec"}
{"timestamp": "2025-12-28T16:26:06.824853+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /reservations/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.828067+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.829010+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.829375+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.1409s ago] {'pk_1': 24}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.833076+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO reservations (user_id, showtime_id, seat_code, status, created_at, expires_at) VALUES (%(user_id)s, %(showtime_id)s, %(seat_code)s, %(status)s, %(created_at)s, %(expires_at)s) RETURNING reservations.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.833562+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'user_id': 24, 'showtime_id': 17, 'seat_code': 'R5-8', 'status': 'ACTIVE', 'created_at': datetime.datetime(2025, 12, 28, 16, 26, 6, 832588, tzinfo=datetime.timezone.utc), 'expires_at': datetime.datetime(2025, 12, 28, 16, 36, 6, 831673, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.836070+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.840370+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.841381+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT reservations.id, reservations.user_id, reservations.showtime_id, reservations.seat_code, reservations.status, reservations.created_at, reservations.expires_at \nFROM reservations \nWHERE reservations.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.841749+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00041s] {'pk_1': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.843877+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: reservation.created with payload: {'reservation_id': 16, 'user_id': 24, 'showtime_id': 17, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 16, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.844920+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing reservation.created to 3 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.847023+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.848072+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id AS seat_locks_id, seat_locks.seat_code AS seat_locks_seat_code, seat_locks.showtime_id AS seat_locks_showtime_id, seat_locks.status AS seat_locks_status, seat_locks.locked_by_user_id AS seat_locks_locked_by_user_id, seat_locks.lock_expires_at AS seat_locks_lock_expires_at \nFROM seat_locks \nWHERE seat_locks.showtime_id = %(showtime_id_1)s AND seat_locks.seat_code = %(seat_code_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.848303+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'showtime_id_1': 17, 'seat_code_1': 'R5-8', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.851288+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO seat_locks (seat_code, showtime_id, status, locked_by_user_id, lock_expires_at) VALUES (%(seat_code)s, %(showtime_id)s, %(status)s, %(locked_by_user_id)s, %(lock_expires_at)s) RETURNING seat_locks.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.851699+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00051s] {'seat_code': 'R5-8', 'showtime_id': 17, 'status': 'AVAILABLE', 'locked_by_user_id': None, 'lock_expires_at': None}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.855557+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE seat_locks SET status=%(status)s, locked_by_user_id=%(locked_by_user_id)s, lock_expires_at=%(lock_expires_at)s WHERE seat_locks.id = %(seat_locks_id)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.855854+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'status': 'LOCKED', 'locked_by_user_id': 24, 'lock_expires_at': datetime.datetime(2025, 12, 28, 16, 36, 6, 853838, tzinfo=datetime.timezone.utc), 'seat_locks_id': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.857678+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.862065+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.862920+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT seat_locks.id, seat_locks.seat_code, seat_locks.showtime_id, seat_locks.status, seat_locks.locked_by_user_id, seat_locks.lock_expires_at \nFROM seat_locks \nWHERE seat_locks.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.863224+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00041s] {'pk_1': 13}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.865185+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: seat.locked with payload: {'showtime_id': 17, 'seat_code': 'R5-8', 'user_id': 24, 'expires_at': '2025-12-28T16:36:06.853838+00:00'}", "module": "event_publisher", "function": "publish_event", "line": 16, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.865571+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.870109+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.event_bus", "message": "\u274c Event handler failed: reservation.created -> on_reservation_created: asyncio.run() cannot be called from a running event loop", "module": "event_bus", "function": "_safe_invoke", "line": 43, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\event_bus.py\", line 40, in _safe_invoke\n    await handler(payload)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\seat_availability\\handlers.py\", line 24, in on_reservation_created\n    seat_service.lock_seat(\n    ~~~~~~~~~~~~~~~~~~~~~~^\n        db,\n        ^^^\n    ...<2 lines>...\n        user_id=user_id,\n        ^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\seat_availability\\service.py\", line 62, in lock_seat\n    publish_event(\n    ~~~~~~~~~~~~~^\n        \"seat.locked\",\n        ^^^^^^^^^^^^^^\n    ...<5 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 17, in publish_event\n    asyncio.run(event_bus.publish(event_type, payload))\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 191, in run\n    raise RuntimeError(\n        \"asyncio.run() cannot be called from a running event loop\")\nRuntimeError: asyncio.run() cannot be called from a running event loop"}
{"timestamp": "2025-12-28T16:26:06.872354+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "\ud83c\udfab Order handler received reservation.created: {'reservation_id': 16, 'user_id': 24, 'showtime_id': 17, 'seat_code': 'R5-8'}", "module": "handlers", "function": "on_reservation_created", "line": 21, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.872640+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.contexts.order.handlers", "message": "Creating order for reservation 16", "module": "handlers", "function": "on_reservation_created", "line": 33, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.874146+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.875338+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO orders (user_id, pricing_snapshot, final_amount, is_completed, reservation_id) VALUES (%(user_id)s, %(pricing_snapshot)s::JSON, %(final_amount)s, %(is_completed)s, %(reservation_id)s) RETURNING orders.id, orders.created_at", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.875570+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00044s] {'user_id': 24, 'pricing_snapshot': '{}', 'final_amount': 0, 'is_completed': False, 'reservation_id': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.878241+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.882162+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.883604+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.884061+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00042s] {'pk_1': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.886377+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: order.created with payload: {'order_id': 16, 'reservation_id': 16, 'user_id': 24, 'showtime_id': 17, 'seat_code': 'R5-8'}", "module": "event_publisher", "function": "publish_event", "line": 16, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.889642+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.contexts.order.handlers", "message": "Failed to create order from reservation: asyncio.run() cannot be called from a running event loop", "module": "handlers", "function": "on_reservation_created", "line": 43, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\order\\handlers.py\", line 34, in on_reservation_created\n    create_order_from_event(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        db,\n        ^^^\n    ...<3 lines>...\n        seat_code=seat_code,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\order\\service.py\", line 41, in create_order_from_event\n    publish_event(event[\"type\"], event[\"payload\"])\n    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\shared\\services\\event_publisher.py\", line 17, in publish_event\n    asyncio.run(event_bus.publish(event_type, payload))\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 191, in run\n    raise RuntimeError(\n        \"asyncio.run() cannot be called from a running event loop\")\nRuntimeError: asyncio.run() cannot be called from a running event loop"}
{"timestamp": "2025-12-28T16:26:06.891732+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.892975+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.894770+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.896122+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO audit_logs (actor_id, actor_type, action, target_id, target_type, payload, request_id, created_at) VALUES (%(actor_id)s, %(actor_type)s, %(action)s, %(target_id)s, %(target_type)s, %(payload)s::JSON, %(request_id)s, %(created_at)s) RETURNING audit_logs.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.896647+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00059s] {'actor_id': 24, 'actor_type': 'user', 'action': 'reservation.created', 'target_id': 16, 'target_type': 'reservation', 'payload': '{\"reservation_id\": 16, \"user_id\": 24, \"showtime_id\": 17, \"seat_code\": \"R5-8\"}', 'request_id': None, 'created_at': datetime.datetime(2025, 12, 28, 16, 26, 6, 895625, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.899826+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.904725+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.905866+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT audit_logs.id, audit_logs.actor_id, audit_logs.actor_type, audit_logs.action, audit_logs.target_id, audit_logs.target_type, audit_logs.payload, audit_logs.request_id, audit_logs.created_at \nFROM audit_logs \nWHERE audit_logs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.906213+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00052s] {'pk_1': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.908951+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.910088+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\u2713 Handler on_reservation_created completed successfully", "module": "event_bus", "function": "_safe_invoke", "line": 41, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.911290+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /reservations/ \u2192 200 (0.087s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.912154+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "720bf9e0-25c0-4d71-9d79-aed408e9a499"}
{"timestamp": "2025-12-28T16:26:06.913587+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 GET /orders/", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "6363f7c6-a4b4-4220-bc55-e7d90decdd1a"}
{"timestamp": "2025-12-28T16:26:06.916068+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "6363f7c6-a4b4-4220-bc55-e7d90decdd1a"}
{"timestamp": "2025-12-28T16:26:06.916792+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6363f7c6-a4b4-4220-bc55-e7d90decdd1a"}
{"timestamp": "2025-12-28T16:26:06.917183+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2287s ago] {'pk_1': 24}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6363f7c6-a4b4-4220-bc55-e7d90decdd1a"}
{"timestamp": "2025-12-28T16:26:06.920188+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id, orders.user_id, orders.pricing_snapshot, orders.final_amount, orders.is_completed, orders.reservation_id, orders.created_at \nFROM orders \nWHERE orders.user_id = %(user_id_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6363f7c6-a4b4-4220-bc55-e7d90decdd1a"}
{"timestamp": "2025-12-28T16:26:06.920587+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00057s] {'user_id_1': 24}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6363f7c6-a4b4-4220-bc55-e7d90decdd1a"}
{"timestamp": "2025-12-28T16:26:06.922892+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 GET /orders/ \u2192 200 (0.009s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "6363f7c6-a4b4-4220-bc55-e7d90decdd1a"}
{"timestamp": "2025-12-28T16:26:06.923751+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "6363f7c6-a4b4-4220-bc55-e7d90decdd1a"}
{"timestamp": "2025-12-28T16:26:06.925356+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /payments/order/16/initiate", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "6103778e-51ea-4c0f-bd8c-b3ceb869763c"}
{"timestamp": "2025-12-28T16:26:06.927509+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "6103778e-51ea-4c0f-bd8c-b3ceb869763c"}
{"timestamp": "2025-12-28T16:26:06.928186+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6103778e-51ea-4c0f-bd8c-b3ceb869763c"}
{"timestamp": "2025-12-28T16:26:06.928537+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2401s ago] {'pk_1': 24}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6103778e-51ea-4c0f-bd8c-b3ceb869763c"}
{"timestamp": "2025-12-28T16:26:06.932515+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO payment_attempts (order_id, amount_attempted, status, final_amount, failure_reason, provider_payment_id, created_at) VALUES (%(order_id)s, %(amount_attempted)s, %(status)s, %(final_amount)s, %(failure_reason)s, %(provider_payment_id)s, %(created_at)s) RETURNING payment_attempts.id", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6103778e-51ea-4c0f-bd8c-b3ceb869763c"}
{"timestamp": "2025-12-28T16:26:06.932920+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00047s] {'order_id': 16, 'amount_attempted': 10.0, 'status': 'PENDING', 'final_amount': 10.0, 'failure_reason': None, 'provider_payment_id': None, 'created_at': datetime.datetime(2025, 12, 28, 16, 26, 6, 932114, tzinfo=datetime.timezone.utc)}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6103778e-51ea-4c0f-bd8c-b3ceb869763c"}
{"timestamp": "2025-12-28T16:26:06.935427+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2708, "request_id": "6103778e-51ea-4c0f-bd8c-b3ceb869763c"}
{"timestamp": "2025-12-28T16:26:06.939782+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "6103778e-51ea-4c0f-bd8c-b3ceb869763c"}
{"timestamp": "2025-12-28T16:26:06.940890+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT payment_attempts.id, payment_attempts.order_id, payment_attempts.amount_attempted, payment_attempts.status, payment_attempts.final_amount, payment_attempts.failure_reason, payment_attempts.provider_payment_id, payment_attempts.created_at \nFROM payment_attempts \nWHERE payment_attempts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6103778e-51ea-4c0f-bd8c-b3ceb869763c"}
{"timestamp": "2025-12-28T16:26:06.941122+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {'pk_1': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "6103778e-51ea-4c0f-bd8c-b3ceb869763c"}
{"timestamp": "2025-12-28T16:26:06.943460+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.shared.services.event_publisher", "message": "\ud83d\udce2 Publishing event: payment.pending with payload: {'payment_attempt_id': 9, 'order_id': 16, 'amount_attempted': 10.0, 'final_amount': 10.0}", "module": "event_publisher", "function": "publish_event", "line": 16, "request_id": "6103778e-51ea-4c0f-bd8c-b3ceb869763c"}
{"timestamp": "2025-12-28T16:26:06.944618+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.event_bus", "message": "\ud83d\udce8 Event bus publishing payment.pending to 0 handlers", "module": "event_bus", "function": "publish", "line": 27, "request_id": "6103778e-51ea-4c0f-bd8c-b3ceb869763c"}
{"timestamp": "2025-12-28T16:26:06.944787+00:00", "level": "\u001b[33mWARNING\u001b[0m", "logger": "app.core.event_bus", "message": "\u26a0\ufe0f  No handlers registered for event: payment.pending", "module": "event_bus", "function": "publish", "line": 30, "request_id": "6103778e-51ea-4c0f-bd8c-b3ceb869763c"}
{"timestamp": "2025-12-28T16:26:06.946011+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2190 POST /payments/order/16/initiate \u2192 200 (0.021s)", "module": "middleware", "function": "dispatch", "line": 63, "request_id": "6103778e-51ea-4c0f-bd8c-b3ceb869763c"}
{"timestamp": "2025-12-28T16:26:06.947165+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "6103778e-51ea-4c0f-bd8c-b3ceb869763c"}
{"timestamp": "2025-12-28T16:26:06.948586+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "app.core.middleware", "message": "\u2192 POST /payments/9/confirm", "module": "middleware", "function": "dispatch", "line": 44, "request_id": "461cdaa6-43c4-4d5b-8576-1726f0e9c1ff"}
{"timestamp": "2025-12-28T16:26:06.950848+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2702, "request_id": "461cdaa6-43c4-4d5b-8576-1726f0e9c1ff"}
{"timestamp": "2025-12-28T16:26:06.951475+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT user_credentials.id AS user_credentials_id, user_credentials.email AS user_credentials_email, user_credentials.hashed_password AS user_credentials_hashed_password, user_credentials.created_at AS user_credentials_created_at, user_credentials.is_active AS user_credentials_is_active, user_credentials.token_version AS user_credentials_token_version, user_credentials.user_type AS user_credentials_user_type \nFROM user_credentials \nWHERE user_credentials.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "461cdaa6-43c4-4d5b-8576-1726f0e9c1ff"}
{"timestamp": "2025-12-28T16:26:06.951782+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2634s ago] {'pk_1': 24}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "461cdaa6-43c4-4d5b-8576-1726f0e9c1ff"}
{"timestamp": "2025-12-28T16:26:06.955220+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT payment_attempts.id AS payment_attempts_id, payment_attempts.order_id AS payment_attempts_order_id, payment_attempts.amount_attempted AS payment_attempts_amount_attempted, payment_attempts.status AS payment_attempts_status, payment_attempts.final_amount AS payment_attempts_final_amount, payment_attempts.failure_reason AS payment_attempts_failure_reason, payment_attempts.provider_payment_id AS payment_attempts_provider_payment_id, payment_attempts.created_at AS payment_attempts_created_at \nFROM payment_attempts \nWHERE payment_attempts.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "461cdaa6-43c4-4d5b-8576-1726f0e9c1ff"}
{"timestamp": "2025-12-28T16:26:06.955703+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00060s] {'pk_1': 9}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "461cdaa6-43c4-4d5b-8576-1726f0e9c1ff"}
{"timestamp": "2025-12-28T16:26:06.958904+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "SELECT orders.id AS orders_id, orders.user_id AS orders_user_id, orders.pricing_snapshot AS orders_pricing_snapshot, orders.final_amount AS orders_final_amount, orders.is_completed AS orders_is_completed, orders.reservation_id AS orders_reservation_id, orders.created_at AS orders_created_at \nFROM orders \nWHERE orders.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "461cdaa6-43c4-4d5b-8576-1726f0e9c1ff"}
{"timestamp": "2025-12-28T16:26:06.959224+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00050s] {'pk_1': 16}", "module": "base", "function": "_execute_context", "line": 1846, "request_id": "461cdaa6-43c4-4d5b-8576-1726f0e9c1ff"}
{"timestamp": "2025-12-28T16:26:06.961412+00:00", "level": "\u001b[32mINFO\u001b[0m", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2705, "request_id": "461cdaa6-43c4-4d5b-8576-1726f0e9c1ff"}
{"timestamp": "2025-12-28T16:26:06.975111+00:00", "level": "\u001b[31mERROR\u001b[0m", "logger": "app.core.middleware", "message": "\u2717 POST /payments/9/confirm \u2192 FAILED (0.015s)", "module": "middleware", "function": "dispatch", "line": 83, "request_id": "461cdaa6-43c4-4d5b-8576-1726f0e9c1ff", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 151, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\streams\\memory.py\", line 126, in receive\n    raise EndOfStream from None\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\core\\middleware.py\", line 57, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 124, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 110, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 390, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 291, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\payment\\router.py\", line 50, in confirm_payment_route\n    return mark_payment_succeeded(\n        db=db,\n        payment_attempt_id=payment_attempt_id,\n        provider_payment_id=provider_payment_id\n    )\n  File \"C:\\Users\\Jayja\\AppData\\Local\\Programs\\Python\\Python313\\python_files\\cinema_backend\\app\\contexts\\payment\\service.py\", line 66, in mark_payment_succeeded\n    raise ValidationError(\"Final amount not equal to order amount\")\napp.core.errors.ValidationError: Final amount not equal to order amount"}
